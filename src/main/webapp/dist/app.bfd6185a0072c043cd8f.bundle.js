!function(e){function t(t){for(var a,i,s=t[0],c=t[1],l=t[2],u=0,p=[];u<s.length;u++)i=s[u],r[i]&&p.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);for(d&&d(t);p.length;)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={1:0},o=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=c;o.push([1378,0]),n()}({1378:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"LABEL_TAG_NO_MATCHING",(function(){return hr})),n.d(a,"LABEL_TAG_FOUND",(function(){return fr})),n.d(a,"LABEL_TAG_NEW",(function(){return gr})),n.d(a,"LABEL_TAG_ERROR_CREATE",(function(){return mr})),n.d(a,"LABEL_TAG_NO_DISPLAY",(function(){return Sr})),n.d(a,"tagMessages",(function(){return Er})),n.d(a,"ERROR_SERVER_500",(function(){return vr})),n.d(a,"ERROR_SERVER_503",(function(){return Tr})),n.d(a,"ERROR_SERVER_400",(function(){return yr})),n.d(a,"ERROR_SERVER_401",(function(){return br})),n.d(a,"ERROR_SERVER_404",(function(){return Cr})),n.d(a,"ERROR_SERVER_405",(function(){return Ir})),n.d(a,"ERROR_SERVER_406",(function(){return Or})),n.d(a,"ERROR_SERVER_409",(function(){return Rr})),n.d(a,"ERROR_SERVER_TOO_MANY",(function(){return kr})),n.d(a,"ERROR_SERVER_UNKNOWN",(function(){return Dr})),n.d(a,"ERROR_SERVER_DOWN",(function(){return _r})),n.d(a,"ERROR_TRANSFORM_FAIL",(function(){return Ar})),n.d(a,"DISPLAY_MESSAGES",(function(){return Nr}));var r={};n.r(r),n.d(r,"getPostProcessingRules",(function(){return qi})),n.d(r,"replacePostProcessingRules",(function(){return Wi})),n.d(r,"getTransformationContent",(function(){return Ki})),n.d(r,"saveTransformationContent",(function(){return zi})),n.d(r,"getTransformationName",(function(){return Yi})),n.d(r,"findMatchingTransformationIndexes",(function(){return Ji})),n.d(r,"saveTransformationToList",(function(){return Xi})),n.d(r,"getDefaultTransformation",(function(){return Qi})),n.d(r,"getDefaultConfig",(function(){return Zi}));var o=n(0),i=n.n(o),s=n(38),c=n.n(s),l=n(19),d=n(532),u=n(311),p=(n(21),n(25),n(23),n(27),n(17),n(18),n(28),n(29),n(30),n(5)),h=n.n(p),f=n(43),g=n(248),m=n(690),S=n(1385),E=(n(54),n(104),n(36),n(691)),v=n.n(E),T=(n(37),{LOGOUT:"/logout",DOCUMENT_TITLE_EC:"Model Workbench | Engagement Cloud",DOCUMENT_TITLE:"Model Workbench",BOT_FRAMEWORK:"MODEL WORKBENCH",MODEL_WORKBENCH:"MODEL WORKBENCH",BOT_OVERVIEW:"Overview",ITS_GROUP:"IAT_INTERNAL",MANAGE_MODELS_DATASETS:"Manage Models & Datasets",CLIENT_PICK_TITLE:"Choose Workspace",ICON_WORKBENCH:"icon_modelWorkbench",CLIENT_APP_SEPARATOR:" ",EQUALS_SEPARATOR:"=",DEFAULT_VALUE:"",OBJECT_DEFAULT_VALUE:{},COMMA_WHITESPACE_SEPARATOR:", ",COMMA_SEPARATOR:",",SC_FORBIDDEN:403,SC_OK:200,HELP:{SEARCH:"https://docs.247.ai/using-search-function-datasets",TRANSFORMATION_LINK:"https://docs.247.ai/specifying-configuration-options-nl-model"},PREFERRED_MAIL_SUFFIX:"@247-inc.com",PRIMARY_MAIL_SUFFIX:"@247.ai",USER_TYPE_INTERNAL:"Internal",USER_TYPE_EXTERNAL:"External",DATASET_EXTERNAL_FLAG:"E",DATASET_INTERNAL_FLAG:"I",UPLOADED_CONFIG_NAME:"Latest Uploaded Config",DEFAULT_CONFIG_NAME:"system_default_en_1",ALTERNATE_DEFAULT_CONFIG_NAME:"system_default_en",DELETE:"DELETE",PROMOTE:"PROMOTE",DEMOTE:"DEMOTE",DROPDOWN_PROMOTE:"Promote",DROPDOWN_DEMOTE:"Demote",DROPDOWN_EDIT:"Edit",DROPDOWN_DELETE:"Delete",VOLUME:"Volume",ESCALATION:"Escalation",VERSION:function(e){return"Version ".concat(e)},ROOT_INTENT:"root_intent",PROJECT_TYPE:{GLOBAL:{NAME:"GLOBAL",MODELS_NAME:{SOCIAL:"Social",SENTIMENT:"Sentiment",YES_NO:"Yes_No",ROOT_INTENT:"Root_Intent"},TOOLTIP:'Standard NLP models used in AIVA applications. Models can be moved from Global to Node Level through the "Demote" process.',TAB_TITLE:function(e){return"Global (".concat(e,")")}},NODE:{NAME:"NODE",TOOLTIP:'Client and/or app specific NLP models. Models can be moved from Node Level to Global through the "Promote" process.',TAB_TITLE:function(e){return"Node Models (".concat(e,")")}}},PROJECT_NAME:"Model Name*",PROJECT_DESCRIPTION:"Model Description",VERTICAL_MARKET:"Vertical Market*",Locale:"Locale*",MODEL_NAME:"Name",MODEL_DESCRIPTION:"Description",VERTICAL:"Vertical",MODEL_LOCALE:"Locale",TRANSFORMATION_TYPES:{CASE_NORMALIZATION:"case-normalization",INPUT_MATCH:"input-match",REGEX_REMOVAL:"regex-removal",REGEX_REPLACE:"regex-replace",SPELL_CHECKING:"spell-checking",STEMS_NOCASE:"stems-nocase",STEMS_NOCASE_URL:"stems-nocase-url",STEMS:"stems",STEMS_URL:"stems-url",STOP_WORDS:"stop-words",TRAINING_DATA_STEMS:"training-data-stems",WHITESPACE_NORMALIZATION:"whitespace-normalization",WORDCLASS_SUBST_REGEX:"wordclass-subst-regex",WORDCLASS_SUBST_TEXT:"wordclass-subst-text",TRANSFORMATION_URL:"url transformation"},TAG_WORD_REGEX:"([0-9a-z_ªµºß-öø-ƀƃƅƈƌ-ƍƒƕƙ-ƛƞơƣƥƨƪ-ƫƭưƴƶƹ-ƺƽ-ƿǆǉǌǎǐǒǔǖǘǚǜ-ǝǟǡǣǥǧǩǫǭǯ-ǰǳǵǹǻǽǿȁȃȅȇȉȋȍȏȑȓȕȗșțȝȟȡȣȥȧȩȫȭȯȱȳ-ȹȼȿ-ɀɂɇɉɋɍɏ-ʓʕ-ʯͱͳͷͻ-ͽΐά-ώϐ-ϑϕ-ϗϙϛϝϟϡϣϥϧϩϫϭϯ-ϳϵϸϻ-ϼа-џѡѣѥѧѩѫѭѯѱѳѵѷѹѻѽѿҁҋҍҏґғҕҗҙқҝҟҡңҥҧҩҫҭүұҳҵҷҹһҽҿӂӄӆӈӊӌӎ-ӏӑӓӕӗәӛӝӟӡӣӥӧөӫӭӯӱӳӵӷӹӻӽӿԁԃԅԇԉԋԍԏԑԓԕԗԙԛԝԟԡԣա-և٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᭐-᭙᮰-᮹᱀-᱉᱐-᱙ᴀ-ᴫᵢ-ᵷᵹ-ᶚḁḃḅḇḉḋḍḏḑḓḕḗḙḛḝḟḡḣḥḧḩḫḭḯḱḳḵḷḹḻḽḿṁṃṅṇṉṋṍṏṑṓṕṗṙṛṝṟṡṣṥṧṩṫṭṯṱṳṵṷṹṻṽṿẁẃẅẇẉẋẍẏẑẓẕ-ẝẟạảấầẩẫậắằẳẵặẹẻẽếềểễệỉịọỏốồổỗộớờởỡợụủứừửữựỳỵỷỹỻỽỿ-ἇἐ-ἕἠ-ἧἰ-ἷὀ-ὅὐ-ὗὠ-ὧὰ-ώᾀ-ᾇᾐ-ᾗᾠ-ᾧᾰ-ᾴᾶ-ᾷιῂ-ῄῆ-ῇῐ-ΐῖ-ῗῠ-ῧῲ-ῴῶ-ῷⁱⁿℊℎ-ℏℓℯℴℹℼ-ℽⅆ-ⅉⅎↄⰰ-ⱞⱡⱥ-ⱦⱨⱪⱬⱱⱳ-ⱴⱶ-ⱼⲁⲃⲅⲇⲉⲋⲍⲏⲑⲓⲕⲗⲙⲛⲝⲟⲡⲣⲥⲧⲩⲫⲭⲯⲱⲳⲵⲷⲹⲻⲽⲿⳁⳃⳅⳇⳉⳋⳍⳏⳑⳓⳕⳗⳙⳛⳝⳟⳡⳣ-ⳤⴀ-ⴥ꘠-꘩ꙁꙃꙅꙇꙉꙋꙍꙏꙑꙓꙕꙗꙙꙛꙝꙟꙣꙥꙧꙩꙫꙭꚁꚃꚅꚇꚉꚋꚍꚏꚑꚓꚕꚗꜣꜥꜧꜩꜫꜭꜯ-ꜱꜳꜵꜷꜹꜻꜽꜿꝁꝃꝅꝇꝉꝋꝍꝏꝑꝓꝕꝗꝙꝛꝝꝟꝡꝣꝥꝧꝩꝫꝭꝯꝱ-ꝸꝺꝼꝿꞁꞃꞅꞇꞌ꣐-꣙꤀-꤉꩐-꩙ﬀ-ﬆﬓ-ﬗ０-９ａ-ｚ]|\ud801[\udc28-\udc4f\udca0-\udca9]|\ud835[\udc1a-\udc33\udc4e-\udc54\udc56-\udc67\udc82-\udc9b\udcb6-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udccf\udcea-\udd03\udd1e-\udd37\udd52-\udd6b\udd86-\udd9f\uddba-\uddd3\uddee-\ude07\ude22-\ude3b\ude56-\ude6f\ude8a-\udea5\udec2-\udeda\udedc-\udee1\udefc-\udf14\udf16-\udf1b\udf36-\udf4e\udf50-\udf55\udf70-\udf88\udf8a-\udf8f\udfaa-\udfc2\udfc4-\udfc9\udfcb\udfce-\udfff])+",ANY_REGEX:"/./",ANY_VALUE:"any",INPUT_PREFIX:"/(?:",INPUT_SUFFIX:")/",DROPZONEJS_COMMON_CONFIG:{maxFiles:1,paramName:"file",addRemoveLinks:!0,maxFileSize:5e9,acceptedFiles:"text/csv, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},TAGGING_GUIDE_UPLOAD_TIMEOUT:12e4,DATASET_UPLOAD_TIMEOUT:6e5,UPLOAD_DEFAULT_MSG:"Click to choose a file or drag it here",ADD_SPEECH_DIALOG_INST:"Select datasets to build speech model",DIGITAL_MODEL:"DIGITAL",VOICE_MODEL:"VOICE",DIGITAL_SPEECH_MODEL:"DIGITAL_SPEECH",SPEECH_MODEL:"SPEECH",MODEL_TYPE:{DIGITAL:"Digital",DIGITAL_SPEECH:"Speech + Digital",SPEECH:"Speech"},TECHNOLOGY:{DIGITAL_TENSORFLOW:"TensorFlow",DIGITAL_NGRAM:"n-grams",SPEECH_SLM:"SLM",NGRAM:"n-gram"},TENSORFLOW_TYPE:{use:"USE",use_large:"USE-Large"},TENSORFLOW_TYPE_VERSION:function(e,t){return"".concat(e,"  ").concat(t," ")},TEST_MODEL_RADIO_LABELS:["Speech","Digital"],DATASETS:"Datasets",ALL_VERSIONS:"All Versions",INTENT_GUIDE:"Intent Guide",SETTINGS:"Settings",OP:{REPLACE:"REPLACE",ADD:"ADD",MOVE:"MOVE",COPY:"COPY",TEST:"TEST"},STATUS:{NULL:"NULL",QUEUED:"QUEUED",RUNNING:"RUNNING",FAILED:"FAILED",COMPLETED:"COMPLETED",ERROR:"ERROR",STARTED:"STARTED",PREVIEW:"PREVIEW",LIVE:"LIVE"},MODEL_ACTION_MENU:{BUILD:"Build",TEST:"Test",TUNE:"Tune",VIEW:"View",VIEW_DIGITAL_URL:"View Digital Url",MODEL_FILE:"Download Model File",TRAINING_OUTPUTS:"Download Training Outputs",ACCURACY_REPORT:"Download Accuracy Report",CONFIGURATION:"Download Configuration",ADD_SPEECH:"Add Speech",REBUILD_SPEECH:"Rebuild Speech",MARK_FOR_DEPLOY:"Mark for deploy",UNMARK_FOR_DEPLOY:"Unmark for deploy",DELETE:"Delete",VIEW_LOGS:"View Logs",BUILD_COMBINED_MODEL:"Add Digital Url"},DIALOGS:{SIMPLE_DIALOG:"SimpleDialog",IMPORT_TAGGING_GUIDE:"TaggingGuideImportDialog",CREATE_DATASET:"CreateDatasetDialog",UNAUTHORIZED_USER:"UnauthorizedUserDialog",DELETE_DIALOG:"DeleteDialog",ADD_SPEECH:"SpeechSelectDatasetDialog",PROGRESS_DIALOG:"ProgressDialog",LINK_DIALOG:"LinkDialog",CREATE_VERSION_DIALOG:"CreateVersionDialog",PROMOTE_DIALOG:"PromoteDialog",RECORD_SPEECH:"RecordSpeechDialog",ADD_INTENT:"AddIntentDialog",COLUMNSELECTOR_DIALOG:"ColumnSelectorDialog",CREATE_MODEL_DIALOG:"CreateModelDialog",DATASET_DIALOG:"DatasetDialog",DATASET_COLUMN_MAPPING_DIALOG:"DatasetColumnMapperDialog",ADD_COMBINED_SPEECH:"CombinedSpeechDialog"},CREATE_MODEL_TABS:{basicInfo:"Basic Info*",transformations:"Pre Processing",postProcessing:"Post Processing",trainingConfigs:"Training Configs",overview:"Overview"},CREATE_INIT_MODEL_TABS:{basicInfo:"Basic Info*",transformations:"Pre Processing",postProcessing:"Post Processing",trainingConfigs:"Training Configs"},CREATE_MODEL_TABS_TRANSFORMATION_TAB:"Pre Processing",CREATE_MODEL_TABS_OVERVIEW_TAB:"Overview",TEST_TABS:{utteranceTestTab:"Utterance Test",batchTestTab:"Batch Test"},TEST_RESULTS_TABS:{intentsTab:"Predicted Intents",transformationsTab:"Transformations",entitiesTab:"Entities"},UI_JSON_TABS:["UI","JSON"],ADMIN_ROLE:"admin",OPERATOR_ROLE:"operator",CLIENT_PICKER_ERROR:"Error in fetching client information. Please contact admin",CLIENT_PICK_ERROR_TITLE:"Client Picker Application",TUNE_VERSION:"TUNE VERSION",BUILD_VERSION:"CREATE VERSION",REVIEW_DATASETS:"REVIEW DATASETS",SHOW_CONTROLS:"SHOW CONTROLS",HIDE_CONTROLS:"HIDE CONTROLS",RUN_TEST:"RUN TEST",ADD:"ADD",COLUMNS_MAPPER:"Columns Mapping",CANCEL:"CANCEL",CREATE:"CREATE",UPDATE:"UPDATE",NEXT:"NEXT",CLOSE:"CLOSE",YES:"YES",NO:"NO",INDEX:"INDEX",LOG_OUT:"LOG OUT",CREATE_MODEL:"Create New Model",UPLOAD_DATASET:"Upload Dataset",UPLOADING_DATASET:"Uploading your file…",UPLOAD_DATASET_SUCCESS:"Your file has been uploaded",CREATE_VERSION:"Create New Version",DIGITAL_URL:"Digital Model Url",SPEECH_TEST_MESSAGE:"Select, record, upload, or link an audio file to run a test",DIGITAL_TEST_MESSAGE:"Type an utterance to run a test",UNKNOWN_MODEL:"Unknown Model. Please recheck.",START_TRANSFORMATION:"Click to start transformation",NEED_TRANSFORMATION:"Needs to be transformed",PROCESS_TRANSFORMATION:"Processing Transformation",DATASET_FILE:"file",SPEECH_FILE:"file",AUDIO_FILE:"audioFile",AUDIO_URL:"audioURL",UTTERANCES:"utterances",FILE_TYPE:{RECORDING:"recording",LINK:"link",UPLOADED:"upload"},AUDIO_TYPE_WAV:"audio/wav",RECORDING_MAX_TIME_LIMIT_MIN:"00",RECORDING_MAX_TIME_LIMIT_SEC:40,TEST_IN_PROGRESS:"Transcribing and preparing results...",SEARCHING_IN_PROGRESS:"Searching...",DATASET_NOT_AVAILABLE_MESSAGE:"Please upload a dataset to start.",UPLOAD_DATASET_MESSAGE:"Please upload a dataset to start model building.",UPLOAD_DATASET_PROGRESS:"You may close this window while we upload your file. Uploading will not cancel. We will prompt you once your file has successfully uploaded.",UPLOAD_DATASET_SUCCESS_MESSAGE:"Your file has been uploaded successfully but not all data has been tagged. Do you want to build a new version of the model?",UPLOAD_DATASET_SUCCESS_WITH_TAG_MESSAGE:"We are ready to build a new version of the model with the uploaded file, do you want to proceed?",UPLOAD_DATASET_SUCCESS_WITHOUT_TAG_MESSAGE:"None of the utterance in the uploaded file is assigned with an intent label. Please refer to the documentation to provide intent labels.",BUILD_MODEL_CONFIRMATION_MESSAGE:"Warning: Not all data has been tagged. Do you still want to proceed?",CREATE_FIRST_VERSION_MESSAGE:"Please create the first version.",CREATE_NEW_MODEL_HEADER:"Select Model Type",CREATE_NEW_MODEL_MESSAGE:"Please select or create a new model.",RETRIEVE_RESULTS_MESSAGE:"Please wait while we retrieve the results...",PREPARE_RESULTS_MESSAGE:"Please wait while we prepare the results...",BATCH_TEST_FAILED_MESSAGE:"The selected batchtest failed. Please select another one.",NO_MODELS_AVAILABLE:function(e,t){return"No models available for the client ".concat(e," ").concat(t)},NO_BATCH_TEST:"You don't have any recent batchtest.",PROJECT_NOT_FOUND:"Requested project is not found.",TAGS_NOT_AVAILABLE:"Please upload a dataset to start.",LOADING_MESSAGE:"Loading...",CHOOSE_TYPE:"Choose Type...",SHOW_OR_HIDE:"Show/Hide Columns",TABLE_CONSTANTS:{RESIZED_WIDTH:"resizedWidth",VISBLE:"visible"},ALL:"ALL",ENVIRONMENTS:{DEV:"dev",QA:"qa",PSR:"psr",STABLE:"stable",STAGING:"staging",PRODUCTION:"production"},LOCALSTORAGE_KEY:{READ_PROJECT_DATASET:"ReadProjectDataset",READ_PROJECT_MODEL:"ReadProjectModel",TAG_DATASET_TABLE:"DatasetTable",MODEL_VIEW:"ModelView",INTENTS_TABLE:"IntentsTable",COLLAPSIBLE_SIDEBAR_OPEN:"isCollapsibleModelOpen"},BORDER:"1px solid #dadadd",noop:function(){},TAGGING_GUIDE_TABLE:{count:{header:"Count",id:"count"},granularIntent:{header:"Granular Intent",id:"intent",placeholder:"format: noun-verb, example: agent-query",mandatory:!0,tooltipText:"Please provide a valid entry."},rollupIntent:{header:"Rollup Intent",id:"rutag",placeholder:"format: Noun_Verb, example: Agent_Query"},description:{header:"Description",id:"description",placeholder:"Add your description"},keywords:{header:"Keywords",id:"keywords",placeholder:"Add any keywords"},examples:{header:"Examples",id:"examples",placeholder:"Add any examples"},comments:{header:"Comments",id:"comments",placeholder:"Add any comments"},delete:{header:"Delete",id:"delete",placeholder:"Delete Intents"}},STATUS_CATEGORY_MAPPING:{QUEUED:"secondary",RUNNING:"primary",STARTED:"primary",FAILED:"danger",COMPLETED:"success",LIVE:"success",PREVIEW:"primary",NULL:"secondary",ERROR:"danger",CANCELLED:"warning"},PROJECT_MODELS_TABLE:{starred:{header:"For Deploy",id:"starred"},datasets:{header:"Datasets",id:"datasetIds"},description:{header:"Description",id:"description"},version:{header:"Versions",id:"version"},type:{header:"Type",id:"modelType"},technology:{header:"Technology",id:"technology"},status:{header:"Status",id:"status"},modelId:{header:"ID",id:"modelToken"},user:{header:"Created By",id:"userId"},created:{header:"Created Time",id:"created"},action:{header:"Actions",id:"action"}},PROJECT_DATASET_TABLE:{name:{header:"Name",id:"name"},description:{header:"Description",id:"description"},type:{header:"Type",id:"type"},locale:{header:"Locale",id:"locale"},status:{header:"Status",id:"status"},user:{header:"User",id:"modifiedBy"},createdAt:{header:"Created Date",id:"createdAt"},action:{header:"Actions",id:"action"}},MODEL_TEST_ENTITIES_TABLE:{name:{header:"Name",id:"name"},value:{header:"Value",id:"value"}},MODEL_TEST_TRANSFORMS_TABLE:{rank:{header:"Rank",id:"rank"},transformation:{header:"Transformation",id:"id"},result:{header:"Result",id:"result"}},MODEL_TEST_INTENTS_TABLE:{rank:{header:"Rank",id:"rank"},intent:{header:"Intent",id:"intent"},score:{header:"Score",id:"score"}},TEXTAREA:"Textarea",TEXTFIELD:"TextField",ACTION_STYLE:{height:"35px"},ACTION_ITEM_STYLE:{marginTop:"10px",paddingLeft:"0px"},NOTIFICATION:{interval:3e3,types:{error:"error",success:"success",default:"default"}},POST_PROCESSING_RULES:{INPUT_MATCH:"input-match",INTENT_MATCH:"intent-match",INTENT_REPLACEMENT:"intent-replacement"},TRAINING_OUTPUT_PURGE_TTL_IN_DAYS:60,TRAINING_OUTPUT_PURGE_MESSAGE_HEADER:"Training output is purged",TRAINING_OUTPUT_PURGE_MESSAGE_BODY:"As per the storage policy, training output for this model has been purged. However you can rebuild the model to re-generate the model training output.",MARK_FOR_DEPLOY_MESSAGE_HEADER:"Mark for deploy",UNMARK_FOR_DEPLOY_MESSAGE_HEADER:"Unmark for deploy",MARK_FOR_DEPLOY_MESSAGE_BODY:"Thank you for your contribution in selecting an improved version for deployment consideration. Please reach out to your account contact to get it validated and deployed.",UNMARK_FOR_DEPLOY_MESSAGE_BODY:"This version will be unmarked for deploy.",OK_CHILDREN_MARK_FOR_DEPLOY:"MARK FOR DEPLOY",OK_CHILDREN_UNMARK_FOR_DEPLOY:"UNMARK FOR DEPLOY",SESSION_TIMEOUT_WARNING_HEADER:"Your session will end in 2 minutes.",SESSION_TIMEOUT_WARNING_MESSAGE:"As a security precaution, you will be signed out due to inactivity. Do you want to continue working?",SESSION_TIMEOUT_WARNING_LOG_MESSAGE:"User clicked on continue working, resetting server session timeout.",SESSION_TIMEOUT_LOGOUT_LOG_MESSAGE:"Session Timed out!! User is being logged out!",SESSION_TIMEOUT_LOGOUT_DIALOG_BUTTON:"Continue Working",SESSION_TIMEOUT_PING_BACKEND:"Pinging Backend!",LOG_LEVEL_INFO:"info",LOG_LEVEL_WARNING:"warning",LOG_LEVEL_ERROR:"error",DROPZONE:{ACCEPCTED:"Drop your file here",REJECTED:function(e){return"File is not in accepted format.\n    Please upload ".concat(e," again.")}},VALIDATION_MSG:function(e){return"Please provide a ".concat(e," ")},DATASET_NAME_SIZE_LIMIT:64,TRANSFORMATION_ITEM_NAME_LIMIT:64,INVALID_ENTERED_NAME:"Only alphanumeric characters are allowed.",VALIDATION_NAME_SIZE_MSG:"Oops, Exceeded maximum size of 64 characters.",ALERT_TRANSFORMATION:function(e){return"Url Transformation for ".concat(e," exists already")},VALIDATION_NO_DATA_MSG:"Please provide a name",TYPE_MSG:"Please select a type",NAME_REGEX:"[a-z0-9A-Z_][a-z0-9A-Z_-\\s]*",TRANSFORMATION_ITEM_NAME_REGEX:"[a-zA-Z][a-zA-Z-]*",VALIDATION_SPLIT_INTERNAL_MSG:"Only range between 2 to 10 is allowed.",VALIDATION_SPLIT_EXTERNAL_MSG:"Only range between 2 to 5 is allowed.",VALIDATION_SPLIT_NO_DATA_MSG:"Please provide a valid entry.",MIN_VALIDATION_SPLIT_INTERNAL:2,MAX_VALIDATION_SPLIT_INTERNAL:10,MAX_VALIDATION_SPLIT_EXTERNAL:5,MAX_CLASS_LENGTH:50,MIN_CLASS_LENGTH:8,WORD_CLASS_SYNTAX:"_class_",UTTERANCE_PLACEHOLDER_TEXT:function(e){return"Type utterance here... example: ".concat(e)},SPEECH_DIALOG:{BUNDLED:"bundled-data",UNBUNDLED:"unbundled-data",BUNDELED_LABEL:"Bundle GRXML and SLM output",UNBUNDLED_LABEL:"Separate GRXML from SLM output",MORE_OPTION:"MORE OPTIONS >",INVALID_FILE_CONTENT:"File format or content is invalid. Please consult documentation."},DATASET_TYPE_DEFAULT:"Chat/Text",SUGGESTED_INTENT_DEFAULT:!1,PREFERENCES:"Preferences",NAV_MODEL_TECHNOLOGIES:"Model Technologies",NAV_MODEL_MONITORING:"Model Monitoring",MODEL_TECHNOLOGY_TITLE:"Model Technology",MODEL_MONITORING_CONFIG_TITLE:"Model Monitoring configuration",MODEL_TECHNOLOGY_DESCRIPTION:"Select one from the list below to set as a default technology.",MODEL_MONITORING_DESCRIPTION:"Set default for Model monitoring. You can set the individual model and node-level threshold under the 'Setting' tab on model page",SAVE_DIALOG_TITLE:"Are you sure",SAVE_DIALOG_CONTENT:"Changing the default value will not affect the already existing models, instead the new models will use the default technology. You can always change the technology while creating or editing a model version",SAVE_DIALOG_CHECKBOX:"Update model technology of all the existing models to this default",SETTINGS_NOTIFICATION_MESSAGE:function(e){return"Model default is successfully updated to ".concat(e)},MODEL_TECHNOLOGY:{USE:"use_large",N_GRAM:"n-gram",TENSORFLOW_LABEL:function(e,t){return"TensorFlow USE-Large ".concat(e,"    \n").concat(t)},N_GRAM_LABEL:function(e){return"n-grams\n".concat(e)}},DEFAULT_TEXT:"(Default)",CHECKBOX_LABEL:"Use it as default for this model",TENSORFLOW_VERSION:"v1.3",MODEL_LEVEL_MONITORING_THRESHOLD_TITLE:"Model Level Monitoring Threshold",NODE_LEVEL_MONITORING_THRESHOLD_TITLE:"Node Level Monitoring Threshold",ESCALATION_RATE_TITLE:"Escalation Rate",ESCALATION_RATE_DESCRIPTION:"Set default for all the Nodes",UNIVERSAL_TAB:"Universal",EACH_NODE_TAB:"Each Node",SET_THRESHOLD_TEXT_FOR_A_DAY:"Set threshold and send alert if escalation rate exceeds ",PERCENTAGE_FOR_A_DAY:" for a day",PERCENTAGE_IN_A_DAY:" % in a day",SET_THRESHOLD_TEXT_FOR_CONSECUTIVE_DAYS:"Set threshold and send alert if the difference between escalation rate exceeds ",PERCENTAGE_ON_CONSECUTIVE_DAYS:" on consecutive days",DEFAULT_THRESHOLD:"Default 30%",PERCENTAGE:function(e){return"".concat(e,"%")},TENSORFLOW:"Tensorflow",N_GRAM:"N-Gram",LEVEL:{CLIENT:"client",MODEL:"model"}});function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C={name:"Modeling Workbench",version:"",userId:"",userName:"",userDetails:"",serverMessage:"",notificationType:"",csrfToken:null,loggedIn:!1,projectId:null,datasetId:null,projectTitle:null,contextMenuState:null,modalDialogState:null,featureFlags:b({},{MWB_ROLE_EXTERNAL:{modelTrainingOutputs:"hide",modelDownload:"hide",kibanaLogs:"hide",appHelp:"hide",transformationHelp:"hide",tagSearchHelp:"hide",modelConfigDownload:"hide",modelStatistics:"hide",modelDelete:"hide",modelConfigTemplate:"hide",datasetTemplate:"hide",intentGuideTemplate:"hide",datasetExport:"hide",datasetDelete:"hide",intentGuideExport:"hide",datasetExportById:"hide",projectDelete:"hide",downloadResults:"hide",createNewVersionTrainingConfigTab:"hide",createNewVersionModelReviewTab:"hide",granularMessage:"hide",intentGuideDelete:"hide",intentGuideUpdate:"hide",resolveInconsistencies:"hide",intentGuideContextualActionBar:"hide",speechBundledUnbundled:"hide",datasetType:"hide",suggestedIntent:"hide",supportLink:"hide"},DEFAULT:{models:"show",modelTrainingOutputs:"show",modelDownload:"show",kibanaLogs:"show",appHelp:"show",transformationHelp:"show",tagSearchHelp:"show",modelConfigDownload:"show",modelStatistics:"show",modelDelete:"show",modelConfigTemplate:"show",datasetTemplate:"show",intentGuideTemplate:"show",datasetExport:"show",datasetDelete:"show",intentGuideExport:"show",datasetExportById:"show",projectDelete:"show",downloadResults:"show",createNewVersionTrainingConfigTab:"show",createNewVersionModelReviewTab:"show",granularMessage:"show",intentGuideDelete:"show",intentGuideUpdate:"show",intentGuideContextualActionBar:"show",resolveInconsistencies:"show",speechBundledUnbundled:"show",datasetType:"show",suggestedIntent:"show",supportLink:"show"}}),userFeatureConfiguration:{},processENV:{NODE_ENV:"production"},userGroups:[],itsURL:"",ufpURL:"",oAuthLogoutURL:"",environment:"",amplitudeApiKey:"",logoutWarningTimeout:348e4,logoutTimeout:12e4,speechTestTimeout:5e3,userAccountLink:"",internalSupportLink:"",externalSupportLink:"",documentationLink:""},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T.DEFAULT_VALUE,t=v.a.decode(e),n=t.substring(1,t.length-1).split(T.COMMA_WHITESPACE_SEPARATOR),a={};n.forEach((function(e){var t=e.split(T.EQUALS_SEPARATOR);a[t[0]]=t[1]}));var r=T.USER_TYPE_INTERNAL;return a.tfsUserType&&a.tfsUserType===T.USER_TYPE_EXTERNAL.toUpperCase()&&(r=T.USER_TYPE_EXTERNAL),a.userType=r,a};function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b({},C),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_INFO":var n=t.value,a=n.userId,r=n.userName,o=n.userDetails;return Object.assign({},e,{loggedIn:!0,userId:a,userName:r,userDetails:I(o)});case"LOGIN_SUCCESS":return Object.assign({},e,{csrfToken:t.value});case"UPDATE_USER_GROUPS":var i=Object.keys(t.data),s=[],c=e.featureFlags.DEFAULT;return i.forEach((function(t){s.push(t),c=Object.assign(c,e.featureFlags[t])})),Object.assign({},e,{userGroups:s,userFeatureConfiguration:c});case"GOOD_REQUEST":return Object.assign({},e,{serverMessage:t.value,notificationType:T.NOTIFICATION.types.success});case"WARNING_REQUEST":return Object.assign({},e,{serverMessage:t.value,notificationType:T.NOTIFICATION.types.error});case"PERSISTENT_REQUEST":return Object.assign({},e,{serverMessage:t.value,notificationType:T.NOTIFICATION.types.default});case"BAD_REQUEST":return Object.assign({},e,{serverMessage:t.value,notificationType:T.NOTIFICATION.types.error});case"APP_STOP_SHOWING_SERVER_MESSAGE":return Object.assign({},e,{serverMessage:"",notificationType:""});case"CONTEXT_MENU_CHANGE":return Object.assign({},e,{contextMenuState:t.contextMenuState});case"MODAL_DIALOG_CHANGE":return Object.assign({},e,{modalDialogState:t.modalDialogState});case"APP_CONFIG_REQUEST":return e;case"APP_CONFIG_SUCCESS":case"APP_CONFIG_FAILURE":return Object.assign({},e,b({},t.data));default:return e}}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D={client:{id:"0",itsClientId:"",itsAppId:""},clientList:[],versionInfo:null,actionItems:[]};function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k({},D),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_APP_HEADER_ACTION_ITEMS":return Object.assign({},e,{actionItems:t.actionItems});case"CLEAR_SELECTED_CLIENT":return Object.assign({},e,{client:D.client});case"CLIENT_CHANGE":return Object.assign({},e,{client:t.client});case"RECEIVE_CLIENT_LIST":return Object.assign({},e,{clientList:t.clientList});case"VERSION_INFO":return Object.assign({},e,{versionInfo:t.versionInfo});default:return e}}var A=n(45),N=n.n(A),L=(n(55),n(41),n(67),n(88),n(170),n(31),n(63),n(22)),j=n(7),P=n.n(j);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x={projects:Object(L.Map)(),projectDatasets:Object(L.Map)(),trackDatasetsIds:{},projectModels:Object(L.Map)(),projectIntents:Object(L.Map)(),trackModelsIds:{},trackModelsBatchTestIds:{},speechModelTestResults:{},digitalModelTestResults:{},modelBatchTestResults:{},modelBatchJobRequest:{},projectConfigs:Object(L.Map)(),model:null,tuneModelId:null,viewModelId:null,modelViewReadOnly:!1,clientDataLoaded:!1,datasetsLoaded:!1,modelsLoaded:!1,configsLoaded:!1,intentsLoaded:!1,listOfBatchTests:{}},B=function(e,t){var n=!1;switch(t){case"models":n=e.configsLoaded&&e.datasetsLoaded&&e.intentsLoaded;break;case"datasets":n=e.configsLoaded&&e.modelsLoaded&&e.intentsLoaded;break;case"configs":n=e.modelsLoaded&&e.datasetsLoaded&&e.intentsLoaded;break;case"intents":n=e.modelsLoaded&&e.datasetsLoaded&&e.configsLoaded;break;default:n=e.modelsLoaded&&e.datasetsLoaded&&e.configsLoaded&&e.intentsLoaded}return n};function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M({},x),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PROJECTS_MANAGER_PROJECT_LOAD_SUCCESS":var n=t.projectId,a=t.project;return Object.assign({},e,{projects:e.projects.set(n,a)});case"PROJECTS_MANAGER_PROJECT_DATASETS_LOAD_SUCCESS":var r=t.projectId,o=t.datasets,i=e.trackDatasetsIds;o.forEach((function(e){"QUEUED"===e.status||"RUNNING"===e.status||"STARTED"===e.status?(i[r]||(i[r]={}),i[r][e.id]=e.id):i[r]&&(delete i[r][e.id],0===Object.keys(i[r]).length&&delete i[r])}));var s=B(e,"datasets");return Object.assign({},e,{projectDatasets:e.projectDatasets.set(r,o),trackDatasetsIds:i,datasetsLoaded:!0,clientDataLoaded:s});case"PROJECTS_MANAGER_PROJECT_MODELS_LOAD_SUCCESS":var c=t.projectId,l=t.models,d=e.trackModelsIds;l.forEach((function(e){"QUEUED"===e.status||"RUNNING"===e.status?(d[c]||(d[c]={}),d[c][e.id]=e.id):d[c]&&(delete d[c][e.id],0===Object.keys(d[c]).length&&delete d[c])}));var u=B(e,"models");return Object.assign({},e,{projectModels:e.projectModels.set(c,l),trackModelsIds:d,modelsLoaded:!0,clientDataLoaded:u});case"PROJECTS_MANAGER_PROJECT_INTENTS_LOAD_SUCCESS":var p=t.projectId,h=t.intents,f=new L.Map(e.projectIntents);f=f.set(p,h);var g=B(e,"intents");return Object.assign({},e,{projectIntents:f,intentsLoaded:!0,clientDataLoaded:g});case"TAGGING_GUIDE_RECEIVE_TAG_CREATE":var m=t.projectId,S=t.values,E=new L.Map(e.projectIntents),v=E.get(m);return v=[S].concat(N()(v)),E=E.set(m,v),Object.assign({},e,{projectIntents:E});case"TAGGING_GUIDE_RECEIVE_TAG_REMOVE":var y=t.projectId,b=t.index,C=new L.Map(e.projectIntents),I=C.get(y);return I.splice(b,1),C=C.set(y,I),Object.assign({},e,{projectIntents:C});case"TAGGING_GUIDE_RECEIVE_TAG_UPDATE":var O=t.projectId,R=t.values,k=new L.Map(e.projectIntents),D=k.get(O),_=D.findIndex((function(e){return e.id===R.id}));return D[_]=Object.assign({},D[_],R),k=k.set(O,D),Object.assign({},e,{projectIntents:k});case"PROJECTS_MANAGER_DATASETS_STATUSES_LOAD_SUCCESS":var A=t.statuses,j=e.trackDatasetsIds,w=e.projectDatasets;for(var U in A)if(A.hasOwnProperty(U)){var G=w.get(U);if(G){for(var F in A[U])if(A[U].hasOwnProperty(F)){var V=G.get(F);V&&(V=Object.assign({},V,{task:A[U][F].task?"".concat(A[U][F].task).toUpperCase():"NULL",status:A[U][F].status?"".concat(A[U][F].status).toUpperCase():"NULL",errorCode:A[U][F].errorCode,percentComplete:A[U][F].percentComplete}),G=G.set(F,V),"QUEUED"!==V.status&&"RUNNING"!==V.status&&"STARTED"!==V.status&&j[U]&&(delete j[U][F],0===Object.keys(j[U]).length&&delete j[U]))}w=w.set(U,G)}}return Object.assign({},e,{projectDatasets:w,trackDatasetsIds:j});case"PROJECTS_MANAGER_PROJECT_CONFIGS_LOAD_SUCCESS":var H=t.projectId,q=t.configs,W=B(e,"configs");return Object.assign({},e,{projectConfigs:e.projectConfigs.set(H,q),configsLoaded:!0,clientDataLoaded:W});case"PROJECT_CLOSE":case"CLEAR_SELECTED_CLIENT":case"CLIENT_CHANGE":return Object.assign({},e,x);case"RECEIVE_PROJECTS_BY_CLIENT":var K=t.projects,z=e.projects,Y=e.projectDatasets,J=e.trackDatasetsIds;return K.length?(K.forEach((function(e){var t={id:e.id,clientId:e.clientId,name:e.name,created:e.createdAt,locale:e.locale,description:e.description,vertical:e.vertical,deployableModelId:e.deployableModelId,previewModelId:e.previewModelId,liveModelId:e.liveModelId},n=t.id;z=z.set(t.id,t);var a=e.datasetTaskStatusList;a&&a.length&&a.forEach((function(e){var a=Y.get(t.id);a||(a=Object(L.Map)());var r=a.get(e.id);r||(r={}),r.id=e.id,r.projectId=n,r.clientId=t.clientId,r.name=e.name,r.status=e.status?"".concat(e.status).toUpperCase():"NULL",r.task=e.task?"".concat(e.task).toUpperCase():"NULL",r.percentComplete=e.percentComplete?e.percentComplete:null,a=a.set(r.id,r),Y=Y.set(t.id,a),"QUEUED"===r.status||"RUNNING"===r.status||"STARTED"===r.status?(J[n]||(J[n]={}),J[n][e.id]=e.id):J[n]&&(delete J[n][e.id],0===Object.keys(J[n]).length&&delete J[n])}))})),Object.assign({},e,{projects:z,projectDatasets:Y,trackDatasetsIds:J})):e;case"PROJECTS_MANAGER_PROJECT_UPDATED":var X=t.projectId,Q=t.project;return Object.assign({},e,{projects:e.projects.set(X,Q)});case"PROJECTS_MANAGER_DATASET_UPDATED":case"PROJECT_DATASET_ADD":var Z=t.projectId,$=t.datasetId,ee=t.dataset,te=e.projectDatasets,ne=e.trackDatasetsIds,ae=te.get(Z);ae||(ae=Object(L.Map)());var re=Object.assign({id:$},ae.get($),ee);return ae=ae.set($,re),te=te.set(Z,ae),"QUEUED"===re.status||"RUNNING"===re.status||"STARTED"===re.status?(ne[Z]||(ne[Z]={}),ne[Z][re.id]=re.id):ne[Z]&&(delete ne[Z][re.id],0===Object.keys(ne[Z]).length&&delete ne[Z]),Object.assign({},e,{projectDatasets:te,trackDatasetsIds:ne});case"ADD_NEW_PROJECT":var oe=t.project;return Object.assign({},e,{projects:e.projects.set(oe.id,oe)});case"PROJECT_UPDATE":var ie=t.projects;if(ie.length>0){var se,ce=new L.Map(e.projects);for(se=0;se<ie.length;se++){var le=ie[se].id,de=ce.get(le);if(de&&le){var ue=Object.assign({},de,ie[se]);ce=ce.set(le,ue)}}return Object.assign({},e,{projects:ce})}return e;case"PROJECT_STATUS_UPDATE":var pe=t.projectId,he=t.status,fe=new L.Map(e.projects);if(pe){var ge=fe.get(pe),me=Object.assign({},ge,{status:he});return fe=fe.set(pe,me),Object.assign({},e,{projects:fe})}return e;case"PROJECT_DELETE":var Se=!1,Ee=t.id;if(e.projects.get(Ee)&&(Se=!0),Se){var ve=new L.Map(e.projectDatasets),Te=new L.Map(e.projectModels),ye=new L.Map(e.projectIntents),be=new L.Map(e.projectConfigs),Ce=new L.Map(e.projects),Ie=Object.assign({},e.trackDatasetsIds),Oe=Object.assign({},e.trackModelsIds);return!P.a.isEmpty(Ie)&&Object.keys(Ie[Ee]).length>0&&delete Ie[Ee],!P.a.isEmpty(ve)&&ve.get(Ee)&&(ve=ve.delete(Ee)),!P.a.isEmpty(Te)&&Te.get(Ee)&&(Te=Te.delete(Ee)),!P.a.isEmpty(ye)&&ye.get(Ee)&&(ye=ye.delete(Ee)),!P.a.isEmpty(be)&&be.get(Ee)&&(be=be.delete(Ee)),!P.a.isEmpty(Oe)&&!P.a.isEmpty(Oe[Ee])&&Object.keys(Oe[Ee]).length>0&&delete Oe[Ee],Ce=Ce.delete(Ee),Object.assign({},e,{projects:Ce,projectDatasets:ve,trackDatasetsIds:Ie,projectModels:Te,projectIntents:ye,trackModelsIds:Oe,projectConfigs:be})}return e;case"DATASET_REMOVED_FROM_PROJECT":var Re=t.projectId,ke=t.datasetId,De=e.projectDatasets,_e=e.trackDatasetsIds,Ae=De.get(Re);if(Ae){var Ne=Ae.get(ke);Ne&&(Ae=Ae.delete(ke),De=De.set(Re,Ae),!_e[Re]||"QUEUED"!==Ae.status&&"RUNNING"!==Ae.status&&"STARTED"!==Ae.status||(delete _e[Re][Ae.id],0===Object.keys(_e[Re]).length&&delete _e[Re]))}return Object.assign({},e,{projectDatasets:De,trackDatasetsIds:_e});case"MODEL_DELETED_FROM_PROJECT":var Le=t.projectId,je=t.modelId,Pe=e.projectModels,we=e.trackModelsIds,Me=T.STATUS,xe=(Me.QUEUED,Me.RUNNING),Be=Pe.get(Le),Ue=P.a.cloneDeep(we);if(Be){var Ge=Be.get(je);Ge&&(Be=Be.delete(je),Pe=Pe.set(Le,Be),Ue[Le]&&(Ge.status,Ge.status===xe)&&(delete Ue[Le][Ge.id],0===Object.keys(Ue[Le]).length&&delete Ue[Le]))}return Object.assign({},e,{projectModels:Pe,trackModelsIds:Ue});case"CONFIG_CREATED":var Fe=t.config,Ve=e.projectConfigs;if(Fe.id&&Fe.projectId){var He=Ve.get(Fe.projectId);He||(He=Object(L.Map)());var qe=Object.assign({},He.get(Fe.id),Fe);return He=He.set(qe.id,qe),Ve=Ve.set(Fe.projectId,He),Object.assign({},e,{projectConfigs:Ve})}return e;case"CONFIG_UPDATED":var We=t.config,Ke=e.projectConfigs;if(We.id&&We.projectId){var ze=Ke.get(We.projectId);ze||(ze=Object(L.Map)());var Ye=Object.assign({},ze.get(We.id),We);return ze=ze.set(Ye.id,Ye),Ke=Ke.set(We.projectId,ze),Object.assign({},e,{projectConfigs:Ke})}return e;case"MODEL_UPDATE":var Je=t.model,Xe=e.projectModels;if(Je.id&&Je.projectId){var Qe=Xe.get(Je.projectId);Qe||(Qe=Object(L.Map)());var Ze=Object.assign({},Qe.get(Je.id),Je);return Qe=Qe.set(Ze.id,Ze),Xe=Xe.set(Je.projectId,Qe),Object.assign({},e,{projectModels:Xe,model:Je})}return e;case"UPDATE_SPEECH_MODEL_ID_FOR_DIGITAL_MODEL":var $e=t.modelId,et=t.projectId,tt=t.speechModelId,nt=new L.Map(e.projectModels);if($e&&et&&tt){var at=nt.get(et);at||(at=Object(L.Map)());var rt=Object.assign({},at.get($e),{speechModelId:tt});return at=at.set(rt.id,rt),nt=nt.set(et,at),Object.assign({},e,{projectModels:nt})}return e;case"MODEL_CREATED":var ot=t.model,it=e.projectModels;if(ot.id&&ot.projectId){var st=it.get(ot.projectId);st||(st=Object(L.Map)());var ct=Object.assign({},st.get(ot.id),ot);return st=st.set(ct.id,ct),it=it.set(ot.projectId,st),Object.assign({},e,{projectModels:it,model:null,tuneModelId:null,viewModelId:null,modelViewReadOnly:!1})}return e;case"CLEAR_MODEL_DATA":return Object.assign({},e,{model:null,tuneModelId:null,viewModelId:null,modelViewReadOnly:!1});case"CLEAR_MODEL_TEST_RESULTS":return Object.assign({},e,{digitalModelTestResults:{},speechModelTestResults:{}});case"CLEAR_MODEL_BATCH_TEST_RESULTS":return Object.assign({},e,{modelBatchTestResults:{},modelBatchJobRequest:{}});case"RECIEVE_MODEL_TEST_RESULTS":return t.speechResults?Object.assign({},e,{speechModelTestResults:t.modelTestResults}):Object.assign({},e,{digitalModelTestResults:t.modelTestResults});case"MODEL_BATCH_TEST_RESULTS":e.modelBatchJobRequest;var lt=e.trackModelsBatchTestIds,dt=t.projectId,ut=t.modelId,pt=t.modelTestJobId;return"ok"===t.modelBatchTestResults.type?(t.modelBatchTestResults.message&&lt[dt]&&lt[dt][ut]&&lt[dt][ut][pt]&&(delete lt[dt][ut][pt],0===Object.keys(lt[dt][ut]).length&&delete lt[dt][ut],0===Object.keys(lt[dt]).length&&delete lt[dt]),Object.assign({},e,{modelBatchTestResults:t})):e;case"LIST_BATCH_TESTS_INFO":var ht=e.model;return ht=Object.assign({},ht,{listOfBatchTests:t.listOfBatchTests}),Object.assign({},e,{model:ht});case"CLEAR_LIST_BATCH_TESTS_INFO":var ft=e.model;return ft=Object.assign({},ft,{listOfBatchTests:{}}),Object.assign({},e,{model:ft});case"CHECK_MODEL_TEST_RESULTS_FAILED":var gt=e.modelBatchJobRequest,mt=e.trackModelsBatchTestIds,St=t.projectId,Et=t.modelId,vt=t.modelTestJobId;return mt[St]&&mt[St][Et]&&mt[St][Et][vt]&&(delete mt[St][Et][vt],0===Object.keys(mt[St][Et]).length&&delete mt[St][Et],0===Object.keys(mt[St]).length&&delete mt[St]),gt.testId===vt?Object.assign({},e,{modelBatchTestResults:{},modelBatchJobRequest:{}}):e;case"MODEL_BATCH_JOB_REQUEST":var Tt=t.modelBatchJobRequest,yt=Tt.projectId,bt=Tt.testId,Ct=Tt.modelId,It=e.trackModelsBatchTestIds;return It[yt]||(It[yt]={}),It[yt][Ct]||(It[yt][Ct]={}),It[yt][Ct][bt]||(It[yt][Ct][bt]=bt),Object.assign({},e,{modelBatchJobRequest:t.modelBatchJobRequest,trackModelsBatchTestIds:It});case"NEW_MODEL":return Object.assign({},e,{model:null,tuneModelId:null,viewModelId:null,modelViewReadOnly:!1,speechModelTestResults:{},digitalModelTestResults:{},modelBatchTestResults:{},modelBatchJobRequest:{}});case"MODEL_EDIT_UPDATE":t.model;return M(M({},e),{},{model:t.model});case"TUNE_MODEL_ID":var Ot=t.tuneModelId;return Object.assign({},e,{tuneModelId:Ot,viewModelId:null,modelViewReadOnly:!1});case"VIEW_MODEL_ID":var Rt=t.viewModelId;return Object.assign({},e,{viewModelId:Rt,tuneModelId:null,modelViewReadOnly:!0});case"CLEAR_VIEW_MODEL_VIEW":return Object.assign({},e,{viewModelId:null,modelViewReadOnly:!1});case"SHOW_MODEL_NAVIGATION_CONFIRMATION_DIALOG":var kt=t.showModelNavigationConfirmationDialog;return Object.assign({},e,{showModelNavigationConfirmationDialog:kt});case"PROJECTS_MANAGER_MODEL_UPDATED":var Dt=t.projectId,_t=t.modelId,At=t.model,Nt=e.projectModels,Lt=e.trackModelsIds,jt=Nt.get(Dt);jt||(jt=Object(L.Map)());var Pt=Object.assign({id:_t},jt.get(_t),At);return jt=jt.set(_t,Pt),Nt=Nt.set(Dt,jt),"QUEUED"===Pt.status||"RUNNING"===Pt.status?(Lt[Dt]||(Lt[Dt]={}),Lt[Dt][Pt.id]=Pt.id):Lt[Dt]&&(delete Lt[Dt][Pt.id],0===Object.keys(Lt[Dt]).length&&delete Lt[Dt]),Object.assign({},e,{projectModels:Nt,trackModelsIds:Lt});default:return e}}n(75);function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V={projectId:null,query:"",filter:{datasets:[],onlyConflicts:!1},sort:{property:"normalizedFormGroup",direction:"ASC"},startIndex:0,limit:50,isSearching:!1,isError:!1,showControls:!0,searchResults:[],total:0,doSearch:!1,showBulkTag:!1,updateBulkTag:null,delay:0,isUpdatingTags:0};function H(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F({},V),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CONSISTENCY_REPORT_RESET":return Object.assign({},e,{projectId:null,query:"",filter:{datasets:[],onlyConflicts:!1},sort:{property:"normalizedFormGroup",direction:"ASC"},startIndex:0,limit:50,isSearching:!1,isError:!1,showControls:!0,searchResults:[],total:0,doSearch:!1,showBulkTag:!1,updateBulkTag:null});case"CONSISTENCY_REPORT_SET_PROJECT_ID":var n=t.projectId;return Object.assign({},e,{projectId:n,query:"",filter:{datasets:[],onlyConflicts:!1},sort:{property:"normalizedFormGroup",direction:"ASC"},startIndex:0,limit:50,isSearching:!1,isError:!1,showControls:!0,searchResults:[],total:0,doSearch:!1,showBulkTag:!1,updateBulkTag:null});case"PROJECTS_MANAGER_PROJECT_DATASETS_LOAD_SUCCESS":var a=t.projectId,r=t.datasets,o=e.filter;return a!==e.projectId||o.datasets.length?e:(r.forEach((function(e){e.id&&e.status&&"COMPLETED"==e.status&&e.name&&o.datasets.push(e.id)})),Object.assign({},e,{filter:o}));case"CONSISTENCY_REPORT_SET_FILTER":var i=t.datasets,s=t.onlyConflicts,c=e.filter;return void 0!==i&&(c.datasets=i),void 0!==s&&(c.onlyConflicts=s),Object.assign({},e,{filter:c});case"CONSISTENCY_REPORT_REQUEST_SEARCH_REQUEST":var l=t.sort,d=t.startIndex,u=t.limit;return Object.assign({},e,{isSearching:!0,isError:!1,sort:l,startIndex:d,limit:u,doSearch:!1,showBulkTag:!1,updateBulkTag:null});case"CONSISTENCY_REPORT_REQUEST_SEARCH_SUCCESS":var p=t.results,h=t.startIndex,f=p.transcriptionList?p.transcriptionList:[];return Object.assign({},e,{startIndex:h,isSearching:!1,isError:!1,searchResults:f,total:p.total||f.length,doSearch:!1,showBulkTag:!1,updateBulkTag:null});case"CONSISTENCY_REPORT_REQUEST_SEARCH_ERROR":return Object.assign({},e,{isSearching:!1,isError:!0,doSearch:!1,showBulkTag:!1,updateBulkTag:null});case"CONSISTENCY_REPORT_SET_PAGER_SETTINGS":var g=t.startIndex,m=t.limit,S=t.showControls;return Object.assign({},e,{startIndex:g,limit:m,showControls:S,doSearch:g!=e.startIndex||m!=e.limit,delay:0});case"SET_TAG_REQUEST":case"REMOVE_TAG_REQUEST":var E=t.projectId;return e.projectId===E?Object.assign({},e,{isUpdatingTags:++e.isUpdatingTags}):e;case"SET_TAG_ERROR":case"SET_TAG_SUCCESS":case"REMOVE_TAG_ERROR":case"REMOVE_TAG_SUCCESS":var v=t.projectId;return e.projectId===v?Object.assign({},e,{isUpdatingTags:--e.isUpdatingTags,doSearch:e.doSearch||!e.isUpdatingTags,delay:3e3}):e;case"CONSISTENCY_REPORT_REFRESH":var T=t.delay;return Object.assign({},e,{doSearch:!0,delay:T});case"SHOW_BULK_TAG_CELL":return Object.assign({},e,{showBulkTag:!0,updateBulkTag:null});case"HIDE_BULK_TAG_CELL":return Object.assign({},e,{showBulkTag:!1,updateBulkTag:null});case"SELECTED_TAG_SUGGEST":return Object.assign({},e,{updateBulkTag:t.selectedSuggestTag});case"SELECTED_BULK_TAG":return Object.assign({},e,{updateBulkTag:t.bulkTagIntent});default:return e}}var q=n(52),W=n(249);n(276),n(277),n(526);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y={clientId:null,projects:[],projectById:{},globalProjectsByName:{},selectedProjectId:null,loading:!1,noMoreProjects:!1,startIndex:0,isGlobalModelOpen:!0,isNodeModelOpen:!1},J=function(e){var t=P.a.mapValues(T.PROJECT_TYPE.GLOBAL.MODELS_NAME,P.a.method("toLowerCase"));return e&&Object.values(t).includes(e.toLowerCase())};function X(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z({},Y),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_PROJECTS_BY_CLIENT":return Object.assign({},e,{clientId:t.clientId,loading:!0,selectedProjectId:null});case"RECEIVE_PROJECTS_BY_CLIENT":var n=t.clientId,a=t.projects,r=t.limit;if(n===e.clientId){var o={},i={},s=[],c=null;a.forEach((function(e){i[e.id]=e,s.push(e),J(e.name)&&(o[e.name.toLowerCase()]=e.id,e.name.toLowerCase()==T.ROOT_INTENT&&(c=e.id))}));var l=P.a.orderBy(s,["createdAt"],["desc"]);if(l.length>0&&null==c&&(!e.selectedProjectId||void 0===e.selectedProjectId||"undefined"===e.selectedProjectId)){if(0!==Object.keys(o).length)for(var d=0;d<l.length;d++)if(J(l[d].name)){c=l[d].id;break}null==c&&(c=l[0].id)}return Object.assign({},e,{projects:l,projectById:i,globalProjectsByName:o,noMoreProjects:a.length<r,loading:!1,startIndex:e.startIndex+r,selectedProjectId:c})}return e;case"COLLAPSIBLE_SIDEBAR_SELECT":var u=t.isCollapsibleModelOpen,p=u.isGlobalModelOpen,h=u.isNodeModelOpen;return Object.assign({},e,{isGlobalModelOpen:p,isNodeModelOpen:h});case"SIDEBAR_SELECT_PROJECT":var f=t.projectId;return Object.assign({},e,{selectedProjectId:f});case"ADD_NEW_PROJECT":var g=t.project;return e.projectById[g.id]?e:(e.projects.unshift(t.project),e.projectById[g.id]=g,Object.assign({},e,{projects:e.projects,projectById:e.projectById}));case"PROJECT_UPDATE":var m=t.projects;if(m.length>0){var S,E={},v=P.a.cloneDeep(e.projectById),y=P.a.cloneDeep(e.projects);return m.forEach((function(e){if((S=y.findIndex((function(t){return t.id===e.id})))>-1){var t=v[e.id],n=y[S],a=Object.assign({},t,e),r=Object.assign({},n,e);v[e.id]=a,y[S]=r}})),y.forEach((function(e){J(e.name)&&(E[e.name.toLowerCase()]=e.id)})),Object.assign({},e,{projects:y,projectById:v,globalProjectsByName:E})}return e;case"PROJECT_DELETE":var b=t.id,C=P.a.cloneDeep(e.projectById),I=P.a.cloneDeep(e.projects),O=I.findIndex((function(e){return e.id===b}));if(O>-1){I.splice(O,1),delete C[b];var R=null;return I.length>0&&(R=I[0].id),Object.assign({},e,{projects:I,projectById:C,selectedProjectId:R})}return e;case"CLEAR_SELECTED_CLIENT":return Object.assign({},Y);case"CLIENT_CHANGE":return Object.assign({},e,{clientId:t.client.id,projects:[],projectById:{},noMoreProjects:!1,loading:!1,startIndex:0});case"PROJECTS_MANAGER_PROJECT_LOAD_SUCCESS":var k=t.projectId;return Object.assign({},e,{selectedProjectId:k});default:return e}}function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $={initialized:!1,projectId:null,project:null,searching:!1,searchResults:[],sort:{property:"count",direction:"desc"},lastImportInfo:null,usedForTaggingRatio:0};function ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z({},$),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TAGGING_GUIDE_RECEIVE_PROJECT":return Object.assign({},e,{projectId:t.project.id,project:t.project,initialized:!0});case"TAGGING_GUIDE_REQUEST_SEARCH":return Object.assign({},e,{sort:t.sort,searching:!0,searchResults:[]});case"TAGGING_GUIDE_RECEIVE_SEARCH":return Object.assign({},e,{searchResults:t.searchResults,searching:!1,usedForTaggingRatio:t.usedForTaggingRatio});case"TAGGING_GUIDE_RECEIVE_TAG_REMOVE":var n=N()(e.searchResults),a=e.usedForTaggingRatio,r=n[t.index];return n.splice(t.index,1),a>0&&(a=(a*n.length-(r.count>0?1:0))/(n.length-1)),Object.assign({},e,{searchResults:n,usedForTaggingRatio:a});case"TAGGING_GUIDE_RECEIVE_TAG_UPDATE":var o=e.searchResults.findIndex((function(e){return e.id===t.values.id})),i=N()(e.searchResults);i[o]=Object.assign({},i[o],t.values);var s=e.usedForTaggingRatio;return s>0&&(s=s*i.length/(i.length+1)),Object.assign({},e,{searchResults:i});case"TAGGING_GUIDE_RECEIVE_TAG_CREATE":var c=[t.values].concat(N()(e.searchResults)),l=e.usedForTaggingRatio;return l>0&&(l=l*c.length/(c.length+1)),Object.assign({},e,{searchResults:c,usedForTaggingRatio:l});case"PROJECT_CLOSE":case"CLIENT_CHANGE":case"CLEAR_SELECTED_CLIENT":case"TAGGING_GUIDE_RESET":return Object.assign({},e,$);case"TAGGING_GUIDE_RECEIVE_LAST_IMPORT_INFO":return Object.assign({},e,{lastImportInfo:t.info});default:return e}}function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ae={step:"upload",token:null,columns:null,previewData:null,bindingArray:[],columnsBinding:{},isPreSelected:!1,isBindingValid:!1,skipFirstRow:!0,isMappingRequestLoading:!1,validTagCount:0,missingTags:[],invalidTags:[],isCommitRequestLoading:!1,done:!1};n(114),n(70);var re={intents:0,unique:{percent:0,tagged:0,total:0},all:{percent:0,tagged:0,total:0},status:0},oe={isDatasetsTagged:!0,isDatasetsValid:!1,datasetsIntents:[],validDatasetMap:new L.Map},ie={check:{sorted:"SORTED_NONE",selected:!1},count:{sorted:"SORTED_NONE",selected:!1},uniqueTextString:{sorted:"SORTED_NONE",selected:!1},manualTag:{sorted:"SORTED_NONE",selected:!1},suggestedTag:{sorted:"SORTED_NONE",selected:!1},comments:{sorted:"SORTED_NONE",selected:!1}};function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var le={projectId:null,project:null,projectLoaded:!1,datasets:null,datasetsLoaded:!1,incomingFilter:{projectId:null,datasets:[]},refreshStats:!1,isLoading:!1,isControlsCollapsed:!1,bulkTagMode:!1,selectedSuggestTag:"",updatedSuggestTag:"",suggestTagResult:{status:4,suggestedTags:[]},selectedSuggestBulkTag:"",updatedSuggestBulkTag:"",bulkTagReceived:!1,userEnteredBulkTag:"",focusRowIndex:0,focusColumnIndex:0,presentationType:"table",requestDatasetId:null,datasetOpen:!1,dataset:{name:"Default Dataset",description:"All about this default dataset...",vertical:"FINANCIAL",dataType:"0"},status:0,query:"query word or phrase",filter:{untagged:!0,tagged:!1,onlyMultipleTags:!1,wordCount:8,hasComment:!1,datasets:[]},intent:"",bulkTagIntent:"",activeCell:null,mousePosition:{x:0,y:360},activeRowData:null,lastRowIdFocussed:-1,lastRowIdTagged:-1,manualTagAddedSuccess:!1,isAfterInit:!1,statsResults:re,validDatasetsStats:oe,manualTagResult:{status:1,message:""},manualBulkTagResult:{status:1,message:""},userEnteredTag:"",userEnteredComment:"",fetching:!1,dropTable:!1,error:null,cancelUpdateRender:!0,startIndex:0,currentPage:1,limit:50,total:0,pageSearch:!1,pageActiveButtonLabel:"next",totalPagingButtons:5,searchResultsTotal:0,searchResults:null,cursor:null,newRowsSelected:!1,uncheckAllRows:!1,allRowsSelected:!1,sort:{columns:ie,sortKey:"count",direction:"desc",sortDirection:"desc"}};function de(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce({},le),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TAG_DATASETS_CLEANUP":return Object.assign({},e,{projectId:null,datasetsId:null,project:null,projectLoaded:!1,datasets:null,datasetsLoaded:!1,incomingFilter:{datasets:[]},filter:{untagged:!0,tagged:!1,onlyMultipleTags:!1,wordCount:8,hasComment:!1,datasets:[]},statsResults:re,searchResultsTotal:0,searchResults:null,isLoading:!1,focusRowIndex:0,focusColumnIndex:0,isControlsCollapsed:!1});case"TAG_DATASETS_SET_PROJECT_ID":var n=t.projectId,a=e.filter,r=e.incomingFilter;return r.projectId==n&&(a.datasets=r.datasets),Object.assign({},e,{projectId:n||null,project:null,projectLoaded:!1,datasets:null,datasetsLoaded:!1,statsResults:re,searchResultsTotal:0,searchResults:null,refreshStats:!0,filter:a,incomingFilter:{projectId:null,datasets:[]},isLoading:!1,focusRowIndex:0,focusColumnIndex:0,isControlsCollapsed:!1});case"PROJECTS_MANAGER_PROJECT_LOAD_ERROR":var o=t.projectId;return o===e.projectId?Object.assign({},e,{project:null,projectLoaded:!0}):e;case"PROJECTS_MANAGER_PROJECT_LOAD_SUCCESS":var i=t.projectId,s=t.project;return i===e.projectId?Object.assign({},e,{project:s,projectLoaded:!0}):e;case"TAG_DATASETS_SET_PROJECT":var c=t.projectId,l=t.project;return c===e.projectId?Object.assign({},e,{project:l,projectLoaded:!0}):e;case"PROJECTS_MANAGER_PROJECT_UPDATED":var d=t.projectId,u=t.project;return d===e.projectId?Object.assign({},e,{project:u,projectLoaded:!0}):e;case"PROJECTS_MANAGER_PROJECT_DATASETS_LOAD_ERROR":var p=t.projectId;return p===e.projectId?Object.assign({},e,{datasets:null,datasetsLoaded:!0}):e;case"PROJECTS_MANAGER_PROJECT_DATASETS_LOAD_SUCCESS":var h=t.projectId,f=t.datasets;if(h===e.projectId){var g=e.filter,m=g.datasets;return m.length||(f.forEach((function(e){e.id&&e.status&&"COMPLETED"==e.status&&e.name&&m.push(e.id)})),g.datasets=m),Object.assign({},e,{datasets:f,datasetsLoaded:!0,filter:g})}return e;case"TAG_DATASETS_SET_DATASETS":var S=t.projectId,E=t.datasets;if(S===e.projectId){var v=e.filter,T=v.datasets;return T.length||(E.forEach((function(e){e.id&&e.status&&"COMPLETED"==e.status&&e.name&&e.isClickable&&T.push(e.id)})),v.datasets=T),Object.assign({},e,{datasets:E,datasetsLoaded:!0,filter:v})}return e;case"TAG_DATASETS_SET_DATASETS_FILTER":var y=t.datasets,b=e.filter;return b.datasets=y,Object.assign({},e,{filter:b});case"TAG_DATASETS_SET_INCOMING_FILTER":var C=t.projectId,I=t.datasets,O=e.filter;return C==e.projectId?(O.datasets=I||[],Object.assign({},e,{incomingFilter:{projectId:null,datasets:[]},filter:O,statsResults:re,searchResultsTotal:0,searchResults:null,refreshStats:!0,focusRowIndex:0,focusColumnIndex:0})):Object.assign({},e,{incomingFilter:{projectId:C,datasets:I}});case"TAG_DATASETS_SET_FOCUS":var R=t.rowIndex,k=t.columnIndex;return Object.assign({},e,{focusRowIndex:R,focusColumnIndex:k});case"TAG_DATASETS_SET_CONTROLS_COLLAPSE":var D=t.isCollapsed;return Object.assign({},e,{isControlsCollapsed:D});case"DATASET_OPEN":return Object.assign({},e,{dataset:t.dataset,datasetOpen:!0,searchResults:null,focusRowIndex:0,focusColumnIndex:0});case"DATASET_CLOSE":return Object.assign({},e,{dataset:null,datasetOpen:!1});case"CHANGE_PRESENTATION_TYPE":return Object.assign({},e,{presentationType:t.presentationType});case"RECEIVE_DATASET":return Object.assign({},e,{requestDatasetId:null,dataset:t.dataset,datasetOpen:!0});case"REQUEST_DATASET_SEARCH":return Object.assign({},e,{fetching:!0,activeCell:null,activeRowData:null,userEnteredTag:"",dropTable:!0,pageSearch:!1,query:t.query,filter:t.filter,allRowsSelected:!1,sort:t.sort,isLoading:!0});case"RECEIVE_DATASET_SEARCH_SUCCESS":return Object.assign({},e,{searchResults:t.searchResults,limit:t.limit,startIndex:t.startIndex,total:t.total,fetching:!1,dropTable:!1,pageSearch:!1,isLoading:!1,focusRowIndex:0,focusColumnIndex:0});case"REQUEST_DATASET_STATS":return Object.assign({},e,{fetching:!0,refreshStats:!1});case"RECEIVE_DATASET_STATS_SUCCESS":return Object.assign({},e,{statsResults:t.statsResults,fetching:!1,refreshStats:!1});case"RECEIVE_DATASET_VALIDATION_STATS":var _=t.isDatasetsValid,A=t.isDatasetsTagged,P=t.isDatasetValid,w=t.isFullyTagged,M=t.uniqueRollupValue,x=t.datasetId,B=t.datasetsIntents,U=t.datasetIntents,G=Object.assign({},{isDatasetValid:P,isFullyTagged:w,uniqueRollupValue:M,datasetIntents:U}),F=e.validDatasetsStats.validDatasetMap,V=new L.Map(F);V=V.set(x,G);var H=Object.assign({},e.validDatasetsStats,{isDatasetsTagged:A,isDatasetsValid:_,datasetsIntents:B,validDatasetMap:V});return Object.assign({},e,{validDatasetsStats:H});case"DELETE_DATASET_VALIDATION_STATS":var q=t.datasetId,W=e.validDatasetsStats.validDatasetMap,K=new L.Map(W),z=!0,Y=!1,J=null,X=[];K.get(q)&&(K=K.delete(q)),K.forEach((function(e){z=z&&e.isFullyTagged,Y=Y||e.isDatasetValid||null!==J&&e.uniqueRollupValue!==J,J=e.uniqueRollupValue,X=[].concat(N()(X),N()(e.datasetIntents))}));var Q=Object.assign({},e.validDatasetsStats,{isDatasetsTagged:z,isDatasetsValid:Y,datasetsIntents:X,validDatasetMap:K});return Object.assign({},e,{validDatasetsStats:Q});case"RESET_DATASET_VALIDATION_STATS":return Object.assign({},e,{validDatasetsStats:oe});case"UPDATE_QUERY":return Object.assign({},e,{query:t.query});case"UPDATE_FILTERS":return Object.assign({},e,{filter:t.filter});case"REQUEST_TAG_MANUAL":return Object.assign({},e,{fetching:!0,manualTagAddedSuccess:!1});case"RECEIVE_TAG_MANUAL_SUCCESS":return Object.assign({},e,{fetching:!1,manualTagResult:t.manualTagResult,suggestTagResult:t.suggestTagResult,lastRowIdTagged:t.activeRowData.id,refreshStats:!0,activeCell:null,selectedSuggestTag:"",intent:"",manualTagAddedSuccess:!0});case"RECEIVE_TAG_MANUAL_DELETE_SUCCESS":return Object.assign({},e,{fetching:!1,manualTagResult:t.manualTagResult,suggestTagResult:t.suggestTagResult,lastRowIdTagged:t.activeRowData.id,refreshStats:!0,activeCell:null,selectedSuggestTag:"",intent:""});case"RECEIVE_TAG_MANUAL_FAIL":return Object.assign({},e,{fetching:!1,manualTagResult:t.manualTagResult,suggestTagResult:t.suggestTagResult});case"REQUEST_BULK_TAG_MANUAL":case"REQUEST_BULK_TAG_MANUAL_UPDATE":case"REQUEST_BULK_TAG_MANUAL_MIXED":return Object.assign({},e,{fetching:!0});case"RECEIVE_BULK_TAG_MANUAL_SUCCESS":return Object.assign({},e,{fetching:!1,manualBulkTagResult:t.manualBulkTagResult,suggestTagResult:t.suggestTagResult,refreshStats:!0,bulkTagIntent:"",bulkTagReceived:!0,selectedSuggestTag:"",intent:"",uncheckAllRows:!0});case"RECEIVE_BULK_TAG_MANUAL_FAIL":return Object.assign({},e,{fetching:!1,manualBulkTagResult:t.manualBulkTagResult,suggestTagResult:t.suggestTagResult});case"RECEIVE_BULK_TAG_MANUAL_UPDATE_SUCCESS":return Object.assign({},e,{fetching:!1,manualBulkTagResult:t.manualBulkTagResult,suggestTagResult:t.suggestTagResult,refreshStats:!0,bulkTagIntent:"",bulkTagReceived:!0,selectedSuggestTag:"",intent:"",uncheckAllRows:!0});case"RECEIVE_BULK_TAG_MANUAL_UPDATE_FAIL":return Object.assign({},e,{fetching:!1,manualBulkTagResult:t.manualBulkTagResult,suggestTagResult:t.suggestTagResult});case"RECEIVE_BULK_TAG_MANUAL_DELETE_SUCCESS":return Object.assign({},e,{fetching:!1,manualBulkTagResult:t.manualBulkTagResult,suggestTagResult:t.suggestTagResult,refreshStats:!0,bulkTagIntent:"",bulkTagReceived:!0,selectedSuggestTag:"",intent:"",uncheckAllRows:!0});case"REQUEST_TAG_SUGGEST":return Object.assign({},e,{fetching:!0});case"RECEIVE_TAG_SUGGEST_SUCCESS":case"RECEIVE_TAG_SUGGEST_FAIL":return Object.assign({},e,{fetching:!1,suggestTagResult:t.suggestTagResult});case"UPDATE_INTENT":return Object.assign({},e,{intent:t.intent});case"UPDATE_CELL_ACTIVE":return Object.assign({},e,{activeCell:t.activeCell,activeRowData:t.activeRowData,lastRowIdFocussed:t.activeRowData.id,suggestTagResult:{status:5,suggestedTags:[]},isAfterInit:!0,selectedSuggestTag:"",updatedSuggestTag:"",bulkTagReceived:!1,manualTagAddedSuccess:!1,mousePosition:t.mousePosition,bulkTagMode:!1});case"UPDATE_BULK_TAG_USER_ENTERED":return Object.assign({},e,{userEnteredBulkTag:t.userEnteredBulkTag,cancelUpdateRender:!1,bulkTagReceived:!1,selectedSuggestTag:"",updatedSuggestTag:""});case"SELECTED_BULK_TAG":return Object.assign({},e,{bulkTagIntent:t.bulkTagIntent,cancelUpdateRender:!1,bulkTagReceived:!0});case"SHOW_BULK_TAG_CELL":return Object.assign({},e,{intent:"",bulkTagIntent:"",activeRowData:null});case"HIDE_BULK_TAG_CELL":return Object.assign({},e,{intent:"",bulkTagIntent:"",bulkTagMode:!1,bulkTagReceived:!1,activeCell:{},activeRowData:{}});case"UPDATE_BULK_CELL_ACTIVE":return Object.assign({},e,{activeCell:t.activeCell,activeRowData:null,suggestTagResult:{status:5,suggestedTags:[]},intent:"",selectedSuggestTag:"",updatedSuggestTag:"",bulkTagReceived:!1,bulkTagMode:!0});case"UPDATE_TAG_USER_ENTERED":return Object.assign({},e,{userEnteredTag:t.userEnteredTag,cancelUpdateRender:!1,bulkTagReceived:!1});case"SELECTED_TAG_SUGGEST":return Object.assign({},e,{selectedSuggestTag:t.selectedSuggestTag,updatedSuggestTag:"",bulkTagIntent:t.selectedSuggestTag,suggestTagResult:{status:5,suggestedTags:[]},cancelUpdateRender:!1});case"FORGET_SELECTED_SUGGESTED_TAG":return Object.assign({},e,{selectedSuggestTag:"",updatedSuggestTag:"",bulkTagIntent:"",cancelUpdateRender:!1});case"FORGET_SELECTED_SUGGESTED_BULK_TAG":return Object.assign({},e,{selectedSuggestBulkTag:"",updatedSuggestBulkTag:"",bulkTagIntent:"",cancelUpdateRender:!1});case"REMOVE_TAG_SUGGEST":return Object.assign({},e,{selectedSuggestTag:"",updatedSuggestTag:"",bulkTagIntent:"",suggestTagResult:t.suggestTagResult,cancelUpdateRender:!1});case"UPDATE_WITH_TAG_SUGGEST":return Object.assign({},e,{updatedSuggestTag:t.updatedSuggestTag,selectedSuggestTag:"",cursor:null});case"PROJECT_TABLE_CANCEL_RENDER":return Object.assign({},e,{cancelUpdateRender:!0});case"TABLE_SEARCH_RESULTS_UPDATE":return Object.assign({},e,{searchResults:t.searchResults,focusRowIndex:0,focusColumnIndex:0});case"DATASET_CHANGE_PAGE":return Object.assign({},e,{currentPage:t.newPage,startIndex:t.newStartIndex,pageSearch:!0,pageActiveButtonLabel:t.label,bulkTagIntent:"",intent:"",activeCell:null,activeRowData:null});case"DATASET_CHANGE_LIMIT":return Object.assign({},e,{limit:t.newLimit,pageSearch:void 0===t.pageSearch||t.pageSearch});case"BULK_TAG_INTENT_DELETED":return Object.assign({},e,{bulkTagIntent:""});case"CURSOR_UP":return Object.assign({},e,{cursor:{timestamp:Number(new Date),direction:"up"}});case"CURSOR_DOWN":return Object.assign({},e,{cursor:{timestamp:Number(new Date),direction:"down"}});case"UNCHECK_ALL_SELECTED_ROWS":return Object.assign({},e,{uncheckAllRows:!0});case"ALL_ROWS_UNCHECKED":return Object.assign({},e,{uncheckAllRows:!1});case"COLUMN_SORT_CHANGE":return Object.assign({},e,{sort:t.sort,startIndex:0,currentPage:1});case"@@react-redux-grid/SET_COLUMNS":var Z=j.find(t.columns,(function(e){return null!==e.sortDirection&&void 0!==e.sortDirection})),$=void 0!==Z?Z:{dataIndex:"count",sortDirection:"desc"};return Object.assign({},e,{sort:{columns:t.columns,sortKey:$.dataIndex,direction:$.sortDirection,sortDirection:$.sortDirection}});case"@@react-redux-grid/SET_SORT_DIRECTION":var ee=j.find(t.columns,(function(e){return null!==e.sortDirection&&void 0!==e.sortDirection})),te=void 0!==ee?ee:{dataIndex:"count",sortDirection:"desc"};return Object.assign({},e,{sort:{columns:t.columns,sortKey:te.dataIndex,direction:te.sortDirection,sortDirection:te.sortDirection}});case"@@react-redux-grid/SET_SELECTION":return Object.assign({},e,{newRowsSelected:!0,allRowsSelected:!1});case"@@react-redux-grid/SELECT_ALL":return Object.assign({},e,{newRowsSelected:!0,allRowsSelected:!0,bulkTagReceived:!1});case"@@react-redux-grid/DESELECT_ALL":return Object.assign({},e,{newRowsSelected:!1,uncheckAllRows:!0,allRowsSelected:!1,bulkTagReceived:!1});case"@@react-redux-grid/RESIZE_COLUMNS ":return Object.assign({},e,{});default:return e}}function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var he={step:"upload",columns:null,previewData:null,bindingArray:[],columnsBinding:{},isPreSelected:!1,isBindingValid:!1,skipFirstRow:!0,isMappingRequestLoading:!1,isCommitRequestLoading:!1,token:null,fileId:null};function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var me={activeRowIndex:null,activeColumnIndex:null,value:null};function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ve={intent:"",suggestedTags:[],cursor:0};function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var be={projectId:null,incomingFilter:{projectId:null,datasets:[]},reportTypes:Object(L.Map)(),filter:{datasets:[],reportType:null,entries:50,interval:"3h",timeFrom:null,timeTo:null}};var Ce=n(46),Ie=n.n(Ce),Oe=["speechConfigs","modelType"];function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var De={config:null,isConfigsValid:!0,isTrainingConfigsValid:!0,isTransformationValid:!0,showTransformationAddDialog:!1,showTransformationDeleteDialog:!1,showTransformationPredefinedDialog:!1};function _e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke({},De),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PROJECT_CLOSE":case"CLIENT_CHANGE":case"CLEAR_SELECTED_CLIENT":case"MODEL_UPDATE":case"MODEL_CREATED":case"CLEAR_MODEL_DATA":case"REQUEST_CONFIG":return Object.assign({},e,De);case"RECEIVE_CONFIG":case"CONFIG_EDIT_UPDATE":return Object.assign({},e,{config:t.config});case"CONVERT_TO_SPEECH_CONFIG":var n=Object.assign({},e.config);return n.speechConfigs={},Object.assign({},e,{config:n});case"CONVERT_TO_DIGITAL_CONFIG":var a=e.config,r=(a.speechConfigs,a.modelType,Ie()(a,Oe));return Object.assign({},e,{config:r});case"UPDATE_TRAINING_CONFIG_VALIDITY":var o=t.isTrainingConfigsValid,i=e.isTransformationValid,s=o&&i;return Object.assign({},e,{isTrainingConfigsValid:o,isConfigsValid:s});case"UPDATE_TRANSFORMATION_VALIDITY":var c=t.isTransformationValid,l=e.isTrainingConfigsValid,d=l&&c;return Object.assign({},e,{isTransformationValid:c,isConfigsValid:d});case"CONFIG_SHOW_TRANSFORMATION_ADD_DIALOG":return Object.assign({},e,{showTransformationAddDialog:t.show});case"CONFIG_SHOW_TRANSFORMATION_DELETE_DIALOG":return Object.assign({},e,{showTransformationDeleteDialog:t.show});case"CONFIG_SHOW_TRANSFORMATION_PREDEFINED_DIALOG":return Object.assign({},e,{showTransformationPredefinedDialog:t.show});default:return e}}function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Le,je,Pe={technology:"",clientId:null,isClientAvailable:!1,allPreferences:[],clientLevelPreference:{},vectorizer:{},currentType:{},latestTechnology:{}};function we(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne({},Pe),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DEFAULT_TECHNOLOGY":return Object.assign({},e,{technology:t.clientLevelPreference.type,isClientAvailable:t.isClientAvailable,allPreferences:t.allPreferences,clientLevelPreference:t.clientLevelPreference,vectorizer:t.vectorizer});case"CLIENT_CHANGE":return Object.assign({},e,{clientId:t.client.id,technology:""});case"RECEIVE_PROJECT_PREFERENCE":return Object.assign({},e,{currentType:t.response});case"RECEIVE_LATEST_TECHNOLOGY":return Object.assign({},e,{latestTechnology:t.response});default:return e}}function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}if("test"!=W.a.env){var Be=function(e){try{return JSON.parse(JSON.stringify(e))}catch(t){return e}},Ue=Object(m.createLogger)({stateTransformer:function(e){return Be(e)},actionTransformer:function(e){return Be(e)}}),Ge=Object(f.combineReducers)(xe(xe({app:O,form:S.a},q.Reducers),{},{config:_e,projectListSidebar:X,header:_,taggingGuide:ee,taggingGuideImport:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne({},ae),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FILE_REMOVE_REQUEST":var n=t.fileId;return n===e.token?Object.assign({},e,{step:"upload",token:null,columns:null,previewData:null,bindingArray:[],columnsBinding:{},isPreSelected:!1,isBindingValid:!1,skipFirstRow:!0,isMappingRequestLoading:!1,validTagCount:0,missingTags:[],invalidTags:[],isCommitRequestLoading:!1,done:!1}):e;case"TAGGING_GUIDE_IMPORT_FILE_UPLOAD_SUCCESS":var a=t.token,r=t.columns,o=t.previewData;return Object.assign({},e,{step:"mapping",token:a,columns:r,previewData:o,bindingArray:[],columnsBinding:{},isBindingValid:!1,isPreSelected:!1,skipFirstRow:!0,isMappingRequestLoading:!1,validTagCount:0,missingTags:[],invalidTags:[],isCommitRequestLoading:!1,done:!1});case"TAGGING_GUIDE_IMPORT_RESET":return Object.assign({},e,{step:"upload",token:null,columns:null,previewData:null,bindingArray:[],columnsBinding:{},isPreSelected:!1,isBindingValid:!1,skipFirstRow:!0,isMappingRequestLoading:!1,validTagCount:0,missingTags:[],invalidTags:[],isCommitRequestLoading:!1,done:!1});case"TAGGING_GUIDE_IMPORT_COLUMNS_BIND":var i=t.bindingArray,s=t.isBindingValid,c=t.columnsBinding,l=t.isPreSelected;return Object.assign({},e,{bindingArray:i,isBindingValid:s,columnsBinding:c,isPreSelected:void 0!==l?l:e.isPreSelected});case"TAGGING_GUIDE_IMPORT_FISRT_ROW_SKIP_CHANGE":var d=t.skipFirstRow;return Object.assign({},e,{skipFirstRow:d});case"TAGGING_GUIDE_IMPORT_COLUMNS_BIND_REQUEST":return Object.assign({},e,{isMappingRequestLoading:!0});case"TAGGING_GUIDE_IMPORT_COLUMNS_BIND_ERROR":return Object.assign({},e,{isMappingRequestLoading:!1});case"TAGGING_GUIDE_IMPORT_COLUMNS_BIND_SUCCESS":var u=t.validTagCount,p=t.missingTags,h=t.invalidTags,f="confirm_ok";return(h&&h.length>0||p&&p.length>0)&&(f="confirm_table"),Object.assign({},e,{isMappingRequestLoading:!1,validTagCount:u,missingTags:p,invalidTags:h,step:f});case"TAGGING_GUIDE_IMPORT_CHANGE_STEP":var g=t.step;return Object.assign({},e,{step:g});case"TAGGING_GUIDE_IMPORT_COMMIT_REQUEST":return Object.assign({},e,{isCommitRequestLoading:!0});case"TAGGING_GUIDE_IMPORT_COMMIT_ERROR":return Object.assign({},e,{isCommitRequestLoading:!1});case"TAGGING_GUIDE_IMPORT_COMMIT_SUCCESS":return Object.assign({},e,{isCommitRequestLoading:!1,done:!0});default:return e}},projectsManager:U,tagDatasets:de,consistencyReport:H,createDatasetDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe({},he),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FILE_REMOVE_REQUEST":var n=t.fileId;return n===e.token?Object.assign({},e,{step:"upload",columns:null,previewData:null,bindingArray:[],columnsBinding:{},isPreSelected:!1,isBindingValid:!1,skipFirstRow:!0,isMappingRequestLoading:!1,isCommitRequestLoading:!1,token:null,fileId:null}):e;case"CREATE_DATASET_DIALOG_FILE_UPLOAD_SUCCESS":var a=t.token,r=t.columns,o=t.previewData;return Object.assign({},e,{token:a,columns:r,previewData:o,bindingArray:[],columnsBinding:{},isPreSelected:!1,isBindingValid:!1,skipFirstRow:!0,isMappingRequestLoading:!1,isCommitRequestLoading:!1});case"CREATE_DATASET_DIALOG_RESET":return Object.assign({},e,{step:"upload",columns:null,previewData:null,bindingArray:[],columnsBinding:{},isPreSelected:!1,isBindingValid:!1,skipFirstRow:!0,isMappingRequestLoading:!1,isCommitRequestLoading:!1,token:null,fileId:null});case"CREATE_DATASET_DIALOG_CHANGE_STEP":var i=t.step;return Object.assign({},e,{step:i});case"CREATE_DATASET_DIALOG_COLUMNS_BIND":var s=t.bindingArray,c=t.isBindingValid,l=t.columnsBinding,d=t.isPreSelected;return Object.assign({},e,{bindingArray:s,isBindingValid:c,columnsBinding:l,isPreSelected:void 0!==d?d:e.isPreSelected});case"CREATE_DATASET_DIALOG_FISRT_ROW_SKIP_CHANGE":var u=t.skipFirstRow;return Object.assign({},e,{skipFirstRow:u});case"CREATE_DATASET_DIALOG_COLUMNS_BIND_REQUEST":return Object.assign({},e,{isMappingRequestLoading:!0});case"CREATE_DATASET_DIALOG_COLUMNS_BIND_ERROR":return Object.assign({},e,{isMappingRequestLoading:!1});case"CREATE_DATASET_DIALOG_COLUMNS_BIND_SUCCESS":return Object.assign({},e,{fileId:t.fileId,isMappingRequestLoading:!1,step:"confirm"});case"CREATE_DATASET_REQUEST":return Object.assign({},e,{isCommitRequestLoading:!0});case"CREATE_DATASET_ERROR":return Object.assign({},e,{isCommitRequestLoading:!1});case"CREATE_DATASET_SUCCESS":return Object.assign({},e,{isCommitRequestLoading:!0});default:return e}},cellEditable:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new L.OrderedMap,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CELL_EDITABLE_STATE_CREATE":var n=t.stateKey;return e.has(n)?e:e.set(n,ge({},me));case"CELL_EDITABLE_STATE_REMOVE":var a=t.stateKey;return e.delete(a);case"CELL_EDITABLE_STATE_RESET":var r=t.stateKey;return e.set(r,ge({},me));case"CELL_EDITABLE_SET_ACTIVE_CELL":var o=t.stateKey,i=t.activeRowIndex,s=t.activeColumnIndex,c=e.get(o);return c?e.set(o,Object.assign({},c,{activeRowIndex:i,activeColumnIndex:s})):e;case"CELL_EDITABLE_UPDATE_VALUE":var l=t.stateKey,d=t.value,u=e.get(l);return u?e.set(l,Object.assign({},u,{value:d})):e;default:return e}},cellEditableManualTagSuggest:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new L.OrderedMap,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CELL_EDITABLE_MANUAL_TAG_SUGGEST_STATE_CREATE":var n=t.stateKey;return e.has(n)?e:e.set(n,Ee({},ve));case"CELL_EDITABLE_MANUAL_TAG_SUGGEST_STATE_REMOVE":var a=t.stateKey;return e.delete(a);case"CELL_EDITABLE_MANUAL_TAG_SUGGEST_STATE_RESET":var r=t.stateKey;return e.set(r,Ee({},ve));case"GET_SUGGESTED_TAGS_SUCCESS":var o=t.stateKey,i=t.intent,s=t.suggestedTags,c=e.get(o);return c?e.set(o,Object.assign({},c,{intent:i,suggestedTags:s})):e;case"CELL_SUGGEST_CURSOR_DOWN":var l=t.stateKey,d=e.get(l);return d?e.set(l,Object.assign({},d,{cursor:++d.cursor})):e;case"CELL_SUGGEST_CURSOR_UP":var u=t.stateKey,p=e.get(u);return p?e.set(u,Object.assign({},p,{cursor:--p.cursor})):e;case"CELL_EDITABLE_STATE_RESET":var h=t.stateKey,f=e.get(h);return f?e.set(h,Object.assign({},f,{intent:"",suggestedTags:[]})):e;case"CELL_EDITABLE_SET_ACTIVE_CELL":var g=t.stateKey,m=t.activeRowIndex,S=t.activeColumnIndex,E=e.get(g);return E&&null===m||null===S?e.set(g,Object.assign({},E,{intent:"",suggestedTags:[]})):e;default:return e}},reports:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye({},be),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REPORTS_RESET":return Object.assign({},e,{projectId:null,incomingFilter:{projectId:null,datasets:[]},reportTypes:Object(L.Map)(),filter:{datasets:[],reportType:null,entries:50,interval:"3h",timeFrom:null,timeTo:null}});case"REPORTS_SET_PROJECT_ID":var n=t.projectId,a=e.incomingFilter,r={datasets:[],reportType:null,entries:50,interval:"3h",timeFrom:null,timeTo:null};return a.projectId==n&&(r.datasets=a.datasets),Object.assign({},e,{projectId:n,filter:Object.assign({},r),reportTypes:Object(L.Map)(),incomingFilter:{projectId:null,datasets:[]}});case"REPORTS_SET_INCOMING_FILTER":var o=t.projectId,i=t.datasets,s=e.filter;return o==e.projectId?(s.datasets=i||[],Object.assign({},e,{incomingFilter:{projectId:null,datasets:[]},filter:Object.assign({},s)})):Object.assign({},e,{incomingFilter:{projectId:o,datasets:i}});case"REPORTS_SET_FILTER":var c=t.datasets,l=t.reportType,d=t.entries,u=t.interval,p=t.timeFrom,h=t.timeTo,f=e.filter;return void 0!==c&&(f.datasets=c),void 0!==l&&(f.reportType=l),void 0!==d&&(f.entries=d),void 0!==u&&(f.interval=u),void 0!==p&&(f.timeFrom=p),void 0!==h&&(f.timeTo=h),Object.assign({},e,{filter:Object.assign({},f)});case"PROJECTS_MANAGER_PROJECT_DATASETS_LOAD_SUCCESS":var g=t.projectId,m=t.datasets,S=e.filter,E=S.datasets;return g!==e.projectId||E.length?e:(m.forEach((function(e){e.id&&e.status&&"COMPLETED"==e.status&&e.name&&E.push(e.id)})),S.datasets=E,Object.assign({},e,{filter:Object.assign({},S)}));case"REPORTS_GET_REPORT_TYPES_SUCCESS":var v=t.reportTypes,T=e.filter,y=Object(L.Map)();return T.reportType||(T.reportType=v.length?v[0].name:null),v.forEach((function(e){y=y.set(e.name,e)})),Object.assign({},e,{reportTypes:y,filter:Object.assign({},T)});default:return e}},preferences:we}));Le=Object(f.createStore)(Ge,je,"production"!=W.a.env?Object(f.applyMiddleware)(g.default,Ue):Object(f.applyMiddleware)(g.default))}else{var Fe=Object(L.Map)();Fe=Fe.set("-1",{id:"-1",clientId:"-1",name:"Test Project",created:1498754327022,locale:"en-US",description:"Test Project Description",vertical:"OTHER"});var Ve=Object(L.Map)(),He=Object(L.Map)({"-10":{_key:"-10",id:"-10",clientId:"-1",projectId:"-1",name:"Dataset One",type:"Audio/Voice (Live)",description:"Test Dataset One",locale:"en-US",created:1503012662726,status:"COMPLETED",task:"INDEX",percentComplete:void 0,errorCode:void 0},"-11":{_key:"-11",id:"-11",clientId:"-1",projectId:"-1",name:"Dataset Two",type:"Audio/Voice (Live)",description:"Test Dataset Two",locale:"en-US",created:1503052662727,status:"COMPLETED",task:"INDEX",percentComplete:void 0,errorCode:void 0},"-12":{_key:"-12",id:"-12",clientId:"-1",projectId:"-1",name:"Dataset Three",type:"Chat/Text",description:"Test Dataset Three",locale:"en-US",created:1503032662727,status:"NULL"},"-13":{_key:"-13",id:"-13",clientId:"-1",projectId:"-1",name:"Dataset Four",type:"Chat/Text",description:"Test Dataset Four",locale:"en-US",created:1503031662727,status:"COMPLETED",task:"INDEX",percentComplete:void 0,errorCode:void 0}});Ve=Ve.set("-1",He);var qe={app:xe(xe({},C),{},{userId:"-1",csrfToken:"test"}),header:xe(xe({},D),{},{client:{id:"-1",name:"Test Client"},username:"TestUser@247-inc.com"}),consistencyReport:xe({},V),projectsManager:{projects:Fe,projectDatasets:Ve,trackDatasetsIds:{},projectModels:Object(L.Map)(),projectConfigs:Object(L.Map)(),projectIntents:Object(L.Map)(),trackModelsIds:{},trackModelsBatchTestIds:{}},projectListSidebar:xe({},Y),taggingGuide:xe({},$),tagDatasets:xe({},le),config:{},preferences:{}},We=Object(f.combineReducers)({app:O,header:_,consistencyReport:H,projectsManager:U,projectListSidebar:X,taggingGuide:ee,tagDatasets:de,config:_e,preferences:we});Le=Object(f.createStore)(We,qe,Object(f.applyMiddleware)(g.default))}var Ke,ze=Le,Ye=(n(14),n(32)),Je=n.n(Ye),Xe=n(8),Qe=n.n(Xe),Ze=n(9),$e=n.n(Ze),et=n(3),tt=n.n(et),nt=n(10),at=n.n(nt),rt=n(11),ot=n.n(rt),it=n(6),st=n.n(it),ct=(n(16),n(146),n(76),n(281),n(252)),lt=n.n(ct),dt=n(121),ut=(n(147),n(26)),pt=n.n(ut),ht=(n(71),"/nltools/private"),ft="config",gt="clients",mt="csrfToken",St="version",Et="files",vt="projects",Tt="testDigitalTranscription",yt="patchCombinedModel",bt="modelBatchTest",Ct="speechModel",It="modelCheckBatchTest",Ot="modelsDigital",Rt="listBatchTests",kt="testSpeechUtterance",Dt="dummySpeechTest",_t="projectsForClient",At="projectById",Nt="projectDatasets",Lt="promoteProject",jt="demoteProject",Pt="suggestedTags",wt="configById",Mt="consistency",xt="importDataset",Bt="importDatasetColumnsBind",Ut="datasets",Gt="datasetsByClient",Ft="datasetById",Vt="datasetSearch",Ht="datasetStats",qt="datasetValidationStatsById",Wt="addManualTag",Kt="updateManualTag",zt="deleteTag",Yt="datasetComment",Jt="datasetExportById",Xt="datasetExport",Qt="datasetTransform",Zt="datasetTransformRetry",$t="datasetTransformCancel",en="dataset",tn="addDatasetAutoTag",nn="buildModel",an="buildModelSpeech",rn="modelDelete",on="modelUpdate",sn="models",cn="reportFields",ln="projectDatasetsTransformStatus",dn="modelState",un="modelDownload",pn="modelStatistics",hn="modelTrainingOutputs",fn="modelConfigDownload",gn="modelsForProject",mn="modelConfigsForProject",Sn="getSpeechConfig",En="intentGuideStats",vn="intentGuideTag",Tn="intentGuideExport",yn="intentsForProject",bn="intentGuideSearch",Cn="intentGuideImportCancel",In="intentGuideImportCommit",On="intentGuideImport",Rn="intentGuideImportMapping",kn="intentGuideTemplate",Dn="modelConfigTemplate",_n="datasetTemplate",An="wordClassDefault",Nn="locales",Ln="verticals",jn="datatypes",Pn="appConfig",wn="userGroups",Mn="logIngest",xn="addTechnology",Bn="getTechnology",Un="updateTechnology",Gn="getVectorizer",Fn="getVectorizerByClientProject",Vn="getVectorizerByTechnology",Hn=(Ke={},h()(Ke,ft,(function(){return"configs"})),h()(Ke,gt,(function(e){return"clients?itsClientId=".concat(e.itsClientId,"&itsAppId=").concat(e.itsAppId)})),h()(Ke,St,(function(){return"version"})),h()(Ke,mt,(function(){return"csrftoken"})),h()(Ke,Pn,(function(e){return"configProperties?propertyName=kibanaLogURL,kibanaLogIndex,itsURL,ufpURL,oAuthLogoutURL,environment,amplitudeApiKey,logoutWarningTimeout,logoutTimeout,speechTestTimeout,userAccountLink,internalSupportLink,externalSupportLink,documentationLink,orionURL"})),h()(Ke,Tt,(function(e){return"clients/".concat(e.clientId,"/projects/").concat(e.projectId,"/models/").concat(e.modelId,"/eval_transcriptions?testModelType=").concat(e.testModelType)})),h()(Ke,bt,(function(e){return"clients/".concat(e.clientId,"/projects/").concat(e.projectId,"/models/").concat(e.modelId,"/eval_datasets?testModelType=").concat(e.testModelType)})),h()(Ke,It,(function(e){return"clients/".concat(e.clientId,"/projects/").concat(e.projectId,"/models/").concat(e.modelId,"/check_eval/").concat(e.modelTestJobId)})),h()(Ke,Rt,(function(e){return"clients/".concat(e.clientId,"/projects/").concat(e.projectId,"/models/").concat(e.modelId,"/batch_tests")})),h()(Ke,kt,(function(e){return"clients/".concat(e.clientId,"/projects/").concat(e.projectId,"/models/").concat(e.modelId,"/eval_utterance?fileType=").concat(e.fileType)})),h()(Ke,Dt,(function(){return"DummySpeechTest.wav"})),h()(Ke,vt,(function(e){return"clients/".concat(e.clientId,"/projects")})),h()(Ke,_t,(function(e){var t="clients/".concat(e.clientId,"/projects?clientId=").concat(e.clientId);return void 0!==e.startIndex&&(t+="&startIndex=".concat(e.startIndex)),void 0!==e.limit&&(t+="&limit=".concat(e.limit)),t})),h()(Ke,At,(function(e){return"clients/".concat(e.clientId,"/projects/").concat(e.projectId)})),h()(Ke,Lt,(function(e){var t="clients/".concat(e.clientId,"/projects/").concat(e.projectId,"/promote?globalProjectName=").concat(e.globalProjectName);return e.globalProjectId&&(t+="&globalProjectId=".concat(e.globalProjectId)),t})),h()(Ke,jt,(function(e){return"clients/".concat(e.clientId,"/projects/").concat(e.projectId,"/demote")})),h()(Ke,Nt,(function(e){return"clients/".concat(e.clientId,"/projects/").concat(e.projectId,"/datasets")})),h()(Ke,ln,(function(e){return"clients/".concat(e.clientId,"/projects/transform/status")})),h()(Ke,Et,(function(e){return"files/".concat(e.fileId)})),h()(Ke,En,(function(e){return"search/".concat(e.projectId,"/intentguide/importstats")})),h()(Ke,vn,(function(e){return"content/".concat(e.projectId,"/intents/").concat(e.intentId)})),h()(Ke,yn,(function(e){return"content/".concat(e.projectId,"/intents")})),h()(Ke,bn,(function(e){var t=e.sort;return"search/".concat(e.projectId,"/intentguide?").concat(t?"sortBy=".concat(t.property,":").concat(t.direction):"")})),h()(Ke,Tn,(function(e){return"clients/".concat(e.clientId,"/projects/").concat(e.projectId,"/taggingguide/export")})),h()(Ke,Cn,(function(e){return"taggingguide/".concat(e.clientId,"/").concat(e.projectId,"/import/").concat(e.token,"/abort")})),h()(Ke,In,(function(e){return"taggingguide/".concat(e.clientId,"/").concat(e.projectId,"/import/").concat(e.token,"/commit")})),h()(Ke,On,(function(e){return"taggingguide/".concat(e.clientId,"/").concat(e.projectId,"/import")})),h()(Ke,Rn,(function(e){return"taggingguide/".concat(e.clientId,"/").concat(e.projectId,"/import/").concat(e.token,"/column/mapping?ignoreFirstRow=").concat(e.skipFirstRow?"true":"false")})),h()(Ke,kn,(function(){return"TaggingGuideTemplate.zip"})),h()(Ke,wt,(function(e){return"clients/".concat(e.clientId,"/configs/").concat(e.configId,"/data")})),h()(Ke,Sn,(function(e){return"clients/".concat(e.clientId,"/configs/").concat(e.configId)})),h()(Ke,mn,(function(e){return"clients/".concat(e.clientId,"/projects/").concat(e.projectId,"/configs")})),h()(Ke,Dn,(function(){return"ModelConfigTemplate.zip"})),h()(Ke,Mt,(function(e){return"content/".concat(e.projectId,"/verify?startIndex=").concat(e.startIndex,"&limit=").concat(e.limit,"&sortBy=").concat(e.sortProperty,":").concat(e.sortDirection)})),h()(Ke,Pt,(function(e){return"search/".concat(e.projectId,"/intents?q=").concat(e.intent)})),h()(Ke,Wt,(function(e){return"content/".concat(e.projectId,"/tag")})),h()(Ke,Kt,(function(e){return"content/".concat(e.projectId,"/tag/update")})),h()(Ke,zt,(function(e){return"content/".concat(e.projectId,"/tag/delete")})),h()(Ke,xt,(function(){return"files/import"})),h()(Ke,Bt,(function(e){return"files/import/".concat(e.token,"/column/mapping?ignoreFirstRow=").concat(e.skipFirstRow?"true":"false")})),h()(Ke,Ut,(function(e){return"datasets"})),h()(Ke,Gt,(function(e){return"datasets?clientId=".concat(e.clientId)})),h()(Ke,Ft,(function(e){return"clients/".concat(e.clientId,"/projects/").concat(e.projectId,"/datasets/").concat(e.datasetId)})),h()(Ke,Jt,(function(e){return"clients/".concat(e.clientId,"/projects/").concat(e.projectId,"/datasets/").concat(e.datasetId,"/export")})),h()(Ke,Xt,(function(e){return"clients/".concat(e.clientId,"/projects/").concat(e.projectId,"/export")})),h()(Ke,Vt,(function(e){return"search/".concat(e.projectId,"?startIndex=").concat(e.startIndex,"&limit=").concat(e.limit,"&sortBy=").concat(e.sortKey,":").concat(e.sortDirection)})),h()(Ke,Ht,(function(e){return"search/".concat(e.projectId,"/stats")})),h()(Ke,qt,(function(e){return"clients/".concat(e.clientId,"/projects/").concat(e.projectId,"/datasets/").concat(e.datasetId,"/validate")})),h()(Ke,Yt,(function(e){return"content/".concat(e.projectId,"/comment")})),h()(Ke,Qt,(function(e){return"clients/".concat(e.clientId,"/projects/").concat(e.projectId,"/datasets/").concat(e.datasetId,"/transform?").concat(e.queryParams)})),h()(Ke,Zt,(function(e){return"clients/".concat(e.clientId,"/projects/").concat(e.projectId,"/datasets/").concat(e.datasetId,"/transform/retry?").concat(e.queryParams)})),h()(Ke,$t,(function(e){return"clients/".concat(e.clientId,"/projects/").concat(e.projectId,"/datasets/").concat(e.datasetId,"/transform/cancel")})),h()(Ke,en,(function(e){return"clients/".concat(e.clientId,"/projects/").concat(e.projectId,"/datasets/").concat(e.datasetId)})),h()(Ke,tn,(function(e){return"projects/".concat(e.projectId,"/datasets/").concat(e.datasetId,"?autoTagDataset=true")})),h()(Ke,_n,(function(){return"sampleDataset.zip"})),h()(Ke,nn,(function(e){return"clients/".concat(e.clientId,"/models/").concat(e.modelId,"/build")})),h()(Ke,an,(function(e){return"clients/".concat(e.clientId,"/models/").concat(e.modelId,"/build?modelType=speech")})),h()(Ke,dn,(function(e){return"clients/".concat(e.clientId,"/projects/").concat(e.projectId,"/models/").concat(e.modelId,"/status")})),h()(Ke,gn,(function(e){return"clients/".concat(e.clientId,"/projects/").concat(e.projectId,"/models")})),h()(Ke,Ot,(function(e){return"clients/".concat(e.clientId,"/projects/").concat(e.projectId,"/models?modelTechnology=").concat(e.modelTechnology,"&toDefault=").concat(e.toDefault)})),h()(Ke,sn,(function(e){return"clients/".concat(e.clientId,"/projects/").concat(e.projectId,"/models")})),h()(Ke,Ct,(function(e){return"clients/".concat(e.clientId,"/projects/").concat(e.projectId,"/models?trainNow=").concat(e.trainNow,"&modelType=").concat(e.modelType)})),h()(Ke,rn,(function(e){return"clients/".concat(e.clientId,"/projects/").concat(e.projectId,"/models/").concat(e.modelId)})),h()(Ke,on,(function(e){return"clients/".concat(e.clientId,"/projects/").concat(e.projectId,"/models/").concat(e.modelId)})),h()(Ke,An,(function(){return"DefaultWordclassFile.zip"})),h()(Ke,yt,(function(e){return"clients/".concat(e.clientId,"/projects/").concat(e.projectId,"/models/").concat(e.modelId,"/speech?digitalHostedUrl=").concat(e.digitalHostedUrl)})),h()(Ke,fn,(function(e){return"configs/".concat(e.configId,"/download")})),h()(Ke,hn,(function(e){return"clients/".concat(e.clientId,"/projects/").concat(e.projectId,"/models/").concat(e.modelId,"/training-outputs")})),h()(Ke,pn,(function(e){return"clients/".concat(e.clientId,"/projects/").concat(e.projectId,"/models/").concat(e.modelId,"/statistics")})),h()(Ke,un,(function(e){return"clients/".concat(e.clientId,"/projects/").concat(e.projectId,"/models/").concat(e.modelId,"/download")})),h()(Ke,cn,(function(e){return"clients/".concat(e.clientId,"/search/").concat(e.projectId,"/datasets/").concat(e.datasetId,"/getReportFields")})),h()(Ke,Nn,(function(e){return"resources/locales"})),h()(Ke,wn,(function(e){return"userGroups"})),h()(Ke,Ln,(function(e){return"resources/verticals"})),h()(Ke,jn,(function(e){return"resources/datatypes"})),h()(Ke,Mn,(function(e){return"ingest/".concat(e.logLevel,"/log")})),h()(Ke,xn,(function(e){return"preference?clientId=".concat(e.clientId,"&setDefault=").concat(e.setDefault)})),h()(Ke,Bn,(function(e){return"preference?clientId=".concat(e.clientId)})),h()(Ke,Un,(function(e){return"preference?clientId=".concat(e.clientId,"&id=").concat(e.id)})),h()(Ke,Gn,(function(){return"vectorizer"})),h()(Ke,Fn,(function(e){return"vectorizer/clients/".concat(e.clientId,"/projects/").concat(e.projectId)})),h()(Ke,Vn,(function(e){return"vectorizer/type/".concat(e.technology)})),Ke),qn={v1:"v1"},Wn="v1",Kn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Hn[e],a=null;if(n){var r=n(t);P.a.isNil(r)||(a="".concat("/dist/data","/").concat(r))}return a},zn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wn,a=null,r=qn[n],o=Hn[e];if(o){var i=o(t);P.a.isNil(r)||P.a.isNil(i)||(a="".concat(ht,"/").concat(r,"/").concat(i))}return a},Yn=n(447),Jn=n.n(Yn),Xn=n(694),Qn=n.n(Xn);n(548);function Zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function $n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zn(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(965).polyfill(),n(26);var ea,ta=function(){var e=Qn()(Jn.a.mark((function e(t){var n,a,r,o,i,s,c,l,d,u,p,h,f,g,m,S,E,v,T,y,b,C,I,O,R;return Jn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.fetchUrl,a=t.fetchMethod,r=void 0===a?"get":a,o=t.onFetchSuccess,i=void 0===o?null:o,s=t.onFetchFailure,c=void 0===s?null:s,l=t.fetchHeaders,d=void 0===l?{}:l,u=t.fetchRequestData,p=void 0===u?{}:u,h=t.dispatch,f=t.getState,g=t.params,m=void 0===g?null:g,S=t.contentType,E=void 0===S?"application/json":S,v=t.accept,T=void 0===v?"application/json":v,e.prev=1,b=f(),C=b.app.csrfToken,I=b.app.userId,P.a.isNil(I)&&!P.a.isNil(m)&&(I=m.userId),O=$n({},d),P.a.isNil(C)||(O["X-CSRF-TOKEN"]=C),P.a.isNil(E)||(O["Content-Type"]=E),P.a.isNil(T)||(O.Accept=T),e.next=12,fetch(n,$n({credentials:"same-origin",method:r,headers:O},p));case 12:return y=e.sent,e.next=15,y.json();case 15:R=e.sent,i&&h(i(R)),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(1),c&&h(c(e.t0,y)),Pr.dispatchError(e.t0,h,er);case 23:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(t){return e.apply(this,arguments)}}(),na=(n(72),"landing"),aa="tagDatasets",ra="betatagDatasets",oa="projects",ia="projectId",sa="datasets",ca="models",la="createModel",da="createSpeechModel",ua="tuneModel",pa="viewModel",ha="viewSpeechModel",fa="tuneSpeechModel",ga="testModel",ma="batchtestModel",Sa="reports",Ea="resolveInconsistency",va="updateProject",Ta="readProject",ya="manageIntents",ba="manageSettings",Ca="settings",Ia="/tag-datasets",Oa="/tag-datasets-beta",Ra="/projects",ka="/datasets",Da="/models",_a="/models/create",Aa="/models/speechcreate",Na="/models/tune",La="/models/view",ja="/models/viewspeech",Pa="/models/tunespeech",wa="/models/test",Ma="/models/batchtest",xa="/resolve-inconsistency",Ba="/projects/update",Ua="/manage-intents",Ga="/manage-settings",Fa="/settings",Va=function(e){var t=P.a.isNil(e.client)?{}:e.client,n=t.standardClientName,a=void 0===n?"":n,r=t.itsAppId,o=void 0===r?"":r;return"?clientid=".concat(a,"&appid=").concat(o)},Ha=function(e){return"".concat(Va(e),"&projectid=").concat(e.projectId)},qa=function(e){return"".concat(Ha(e),"&modelid=").concat(e.modelId)},Wa=(ea={},h()(ea,na,(function(e){return"".concat("")})),h()(ea,va,(function(e){return"".concat("").concat(Ba).concat(Ha(e))})),h()(ea,oa,(function(e){return"".concat("").concat(Ra).concat(Va(e))})),h()(ea,ia,(function(e){return"".concat("").concat(Ra).concat(Ha(e))})),h()(ea,Ta,(function(e){return"".concat("","/").concat(e.routeTag).concat(Ha(e))})),h()(ea,aa,(function(e){return"".concat("").concat(Ia).concat(Ha(e))})),h()(ea,ra,(function(e){return"".concat("").concat(Oa).concat(Ha(e))})),h()(ea,sa,(function(e){return"".concat("").concat(ka).concat(Ha(e))})),h()(ea,ca,(function(e){return"".concat("").concat(Da).concat(Ha(e))})),h()(ea,la,(function(e){return"".concat("").concat(_a).concat(Ha(e))})),h()(ea,da,(function(e){return"".concat("").concat(Aa).concat(Ha(e))})),h()(ea,ua,(function(e){return"".concat("").concat(Na).concat(Ha(e))})),h()(ea,pa,(function(e){return"".concat("").concat(La).concat(Ha(e))})),h()(ea,ha,(function(e){return"".concat("").concat(ja).concat(Ha(e))})),h()(ea,fa,(function(e){return"".concat("").concat(Pa).concat(Ha(e))})),h()(ea,ga,(function(e){return"".concat("").concat(wa).concat(qa(e))})),h()(ea,ma,(function(e){return"".concat("").concat(Ma).concat(qa(e))})),h()(ea,Sa,(function(e){return"".concat("","/reports").concat(Ha(e))})),h()(ea,Ea,(function(e){return"".concat("").concat(xa).concat(Ha(e))})),h()(ea,ya,(function(e){return"".concat("").concat(Ua).concat(Ha(e))})),h()(ea,ba,(function(e){return"".concat("").concat(Ga).concat(Ha(e))})),h()(ea,Ca,(function(e){return"".concat("").concat(Fa).concat(Va(e))})),ea),Ka=h()({projects:oa,datasets:sa,models:ca},T.MANAGE_MODELS_DATASETS,oa),za=function(e,t,n){var a=Wa[e](t),r=location.hash;(void 0===r?"":r).slice(1)!==a&&n.push(a)},Ya={TOOL_ID:"MWB",LOGIN_EVENT:"LoginUser",LOGOUT_EVENT:"LogoutUser",SELECT_CLIENT_EVENT:"SelectClientApp",CREATE_DATASET_EVENT:"CreateDataset",CREATE_DATASET_COMPLETED_EVENT:"CreateDatasetCompleted",CREATE_DATASET_FAILED_EVENT:"CreateDatasetFailed",DELETE_DATASET_EVENT:"DeleteDataset",DELETE_DATASET_COMPLETED_EVENT:"DeleteDatasetCompleted",DELETE_DATASET_FAILED_EVENT:"DeleteDatasetFailed",CREATE_MODEL_EVENT:"CreateModel",CREATE_MODEL_COMPLETED_EVENT:"CreateModelCompleted",CREATE_MODEL_FAILED_EVENT:"CreateModelFailed",DELETE_MODEL_EVENT:"DeleteModel",DELETE_MODEL_COMPLETED_EVENT:"DeleteModelCompleted",DELETE_MODEL_FAILED_EVENT:"DeleteModelFailed",TEST_SPEECH_MODEL_EVENT:"TestSpeechModel",TEST_SPEECH_MODEL_COMPLETED_EVENT:"TestSpeechModelCompleted",TEST_SPEECH_MODEL_FAILED_EVENT:"TestSpeechModelFailed",TEST_DIGITAL_MODEL_EVENT:"TestDigitalModel",TEST_DIGITAL_MODEL_COMPLETED_EVENT:"TestDigitalModelCompleted",DIGITAL_MODEL_TEST_FAILED_EVENT:"TestDigitalModelFailed",DOWNLOAD_MODEL_EVENT:"DownloadModel",IMPORT_TAGGING_GUIDE_EVENT:"ImportTaggingGuide",IMPORT_TAGGING_GUIDE_COMPLETED_EVENT:"ImportTaggingGuideCompleted",IMPORT_TAGGING_GUIDE_FAILED_EVENT:"ImportTaggingGuideFailed",RUN_BATCH_TEST_EVENT:"RunBatchTest"},Ja=function(e){arguments.length>1&&void 0!==arguments[1]||T.OBJECT_DEFAULT_VALUE,arguments.length>2&&void 0!==arguments[2]||T.OBJECT_DEFAULT_VALUE},Xa=n(136),Qa=n.n(Xa),Za=(n(380),{_handleError:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T.noop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T.noop,a=arguments.length>3?arguments[3]:void 0;e.response?a(t(e.response.data)):e.request?a(n(e)):a(t(e))},_handleSuccess:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T.noop,n=arguments.length>2?arguments[2]:void 0;n(t(e))},_api:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get",a=t.url,r=t.onApiError,o=void 0===r?T.noop:r,i=t.onApiNoResponse,s=void 0===i?T.noop:i,c=t.onApiSuccess,l=void 0===c?T.noop:c,d=t.onFinalizeApi,u=void 0===d?T.noop:d,p=t.cancelToken,h=void 0===p?Qa.a.CancelToken.source().token:p,f=t.data,g=void 0===f?{}:f,m=t.params,S=void 0===m?{}:m,E=t.headers,v=void 0===E?{}:E,y=(t.requestData,t.dispatch),b=void 0===y?function(){}:y;return Qa.a[n](a,g,{headers:v,params:S,cancelToken:h}).then((function(t){e._handleSuccess(t.data,l,b)})).catch((function(t){e._handleError(t,o,s,b)})).finally(u)},get:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._api(e,"get")},post:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._api(e,"post")},patch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._api(e,"patch")},put:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._api(e,"put")},delete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._api(e,"delete")}}),$a=function(e,t){new Promise((function(n,a){var r=zn(Mn,{logLevel:t});return new Promise((function(t,n){Za.post({url:r,headers:{"Content-Type":"text/plain"},data:e})}))}))},er=function(e){return function(t){t({type:"BAD_REQUEST",value:e}),$a(e,T.LOG_LEVEL_ERROR)}},tr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T.NOTIFICATION.interval;return function(n){n({type:"WARNING_REQUEST",value:e}),$a(e,T.LOG_LEVEL_WARNING),setTimeout((function(){n(ar())}),t)}},nr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T.NOTIFICATION.interval;return function(n){n({type:"GOOD_REQUEST",value:e}),setTimeout((function(){n(ar())}),t)}},ar=function(){return{type:"APP_STOP_SHOWING_SERVER_MESSAGE"}},rr=function(e){return{type:"MODAL_DIALOG_CHANGE",modalDialogState:e}},or=function(e){return{type:"UPDATE_USER_GROUPS",data:e}},ir=function(e,t){return function(n){var a,r=t.fileId;n({type:"FILE_REMOVE_ERROR",fileId:(a={fileId:r,error:e}).fileId,error:a.error})}},sr=function(e,t){return function(e){var n=t.fileId;e({type:"FILE_REMOVE_SUCCESS",fileId:{fileId:n}.fileId})}},cr=function(e){var t=e.fileId;return function(e,n){e({type:"FILE_REMOVE_REQUEST",fileId:{fileId:t}.fileId});var a=n(),r=zn(Et,{fileId:t,clientId:a.header.client.id});ta({fetchUrl:r,fetchMethod:"delete",onFetchSuccess:sr,onFetchFailure:ir,dispatch:e,getState:n,params:{fileId:t}})}},lr=function(e){return function(t){t(or(e))}},dr=function(e){return function(t,n){var a=e.value;!function(e){Qa.a.defaults.headers.common["X-CSRF-TOKEN"]=e,Qa.a.defaults.headers.common["Content-Type"]="application/json",Qa.a.defaults.headers.common.Accept="application/json"}(a),t(function(e){return{type:"LOGIN_SUCCESS",value:e}}(a)),t(function(e){var t=e.csrfToken;return function(e,n){var a=zn(wn,{csrfToken:t});ta({fetchUrl:a,fetchMethod:"get",onFetchSuccess:lr,dispatch:e,getState:n})}}({csrfToken:a}))}},ur=function(){return function(e,t){var n=t(),a=n.app.oAuthLogoutURL;a&&fetch(a,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){switch(window.location.href=T.LOGOUT,e.status){case 204:Ja(Ya.LOGOUT_EVENT,n)}})).catch((function(e){}))}},pr=function(e,t,n){return function(a,r){var o=r(),i=Object.assign({},{client:P.a.isNil(o.header.client)?{id:0,name:"Loading..."}:o.header.client,projectId:o.selectedProjectId},t);za(e,i,n)}},hr="No matching tags.",fr="Matching tags.",gr="This will create a new tag.",mr="To create a new tag, please follow the topic-goal format.",Sr="No tags to display.",Er=[{status:1,label:hr},{status:2,label:mr},{status:3,label:fr},{status:4,LABEL_TAG_NO_DISPLAY:Sr}],vr="The server communication error.",Tr="Elastic Search is not available.",yr="Bad request.",br="Unathorized.",Cr="Not found.",Ir="Not allowed.",Or="Not acceptable.",Rr="Already tagged.",kr="Too many requests.",Dr="Server communication error.",_r="Your request did not complete in a timely manner. Please try again.",Ar="Dataset transformation failed.",Nr={deleteTransformationItem:function(e){return"Deleted Transformation item: [".concat(JSON.stringify(e),"].")},tagCreateFail:"Tag could not be added.",tagCreated:"Tag was successfully added.",tagUpdated:"Tag was successfully updated.",tagRemoved:"Tag was successfully removed.",fileImportFail:"There was a problem importing the file.",emptyFile:"Empty file is uploaded.",fileParseFail:"Error in parsing the data given in the uploaded file, please check documentation for expected format.",taggingGuideImportSuccess:function(e){return"Successfully imported ".concat(e," tag").concat(1==e?"":"s",". Loading now...")},configFileUploaded:function(e){return"Config file '".concat(e,"' uploaded.")},configAlreadyExists:"Config already exists.",createdSuccess:function(e){return"".concat(e," created.")},createFailed:"Create Failed - Are you logged in?",projectCreated:function(e){return"Model ".concat(e," created.")},projectDemoted:"Model demoted to node level.",projectPromoted:"Model promoted to global level.",projectUpdateFailed:"Model update failed.",projectAlreadyExists:"Model already exists.",projectUpdated:"Model updated.",projectDeleted:function(e){return"Model ".concat(e," deleted.")},projectLatest:function(e){return"Switching to latest project for client ".concat(e,".")},commentUpdated:"Comment was successfully updated.",commentRemoved:"Comment was successfully removed.",granluarTagRemoved:"Granular tag removed.",bulkTagAdded:function(e){return'Bulk tag "'.concat(e,'" added.')},bulkTagUpdated:function(e){return'Bulk tag "'.concat(e,'" updated.')},bulkTagAddNUpdate:function(e){return'Bulk tag "'.concat(e,'" added and updated.')},bulkTagRemoved:"Bulk tag removed.",invalidIntent:function(e){return"Tag ".concat(e," is not in a topic-goal format.")},modelAlreadyExists:"Model version already exists.",testResultsRecieved:"Model test results received.",testRequestSubmitted:"Model batch test request submitted.",datasetCreated:function(e){return"Dataset ".concat(e," created.")},datasetDeleted:"Dataset successfully deleted.",datasetUsed:"Cannot delete dataset. It is used in a model.",datasetAlreadyExists:function(e){return"Dataset ".concat(e," already exists.")},datasetCreateError:"Dataset creation error.",datasetOperationNotAllowed:"Source type is not allowed for the user.",uniqueRollupCount:"Datasets should have more than 1 unique rollup intents.",modelCreated:function(e){return"Model version ".concat(e," created.")},modelUpdated:function(e){return"Model version ".concat(e," updated.")},modelDeleted:function(e){return"Model version ".concat(e," deleted.")},markModelFlagSuccess:function(e){return"Model version ".concat(e," is marked for deploy.")},markModelFlagFailed:function(e){return"Unable to mark model version ".concat(e," as deployable.")},unmarkModelFlagSuccess:function(e){return"Model version ".concat(e," is unmarked for deploy.")},unmarkModelFlagFailed:function(e){return"Unable to unmark model version ".concat(e," from deployable.")},modelAlreadyDeleted:"Model is already deleted.",modelDeleteFailed:"Model deletion failed.",buildModelRequest:"Build request is submitted.",audioFileNotAvailable:"Something went wrong. Please retry again.",speechTestTimeoutMsg:"Your request timed out. Please retry again",modelTestConnectionError:"Could not process your request at this moment. Please check with the admin.",modelTestFailure:"Could not process your request. Please retry again.",audioRecordFail:"Unable to record audio at this time.",micPermissionDenied:"Permission denied to record audio.",fileDownloadFailed:"Unable to download file.",audioNotPlayable:"Unable to play audio file.",evalSpeechFailed:"Failed to evaluate the utterance.",invalidConfigFile:"Invalid File. Please upload a valid json file.",sessionExpired:"Your session is expired. Please login again."},Lr=function(){switch(W.a.lang){case"english":default:return a}},jr=Lr(),Pr=new(function(){function e(){Qe()(this,e),this.handleErrors=this.handleErrors.bind(this),this.getErrorMessage=this.getErrorMessage.bind(this),this.dispatchError=this.dispatchError.bind(this)}return $e()(e,[{key:"getErrorMessage",value:function(e){switch(Number(e)){case 503:return jr.ERROR_SERVER_503;case 500:return jr.ERROR_SERVER_500;case 400:return jr.ERROR_SERVER_400;case 401:return jr.ERROR_SERVER_401;case 403:return jr.ERROR_SERVER_403;case 404:return jr.ERROR_SERVER_404;case 405:return jr.ERROR_SERVER_405;case 406:return jr.ERROR_SERVER_406;case 409:return jr.ERROR_SERVER_409;case 429:return jr.ERROR_SERVER_TOO_MANY;default:return jr.ERROR_SERVER_UNKNOWN}}},{key:"handleErrors",value:function(e){if(e.ok)return e;throw e}},{key:"dispatchError",value:function(e,t,n){Number(e.status);e.message?"Failed to fetch"===e.message?t(tr(jr.ERROR_SERVER_DOWN)):"Transformation failed"===e.message&&t(n(jr.ERROR_TRANSFORM_FAIL)):e.text().then((function(a){if(409===Number(e.status)){var r;try{r=JSON.parse(a)}catch(e){}r&&r.message?t(tr(r.message)):t(tr(a))}else{var o;try{o=JSON.parse(a)}catch(e){}o&&o.message?t(n("".concat(o.message))):t(n("".concat(a)))}}))}}]),e}()),wr=(n(81),function(e){var t=Object.assign({},e);return t.hasOwnProperty("id")&&(t.id="".concat(t.id)),t.hasOwnProperty("projectId")&&(t.projectId="".concat(t.projectId)),t.hasOwnProperty("cid")&&(t.cid="".concat(t.cid)),t.hasOwnProperty("clientId")&&(t.clientId="".concat(t.clientId)),t.hasOwnProperty("configId")&&(t.configId="".concat(t.configId)),t}),Mr=function(e){var t=wr(e);if(t.datasetIds.length>1){var n=[];t.datasetIds.forEach((function(e){n.push(e.trim())})),t.datasetIds=n}return t},xr=function(e){return{type:"SET_APP_HEADER_ACTION_ITEMS",actionItems:e}},Br=function(e){return{type:"CLIENT_CHANGE",client:e}},Ur=zn(St),Gr=function(e){return function(t){var n=[];if(e&&e.length){e.forEach((function(e){var t=wr(e),a=t.itsClientId,r=t.itsAppId,o=t.itsAccountId;a&&r&&o&&n.push(t)}));var a=n.sort((function(e,t){return e.itsClientId.localeCompare(t.itsClientId)}));t({type:"RECEIVE_CLIENT_LIST",clientList:a,receivedAt:Date.now()})}else t(rr({type:T.DIALOGS.UNAUTHORIZED_USER,dispatch:t}))}},Fr=function(e,t){return function(e){t.status===T.SC_FORBIDDEN?e(rr({type:T.DIALOGS.UNAUTHORIZED_USER,dispatch:e})):t.status===T.SC_OK&&e(rr({type:T.DIALOGS.UNAUTHORIZED_USER,message:T.CLIENT_PICKER_ERROR,header:T.CLIENT_PICK_ERROR_TITLE,dispatch:e}))}},Vr=function(e){return function(t,n){t(Br(e));var a=n();Ja(Ya.SELECT_CLIENT_EVENT,a)}},Hr=n(1),qr=n.n(Hr);function Wr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var Kr=function(e){at()(n,e);var t=Wr(n);function n(e){var a;return Qe()(this,n),(a=t.call(this,e)).props=e,a.documentClickHandler=a.documentClickHandler.bind(tt()(a)),a}return $e()(n,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.documentClickHandler)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.documentClickHandler)}},{key:"documentClickHandler",value:function(){this.props.contextMenuChange(!1)}},{key:"render",value:function(){var e=this.props,t=e.top,n=e.left,a={top:"".concat((t||0)+10,"px"),left:"".concat((n||0)+10,"px"),position:"fixed",zIndex:55555};return i.a.createElement("div",{className:"TaggerContextMenu",style:a},this.props.children)}}],[{key:"getPageXY",value:function(e){var t,n,a,r=e.pageX||0,o=e.pageY||0;return t=(n=e.target&&e.target.ownerDocument||document).documentElement,a=n.body,null==e.pageX&&null!=e.clientX?(r=e.clientX-(t&&t.clientLeft||a&&a.clientLeft||0),o=e.clientY-(t&&t.clientTop||a&&a.clientTop||0)):(r-=t&&t.scrollLeft||a&&a.scrollLeft||0,o-=t&&t.scrollTop||a&&a.scrollTop||0),{pageX:r,pageY:o,doc:t,body:a}}}]),n}(o.Component);Kr.propTypes={top:qr.a.number,left:qr.a.number},Kr.defaultProps={top:0,left:0};var zr=Object(l.connect)((function(){return{}}),(function(e){return{contextMenuChange:function(t){e(function(e){return{type:"CONTEXT_MENU_CHANGE",contextMenuState:e}}(t))},dispatch:e}}))(Kr),Yr=(n(549),n(15)),Jr=n.n(Yr),Xr=n(695),Qr=n.n(Xr);function Zr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var $r=function(e){at()(n,e);var t=Zr(n);function n(e){var a;return Qe()(this,n),(a=t.call(this,e)).props=e,a.onClickNotWorking=a.onClickNotWorking.bind(tt()(a)),a.state={items:a.buildItems(a.props.items)},a}return $e()(n,[{key:"componentWillReceiveProps",value:function(e){this.props=e,this.setState({items:this.buildItems(this.props.items)})}},{key:"onClickNotWorking",value:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()}},{key:"buildItems",value:function(e){if(!e||!Array.isArray(e)||!e.length)return null;var t,n=this.props,a=n.hideItems,r=n.className,o=[],s="TaggerCascadeMenu".concat(Date.now());for(t=0;t<e.length;t++){var c=e[t];a&&c.name&&a[c.name]||o.push(i.a.createElement(Jr.a,{direction:"row",className:"TaggerCascadeMenuItem".concat(c.className?" ".concat(c.className):"").concat(c.disabled?" disabled":""),key:"".concat(s,"-").concat(t),onMouseEnter:c.onMouseEnter,onMouseLeave:c.onMouseLeave},c.disabled?null:this.buildItems(c.items),c.icon?i.a.createElement(Jr.a,{pad:"small",className:"TaggerCascadeMenuItemIcon",onClick:c.disabled||!c.onClick?this.onClickNotWorking:c.onClick},c.icon):null,i.a.createElement(Jr.a,{pad:"small",flex:!0,className:"TaggerCascadeMenuItemLabel",onClick:c.disabled||!c.onClick?this.onClickNotWorking:c.onClick},c.text),c.items&&Array.isArray(c.items)&&e.length?i.a.createElement(Jr.a,{pad:"small",className:"TaggerCascadeMenuNextIcon",onClick:c.disabled||!c.onClick?this.onClickNotWorking:c.onClick},i.a.createElement(Qr.a,null)):null))}return o.length>0?i.a.createElement(Jr.a,{direction:"column",separator:"all",alignSelf:"start",className:"TaggerControl TaggerCascadeMenu".concat(r?" ".concat(r):""),key:s},o):null}},{key:"render",value:function(){return this.state.items}}]),n}(o.Component);$r.propTypes={items:qr.a.array,hideItems:qr.a.object,className:qr.a.string};n(62);var eo=n(4),to=n(696),no=n.n(to);function ao(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var ro=function(e){at()(n,e);var t=ao(n);function n(e){var a;return Qe()(this,n),(a=t.call(this,e)).props=e,a}return $e()(n,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.resize,a=e.header,r=e.content,o=e.actions,s=e.className;return i.a.createElement(no.a,{align:"center",closer:!1,id:"TaggerModal",className:"TaggerControl TaggerModal".concat(n?" TaggerModalResize":"").concat(s?" ".concat(s):"")},i.a.createElement(Jr.a,{direction:"column",id:t,flex:!0},i.a.createElement(Jr.a,{className:"ModalRow ModalHead"},i.a.createElement("span",{className:"ModalTitle"},"function"==typeof a?a():a)),i.a.createElement(Jr.a,{className:"ModalRow ModalContent",flex:!0},"function"==typeof r?r():r),i.a.createElement(Jr.a,{className:"ModalRow ModalActions",direction:"row",justify:"end"},"function"==typeof o?o():o)))}}]),n}(o.Component);function oo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}ro.propTypes={id:qr.a.string,resize:qr.a.bool,header:qr.a.oneOfType([qr.a.node,qr.a.func]),content:qr.a.oneOfType([qr.a.node,qr.a.func]),actions:qr.a.oneOfType([qr.a.node,qr.a.func]),className:qr.a.string};var io=function(e){at()(n,e);var t=oo(n);function n(e){var a;return Qe()(this,n),(a=t.call(this,e)).props=e,a.onClickOk=a.onClickOk.bind(tt()(a)),a.onClickCancel=a.onClickCancel.bind(tt()(a)),a}return $e()(n,[{key:"onClickCancel",value:function(){"function"==typeof this.props.onCancel?this.props.onCancel():ze.dispatch(rr(null))}},{key:"onClickOk",value:function(){"function"==typeof this.props.onOk?this.props.onOk():ze.dispatch(rr(null))}},{key:"getActions",value:function(){var e=this.props,t=e.actions;e.ok,e.cancel;t||(t=[n.ACTION_OK,n.ACTION_CANCEL]);var a=[];return-1!=t.indexOf(n.ACTION_CANCEL)&&a.push(i.a.createElement(eo.Button,{type:"flat",name:"cancel",key:"Cancel",onClick:this.onClickCancel,"data-qa":"cancel",styleOverride:{":focus":{outline:"none"}}},"Cancel")),-1!=t.indexOf(n.ACTION_OK)&&a.push(i.a.createElement(eo.Button,{name:"yes",key:"Yes",onClick:this.onClickOk,"data-qa":"ok"},"OK")),a}},{key:"render",value:function(){var e=this.props,t=e.header,n=e.message,a=e.className;return i.a.createElement(ro,{id:"AddDatasetDialog",header:t||"Are you sure?",content:n||"",actions:this.getActions(),className:"SimpleDialog".concat(a?" ".concat(a):"")})}}]),n}(o.Component);io.ACTION_OK="ACTION_OK",io.ACTION_CANCEL="ACTION_CANCEL",io.propTypes={header:qr.a.string,message:qr.a.oneOfType([qr.a.node,qr.a.func,qr.a.string]),ok:qr.a.string,onOk:qr.a.func,cancel:qr.a.string,onCancel:qr.a.func,actions:qr.a.array,className:qr.a.string};n(99);var so=function(e){var t=e.allPreferences,n=void 0===t?[]:t,a=e.clientLevelPreference,r=void 0===a?{}:a,o=e.isClientAvailable;return{type:"DEFAULT_TECHNOLOGY",allPreferences:n,clientLevelPreference:r,isClientAvailable:void 0!==o&&o,vectorizer:e.vectorizer}},co=function(e){return{type:"RECEIVE_PROJECT_PREFERENCE",response:e.response}},lo=function(e){return{type:"RECEIVE_LATEST_TECHNOLOGY",response:e.response}},uo=function(e){return function(t,n){var a=ze.getState().preferences,r=(a.allPreferences,a.vectorizer),o=void 0===r?{}:r,i=a.clientId,s=e.modelsResponse,c=e.technologyValue,l=void 0===c?"":c,d=l===T.MODEL_TECHNOLOGY.USE?o.USE:o.N_GRAM;s.forEach((function(e){var a=e.id,r=zn(Un,{clientId:i,id:a}),o=[{op:T.OP.REPLACE,path:"/type",value:l},{op:T.OP.REPLACE,path:"/value",value:d}];Za.patch({dispatch:t,getState:n,url:r,headers:{"Content-Type":"application/json-patch+json"},data:o,onApiSuccess:function(e){return function(e,t){return function(n,a){var r=ze.getState().preferences,o=r.allPreferences,i=void 0===o?[]:o,s=r.vectorizer,c=void 0===s?{}:s,l={};if(i&&0===i.length)i.push(e);else{var d=i.findIndex((function(e){return e.id===t}));i.splice(d,1,e),""!==(l=(l=i.find((function(e){return e.level===T.LEVEL.CLIENT})))&&Object.keys(l).length>0?l:{type:""}).type}n(so({allPreferences:i,clientLevelPreference:l,isClientAvailable:!0,vectorizer:c}))}}(e,a)},onApiError:function(e){return function(e,t){var n=ze.getState().preferences,a=n.allPreferences,r=void 0===a?[]:a,o=n.vectorizer,i=void 0===o?{}:o,s={type:""},c=!1;if(r&&0!==r.length){var l=r.find((function(e){return e.level===T.LEVEL.CLIENT}));c=""!==(s=l&&Object.keys(l).length>0?l:{type:""}).type}e(so({allPreferences:r,clientLevelPreference:s,isClientAvailable:c,vectorizer:i}))}}})}))}},po=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n){var a=ze.getState().preferences,r=a.allPreferences,o=void 0===r?[]:r,i=a.vectorizer,s=void 0===i?{}:i;o&&0===o.length?o.push(e):(o=o.filter((function(e){return e.level===T.LEVEL.MODEL}))).push(e);var c=(e.type===T.MODEL_TECHNOLOGY.USE?T.TENSORFLOW:T.N_GRAM)===T.TENSORFLOW?T.TECHNOLOGY.DIGITAL_TENSORFLOW:T.TECHNOLOGY.DIGITAL_NGRAM;t(so({allPreferences:o,clientLevelPreference:e,isClientAvailable:!0,vectorizer:s})),t(nr(T.SETTINGS_NOTIFICATION_MESSAGE(c)))}},ho=function(e){return function(e,t){var n=ze.getState().preferences,a=n.allPreferences,r=void 0===a?[]:a,o=n.vectorizer,i=void 0===o?{}:o,s={type:""},c=!1;if(r&&0!==r.length){var l=r.find((function(e){return e.level===T.LEVEL.CLIENT}));c=""!==(s=l&&Object.keys(l).length>0?l:{type:""}).type}e(so({allPreferences:r,clientLevelPreference:s,isClientAvailable:c,vectorizer:i}))}},fo=function(e){return function(t,n){var a=ze.getState().preferences,r=(a.allPreferences,a.clientId),o=a.vectorizer,i=void 0===o?{}:o,s=e.id,c=e.technologyValue,l=void 0===c?"":c,d=l===T.MODEL_TECHNOLOGY.USE?i.USE:i.N_GRAM;if(""!==s){var u=zn(Un,{clientId:r,id:s}),p=[{op:T.OP.REPLACE,path:"/type",value:l},{op:T.OP.REPLACE,path:"/value",value:d}];Za.patch({dispatch:t,getState:n,url:u,headers:{"Content-Type":"application/json-patch+json"},data:p,onApiSuccess:function(e){return po(e)},onApiError:function(e){return ho()}})}else t(go({clientId:r,technologyValue:l}))}},go=function(e){return function(t,n){var a=ze.getState().preferences,r=(a.allPreferences,a.vectorizer),o=void 0===r?{}:r,i=a.clientId,s=e.technologyValue,c=void 0===s?"":s,l=c===T.MODEL_TECHNOLOGY.USE?o.USE:o.N_GRAM,d=zn(xn,{clientId:i,setDefault:!0}),u={level:T.LEVEL.CLIENT,type:c,value:l,attribute:i};Za.post({dispatch:t,getState:n,url:d,data:u,onApiSuccess:function(e){return po(e)},onApiError:function(e){return ho()}})}},mo=function(e){return function(t,n){var a=ze.getState().preferences,r=(a.allPreferences,a.vectorizer),o=void 0===r?{}:r,i=a.clientId,s=e.modelsResponse,c=e.technologyValue,l=void 0===c?"":c,d=l===T.MODEL_TECHNOLOGY.USE?o.USE:o.N_GRAM;s.forEach((function(e){var a=zn(xn,{clientId:i,setDefault:!0}),r={level:T.LEVEL.MODEL,type:l,value:d,attribute:e};Za.post({dispatch:t,getState:n,url:a,data:r,onApiSuccess:function(e){return t=e,function(e,n){var a=ze.getState().preferences,r=a.allPreferences,o=void 0===r?[]:r,i=a.vectorizer,s=void 0===i?{}:i,c={};o.push(t),(c=(c=o.find((function(e){return e.level===T.LEVEL.CLIENT})))&&Object.keys(c).length>0?c:{type:""}).type,e(so({allPreferences:o,clientLevelPreference:c,isClientAvailable:!0,vectorizer:s}))};var t},onApiError:function(e){return function(e,t){var n=ze.getState().preferences,a=n.allPreferences,r=void 0===a?[]:a,o=n.vectorizer,i=void 0===o?{}:o,s={type:""},c=!1;if(r&&0!==r.length){var l=r.find((function(e){return e.level===T.LEVEL.CLIENT}));c=""!==(s=l&&Object.keys(l).length>0?l:{type:""}).type}e(so({allPreferences:r,clientLevelPreference:s,isClientAvailable:c,vectorizer:i}))}}})}))}},So=function(e){return function(t,n){var a=e.clientId,r=zn(Bn,{clientId:a});Za.get({dispatch:t,getState:n,url:r,onApiSuccess:function(t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(e,n){var a=ze.getState();if(t.length>0){var r=t.find((function(e){return e.level===T.LEVEL.CLIENT})),o=a.preferences.vectorizer;r&&Object.keys(r).length>0?e(so({allPreferences:t,clientLevelPreference:r,isClientAvailable:!0,vectorizer:o})):e(so({allPreferences:t,clientLevelPreference:{type:T.MODEL_TECHNOLOGY.N_GRAM},isClientAvailable:!1,vectorizer:o}))}}}(e,t)},onApiError:function(e){return function(e,t){var n=ze.getState().preferences.vectorizer;e(so({clientLevelPreference:{type:T.MODEL_TECHNOLOGY.N_GRAM},isClientAvailable:!1,allPreferences:[],vectorizer:n}))}}})}},Eo=function(e){return function(e,t){var n=zn(Gn);Za.get({dispatch:e,getState:t,url:n,onApiSuccess:function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(t,n){var a=n().preferences.allPreferences,r=void 0===a?[]:a;if(e.length>0){var o=e.find((function(e){return e.type===T.MODEL_TECHNOLOGY.N_GRAM})),i=e.find((function(e){return e.type===T.MODEL_TECHNOLOGY.USE&&1===e.isLatest})),s={N_GRAM:o.id,USE:i.id};t(so({vectorizer:s,allPreferences:r}))}}}(e)},onApiError:function(e){return function(e,t){var n=t().preferences.allPreferences;e(so({vectorizer:{},allPreferences:void 0===n?[]:n}))}}})}},vo=function(e){return function(t,n){var a=e.clientId,r=e.projectId,o=zn(Fn,{clientId:a,projectId:r});Za.get({dispatch:t,getState:n,url:o,onApiSuccess:function(e){return To(e)},onApiError:function(e){return To()}})}},To=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n){t(co({response:e}))}},yo=function(e){return function(t,n){e&&t(lo({response:e}))}},bo=function(){return function(e,t){e(lo({response:{}}))}},Co="#9B9B9B",Io="#a7a9af",Oo="#fff",Ro="#003467",ko="#004c97",Do={icon:{width:"10px",height:"13px"}},_o={marginLeft:"-10px",contextualBar:{borderBottom:"none",borderTop:"none",paddingTop:"5px"}},Ao={containerStyleOverride:{position:"relative"},menuListStyleOverride:{right:0}},No={bar:{borderTop:"none",borderBottom:"1px solid #ddd"},item:{margin:"24px 0px"}},Lo={marginBottom:"25px",textAlign:"left",color:"#313F54"},jo={container:{display:"flow-root",paddingBottom:"5px",marginTop:"10px"},label:{color:"#6E6E6E",fontSize:"14px",fontWeight:"normal",paddingBottom:"5px"},link:{float:"right",display:"inline-flex",icon:{paddingRight:"5px"},label:{color:"#6E6E6E",fontSize:"12px",fontWeight:"normal",textDecoration:"underline",cursor:"pointer"}}},Po={paddingLeft:"10px",border:"1px solid #DDDDDD",marginTop:"10px",boxShadow:"5px 3px 5px #d3d3d3",height:"220px",overflow:"auto"},wo={childContainer:{paddingLeft:"30px",paddingRight:"30px",paddingTop:"0px",paddingBottom:"0px",overflow:"auto",textAlign:"left"},container:{width:"520px",height:"480px",display:"grid",gridTemplateRows:"60px auto 60px"},ok:{marginLeft:"10px",paddingLeft:"25px",paddingRight:"25px"},cancel:{marginRight:"10px",paddingLeft:"25px",paddingRight:"15px"},header:{width:"100%",height:"100%",borderBottom:"1px solid",borderBottomColor:"#DADADA",display:"flex",flexDirection:"column",justifyContent:"center",title:{marginLeft:"23px",marginRight:"20px",fontSize:"20px",fontWeight:"bold"},titleIcon:{marginRight:"20px"}}},Mo={paddingLeft:"30px",paddingRight:"30px"},xo={fontWeight:"normal",marginTop:"15px"},Bo={width:"400px",marginBottom:"30px",marginRight:"auto",marginLeft:"auto",marginTop:"30px"},Uo={container:{display:"flex",height:"100%"},datasetContainer:{paddingLeft:"0px",borderRight:"1px solid #DADADA",width:"50%",label:{paddingBottom:"10px",marginTop:"30px",color:"#6E6E6E",fontSize:"14.5px",fontWeight:"normal"}}},Go={label:{color:"#6E6E6E",fontSize:"14.5px",fontWeight:"normal",paddingBottom:"5px"},link:{float:"right",display:"inline-flex",icon:{paddingRight:"5px",marginTop:"-3px"},label:{color:"#6E6E6E",fontSize:"12.5px",fontWeight:"normal",textDecoration:"underline",cursor:"pointer"}},speechRadioAndTextGroup:{marginTop:"20px",label:{marginBottom:"10px",color:"#6E6E6E",fontSize:"14.5px",fontWeight:"normal",paddingBottom:"5px"}}},Fo={container:{width:"400px",height:"300px",display:"grid",gridTemplateRows:"60px auto 60px"},childContainer:{marginTop:"30px",marginBottom:"20px"},top:"20%",cancel:{backgroundColor:"unset",paddingLeft:"10px",paddingRight:"10px"},ok:{marginLeft:"10px",paddingLeft:"25px",paddingRight:"25px"}},Vo={container:{disabled:{cursor:"not-allowed",lineHeight:"20px",display:"flex",alignItems:"center"},active:{cursor:"pointer",lineHeight:"20px",display:"flex",alignItems:"center"}},input:{disabled:{opacity:0,position:"absolute",cursor:"not-allowed",visibility:"hidden"},active:{opacity:0,position:"absolute",cursor:"pointer",visibility:"hidden"}},label:{color:"#111111",fontSize:"17px",lineHeight:"20px",fontWeight:"bold",padding:"0px 0px 0px 10px"},imageContainer:{checked:{border:"1px solid #FF8822",backgroundColor:"#F2E2D7"},hover:{border:"1px solid #FF8822"},unchecked:{border:"1px solid #E6E6E6"}},imageContainerChecked:{border:"1px solid #FF8822",backgroundColor:"#F2E2D7"},image:{maxHeight:"150px",maxWidth:"200px",display:"block",margin:"20px auto",textAlign:"center",boxShadow:"0px 0px 10px rgba(0, 0, 0, 0.35)"},icon:{disabled:{borderColor:"#DCE1E8"},activeChecked:{borderColor:"#FF8822"},activeUnchecked:{borderColor:"#999999"}}},Ho={header:{width:"100%",height:"100%",borderBottom:"1px solid",borderBottomColor:"#DADADA",display:"flex",flexDirection:"column",justifyContent:"center",title:{marginLeft:"23px",marginRight:"20px",fontSize:"20px",fontWeight:"bold"},titleIcon:{marginRight:"20px"}}};function qo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var Wo=function(e){at()(n,e);var t=qo(n);function n(e){var a;return Qe()(this,n),(a=t.call(this,e)).props=e,a.onClickClose=a.onClickClose.bind(tt()(a)),a.onClickOk=a.onClickOk.bind(tt()(a)),a}return $e()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.clientId,n=e.projectId,a=e.dispatch;t&&n&&a(vo({clientId:t,projectId:n}))}},{key:"onClickClose",value:function(){(0,this.props.dispatch)(rr(null))}},{key:"onClickOk",value:function(){var e=this.props,t=e.history;(0,e.onOk)(t)}},{key:"render",value:function(){var e=this.props,t=e.message,n=e.closeIconVisible,a=e.header,r=e.showFooter,o=e.showHeader,s=e.okVisible,c=e.cancelVisible,l=e.okChildren,d=e.cancelChildren,u=e.styleOverride,p=e.showSpinner;return i.a.createElement("div",null,i.a.createElement(eo.Dialog,{size:"small",headerChildren:a,isOpen:!0,okVisible:s,cancelVisible:c,closeIconVisible:n,onClickClose:this.onClickClose,styleOverride:u,okChildren:l,cancelChildren:d,onClickOk:this.onClickOk,onClickCancel:this.onClickClose,showHeader:o,showFooter:r},i.a.createElement("div",null,i.a.createElement("p",{style:Lo},t),p&&i.a.createElement(eo.DashedSpinner,{height:"50",width:"50",fill:"#004C97"}))))}}]),n}(o.Component);function Ko(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function zo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}Wo.propTypes={message:qr.a.string,closeIconVisible:qr.a.bool,showHeader:qr.a.bool,showFooter:qr.a.bool,okVisible:qr.a.bool,cancelVisible:qr.a.bool,showSpinner:qr.a.bool,header:qr.a.string,okChildren:qr.a.string,cancelChildren:qr.a.string,styleOverride:qr.a.object,onOK:qr.a.func},Wo.defaultProps={message:"",closeIconVisible:!1,showHeader:!1,showFooter:!1,okVisible:!1,cancelVisible:!1,showSpinner:!0,string:"",okChildren:"",cancelChildren:"",styleOverride:{childContainer:{margin:"auto"}},onOk:function(){}};var Yo=function(e){at()(n,e);var t=zo(n);function n(e){var a;return Qe()(this,n),(a=t.call(this,e)).props=e,a.onClickCancel=a.onClickCancel.bind(tt()(a)),a.onClickOk=a.onClickOk.bind(tt()(a)),a.onChange=a.onChange.bind(tt()(a)),a.onKeyPress=a.onKeyPress.bind(tt()(a)),a.state={linkTextField:""},a.styleOverride=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ko(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ko(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({childContainer:{marginTop:"10px",marginBottom:"10px"},cancel:{backgroundColor:"unset",paddingLeft:"10px",paddingRight:"10px"},ok:{marginLeft:"10px",paddingLeft:"25px",paddingRight:"25px"}},Ho),a}return $e()(n,[{key:"onChange",value:function(e){e.preventDefault();var t=e.target.value;this.setState({linkTextField:t})}},{key:"onKeyPress",value:function(e){"Enter"!==e.key&&"Tab"!==e.key||(e.preventDefault(),this.onClickOk())}},{key:"onClickCancel",value:function(){var e=this.props,t=e.dispatch,n=e.onClickCancel;n(),t(rr(null))}},{key:"onClickOk",value:function(){var e=this.props,t=e.dispatch,n=e.onClickRunTest,a=this.state.linkTextField;t(rr({dispatch:t,type:T.DIALOGS.PROGRESS_DIALOG,message:T.TEST_IN_PROGRESS})),n(a)}},{key:"render",value:function(){var e=this.props.header,t=this.state.linkTextField;return i.a.createElement("div",null,i.a.createElement(eo.Dialog,{size:"small",headerChildren:e,onClickCancel:this.onClickCancel,onClickOk:this.onClickOk,onClickClose:this.onClickCancel,isOpen:!0,okDisabled:P.a.isNil(t)||0===t.length,okChildren:T.RUN_TEST,styleOverride:this.styleOverride},i.a.createElement("div",{style:{textAlign:"left",paddingTop:"40px"}},i.a.createElement(eo.TextField,{type:"text",name:"link",placeholder:"Enter URL",onChange:this.onChange,onKeyDown:this.onKeyPress,style:{width:"435px"}}))))}}]),n}(o.Component);function Jo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}Yo.propTypes={header:qr.a.string.isRequired,onClickCancel:qr.a.func,onClickRunTest:qr.a.func.isRequired,dispatch:qr.a.func},Yo.defaultProps={onClickCancel:function(){}};var Xo=function(e){at()(n,e);var t=Jo(n);function n(e){var a;return Qe()(this,n),(a=t.call(this,e)).props=e,a.onClickCancel=a.onClickCancel.bind(tt()(a)),a}return $e()(n,[{key:"onClickCancel",value:function(){(0,this.props.dispatch)(rr(null))}},{key:"render",value:function(){var e=this.props,t=e.header,n=e.message;return i.a.createElement("div",null,i.a.createElement(eo.Dialog,{isOpen:!0,closeIconVisible:!1,okVisible:!1,onClickCancel:this.onClickCancel,cancelChildren:T.CLOSE,headerChildren:t,styleOverride:{content:{top:"315px",maxWidth:"500px",maxHeight:"271px",left:"calc((100vw - 515px) / 2)",boxShadow:"rgba(0, 0, 0, 0.2) 1px 3px 3px 0px, rgba(0, 0, 0, 0.2) 1px 3px 15px 2px"}}},i.a.createElement("p",null," ",n," ")))}}]),n}(o.Component);Xo.propTypes={message:qr.a.string,header:qr.a.string},Xo.defaultProps={message:"User is not authorized to access any workspace. Please contact your admin.",header:"Unauthorized User"};var Qo=n(697),Zo=n.n(Qo),$o=(n(148),n(131),Lr().DISPLAY_MESSAGES),ei=function(e){return function(t,n){t(function(e){return{type:"TAGGING_GUIDE_REQUEST_PROJECT",projectId:e}}(e));var a=n().header.client.id,r=zn(At,{projectId:e,clientId:a});return pt()(r,{credentials:"same-origin"}).then(Pr.handleErrors).then((function(e){return e.json()})).then((function(e){var n=wr(e);t({type:"TAGGING_GUIDE_RECEIVE_PROJECT",project:n})})).catch((function(e){return Pr.dispatchError(e,t,er)}))}},ti=function(e){return function(t,n){t(function(e){return{type:"TAGGING_GUIDE_REQUEST_LAST_IMPORT_INFO",projectId:e}}(e));var a=n().header.client.id,r=zn(En,{projectId:e,clientId:a});return pt()(r,{credentials:"same-origin"}).then(Pr.handleErrors).then((function(e){return e.json()})).then((function(e){return t({type:"TAGGING_GUIDE_RECEIVE_LAST_IMPORT_INFO",info:e})})).catch((function(e){return Pr.dispatchError(e,t,er)}))}},ni=function(e,t){return function(n){n(function(e,t){return{type:"TAGGING_GUIDE_REQUEST_SEARCH",projectId:e,sort:t}}(e,t));var a=new Promise((function(a,r){var o=ze.getState(),i=o.app,s=(i.userId,i.csrfToken),c=o.header.client.id,l={credentials:"same-origin",method:"get",headers:{"X-CSRF-TOKEN":s,"Content-Type":"application/json"}},d=zn(bn,{projectId:e,sort:t,clientId:c});pt()(d,l).then(Pr.handleErrors).then((function(e){return e.json()})).then((function(t){var r,o=t||[],i=[],s=0;if(o.length>0){var c=0;i=j.map(o,(function(e,t){return e.count>0&&c++,{index:t,id:e.id,count:e.count,percentage:e.percentage,intent:e.intent||"",rutag:e.rutag||"",description:e.description||"",examples:e.examples||"",keywords:e.keywords||"",comments:e.comments||""}})),s=c/i.length}n({type:"TAGGING_GUIDE_RECEIVE_SEARCH",searchResults:(r={searchResults:i,usedForTaggingRatio:s}).searchResults,usedForTaggingRatio:r.usedForTaggingRatio}),n(ui({projectId:e,intents:i})),a(i)})).catch((function(t){Pr.dispatchError(t,n,er),n(pi({projectId:e,error:t})),r(t)}))}));return n(di({projectId:e,promise:a})),a}},ai=(n(232),n(553),n(50),n(698)),ri=n.n(ai);function oi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ii(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oi(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var si=new(function(){function e(){Qe()(this,e),h()(this,"checkField",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T.NAME_REGEX,n=new RegExp("^".concat(t,"$"),"i");return n.test(e)})),this.validateTopicGoal=this.validateTopicGoal.bind(this)}return $e()(e,[{key:"validateTopicGoal",value:function(e){var t=!0;if(void 0===e)return t;if(null===e)return t;if(!(e.indexOf("-")>-1))return t;var n=e.split("-");return 2==n.length&&n[0].trim().length&&n[1].trim().length?t=!1:t}},{key:"validateWorldClassFile",value:function(e){var t=!1;if(e){var n=e.split("\n");if(n.length<2)return t;if(n[0].startsWith(T.WORD_CLASS_SYNTAX)&&1===n[0].trim().split(" ").length)for(var a=0;a<n.length;a++){if(n[a].startsWith(T.WORD_CLASS_SYNTAX)&&n[a].trim().split(" ").length>1){t=!1;break}if(n[a].startsWith(T.WORD_CLASS_SYNTAX)&&1===n[a].trim().split(" ").length)t=!0;else if(n[a].indexOf(T.WORD_CLASS_SYNTAX)>0){t=!1;break}}}return t}},{key:"decodeDescription",value:function(e){return e.map((function(e){var t=e.description?ri.a.decode(e.description):e.description;return ii(ii({},e),{},{description:t})}))}},{key:"validateUrl",value:function(e){if(e){return/((http|https):\/\/.)(www\.)?[-a-zA-Z0-9@:%._~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_.~#?&//=]*)/g.test(e)}return!0}},{key:"validateComment",value:function(e){var t=!0;return e.length<2e3&&(t=!1),t}},{key:"validateWordClassLabel",value:function(e){var t=!0;return(!e||!e.startsWith(T.WORD_CLASS_SYNTAX)||e.length<T.MIN_CLASS_LENGTH||e.length>T.MAX_CLASS_LENGTH||e.trim().split(" ").length>1)&&(t=!1),t}},{key:"isEmpty",value:function(e){return""===e||null==e||0===e.length}},{key:"validateTaggingGuideTag",value:function(e,t){if(void 0===e)return!1;if(!(e="".concat(e))&&t)return!1;if(!e&&!t)return!0;if("".concat(e).length>50)return!1;var n=T.TAG_WORD_REGEX;return new RegExp("^".concat(n,"-").concat(n,"$"),"i").test(e)}},{key:"validatePartialTaggingGuideTag",value:function(e,t){if(void 0===e)return!1;if(!(e="".concat(e))&&t)return!1;if(!e&&!t)return!0;if("".concat(e).length>1e3)return!1;var n=T.TAG_WORD_REGEX,a=new RegExp("^".concat(n,"$"));if(-1==e.indexOf("-"))return a.test(e);var r=e.split("-");return 2==r.length&&(a.test(r[0])&&(0==r[1].length||a.test(r[1])))}},{key:"validateTranscriptionHashComment",value:function(e,t){return void 0!==e&&(!(!(e="".concat(e))&&t)&&(!e&&!t||!("".concat(e).length>1e3)))}},{key:"validateTaggingGuideRow",value:function(e){var t=e.intent,n=e.rutag;return!(!j.toString(t).length&&!j.toString(n).length)}},{key:"validateJSONString",value:function(e){try{JSON.parse(e)}catch(e){return!1}return!0}}]),e}());function ci(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function li(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ci(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ci(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Lr().DISPLAY_MESSAGES;var di=function(e){return{type:"PROJECTS_MANAGER_PROJECT_INTENTS_LOAD_REQUEST",projectId:e.projectId,promise:e.promise}},ui=function(e){return{type:"PROJECTS_MANAGER_PROJECT_INTENTS_LOAD_SUCCESS",projectId:e.projectId,intents:e.intents}},pi=function(e){return{type:"PROJECTS_MANAGER_PROJECT_INTENTS_LOAD_ERROR",projectId:e.projectId}},hi=function(e){var t=e.projectId,n=e.datasetId,a=e.dataset;return{type:"PROJECTS_MANAGER_DATASET_UPDATED",projectId:t="".concat(t),datasetId:n="".concat(n),dataset:a}},fi=function(e){return{type:"PROJECTS_MANAGER_PROJECT_MODELS_LOAD_SUCCESS",projectId:e.projectId,models:e.models}},gi=function(e){var t=e.projectId,n=e.modelId,a=e.model;return{type:"PROJECTS_MANAGER_MODEL_UPDATED",projectId:t="".concat(t),modelId:n="".concat(n),model:a}},mi=function(e){return{type:"PROJECTS_MANAGER_PROJECT_MODELS_LOAD_ERROR",projectId:e.projectId}},Si=function(e,t,n,a){return function(r,o){e&&a&&t&&(r(Bs(e)),r(pr(la,{clientId:t,projectId:e},a)),e!==n&&(r(ei(e)),r(ti(e)),r(ni(e,{property:"count",direction:"desc"})))),r(rr(null))}},Ei=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n){var a=e.message;t(rr(null)),t(er(a))}},vi=function(e){var t=e.projectId,n=e.clientId,a=e.selectedProjectId,r=e.filter;return function(e,o){var i=zn(Ht,{projectId:t,clientId:n});return new Promise((function(s,c){Za.post({dispatch:e,getState:o,url:i,data:r,onApiSuccess:function(e){return function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(r,o){var i=a.all,s=(void 0===i?{}:i).percent,c=void 0===s?0:s,l=T.NO,d=T.YES,u=T.UPLOAD_DATASET_SUCCESS_WITH_TAG_MESSAGE,p=!0;c<100&&c>0?u=T.UPLOAD_DATASET_SUCCESS_MESSAGE:0===c&&(l=T.CLOSE,p=!1,u=T.UPLOAD_DATASET_SUCCESS_WITHOUT_TAG_MESSAGE),r(rr({dispatch:r,clientId:t,projectId:e,type:T.DIALOGS.PROGRESS_DIALOG,message:u,header:T.UPLOAD_DATASET_SUCCESS,showHeader:!0,showFooter:!0,cancelVisible:!0,okVisible:p,showSpinner:!1,closeIconVisible:!0,cancelChildren:l,okChildren:d,onOk:function(a){return r(Si(e,t,n,a))},styleOverride:li({childContainer:{marginTop:"30px",marginBottom:"10px"},content:{top:"160px",maxWidth:"380px",maxHeight:"260px",left:"calc((100vw - 500px) / 2)"}},Ho)}))}}(t,n,a,e)},onApiError:Ei})}))}},Ti=function(e){return function(t,n){var a,r=new Promise((function(a,r){var o=n(),i=o.app,s=o.header,c=i.csrfToken,l=s.client.id,d=Object.assign({},e);for(var u in d)d.hasOwnProperty(u)&&(d["".concat(u)]=Object.keys(d[u]));var p=zn(ln,{clientId:l});pt()(p,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":c},body:JSON.stringify(d)}).then(Pr.handleErrors).then((function(e){return e.json()})).then((function(n){var r;t({type:"PROJECTS_MANAGER_DATASETS_STATUSES_LOAD_SUCCESS",trackIds:(r={trackIds:e,statuses:n}).trackIds,statuses:r.statuses}),t(function(e){var t=e.statuses,n=e.clientId;return function(e,a){var r=a().projectListSidebar.selectedProjectId;if(!P.a.isNil(t)&&!P.a.isEmpty(t))for(var o in t)if(t.hasOwnProperty(o))for(var i in t[o])if(t[o].hasOwnProperty(i)){var s=t[o][i].task,c=t[o][i].status;s&&s.toUpperCase()===T.INDEX&&c&&c.toUpperCase()===T.STATUS.COMPLETED&&(e(vi({projectId:o,clientId:n,selectedProjectId:r,filter:{filter:{datasets:[i]}}})),r===o&&(e(ei(o)),e(ti(o)),e(ni(o,{property:"count",direction:"desc"}))))}}}({statuses:n,clientId:l})),a(n)})).catch((function(n){var a;Pr.dispatchError(n,t,er),t({type:"PROJECTS_MANAGER_DATASETS_STATUSES_LOAD_ERROR",trackIds:(a={trackIds:e,error:n}).trackIds,error:a.error}),r(n)}))}));return t({type:"PROJECTS_MANAGER_DATASETS_STATUSES_LOAD_REQUEST",trackIds:(a={trackIds:e,promise:r}).trackIds,promise:a.promise}),r}},yi=function(e){var t=e.projectId,n=e.modelId,a=ze.getState(),r=a.projectListSidebar.selectedProjectId;if(t===r)return n="".concat(n),new Promise((function(e,r){var o=a.app.csrfToken,i=a.header.client.id,s=zn(dn,{modelId:n,projectId:t,clientId:i});pt()(s,{credentials:"same-origin",method:"GET",headers:{"X-CSRF-TOKEN":o}}).then(Pr.handleErrors).then((function(e){return e.json()})).then((function(a){var r=a.modelUUID,o=a.modelType,i=a.statusMessage,s=a.status;e({projectId:t,modelId:n,modelToken:r,modelType:o,statusMessage:i,status:s?"".concat(s).toUpperCase():"NULL"})})).catch((function(a){Pr.dispatchError(a,ze.dispatch,er),e({projectId:t,modelId:n,status:"NULL",modelToken:"",modelType:""})}))}))},bi=function(e){return function(t,n){e="".concat(e);var a,r=new Promise((function(a,r){var o=n(),i=o.app.csrfToken,s=o.header.client.id,c=zn(gn,{projectId:e,clientId:s});pt()(c,{credentials:"same-origin",method:"GET",headers:{"X-CSRF-TOKEN":i}}).then(Pr.handleErrors).then((function(e){return e.json()})).then((function(n){var o={},i=[];if(n&&n.length&&n.forEach((function(t){var n=Mr(t);o[n.id]={_key:n.id,id:n.id,modelToken:n.modelId,projectId:e||null,name:n.name||"",description:n.description||"",version:n.version||"",modelType:n.modelType||"",vectorizer_id:n.vectorizer_id||null,vectorizerTechnology:n.technology_type||"",vectorizer_technology_version:n.technology_version||null,created:n.createdAt||null,updated:n.updatedAt||null,datasetIds:n.datasetIds||[],configId:n.configId||null,userId:n.userId||null,speechModelId:n.speechModelId||"",digitalHostedUrl:n.digitalHostedUrl||"",speechConfigId:n.speechConfigId||""},i.push(yi({projectId:e,modelId:n.id}))})),!i.length){var s=Object(L.Map)(o);t(fi({projectId:e,models:s})),a(s)}Promise.all(i).then((function(n){n.forEach((function(e){e.modelId&&e.status&&o[e.modelId]&&(o[e.modelId].status=e.status)}));var r=Object(L.Map)(o);t(fi({projectId:e,models:r})),a(r)})).catch((function(n){Pr.dispatchError(n,t,er),t(mi({projectId:e,error:n})),r(n)}))})).catch((function(n){Pr.dispatchError(n,t,er),t(mi({projectId:e,error:n})),r(n)}))}));return t({type:"PROJECTS_MANAGER_PROJECT_MODELS_LOAD_REQUEST",projectId:(a={projectId:e,promise:r}).projectId,promise:a.promise}),r}};n(971);function Ci(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ii(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ci(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ci(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Oi=Lr().DISPLAY_MESSAGES,Ri=function(e){return{type:"CONFIG_CREATED",config:e.config}},ki=function(e){return{type:"CONFIG_EDIT_UPDATE",config:e}},Di=function(e){return{type:"UPDATE_TRANSFORMATION_VALIDITY",isTransformationValid:e}},_i=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(r,o){var i=t.model,s=t.wordclassFile,c=wr(a);a._key=c.id,a.status="NULL",r(Ri({config:c})),i.configId=c.id,i.modelType=e,i.speechConfigId=null,e===T.DIGITAL_SPEECH_MODEL&&"{}"!==JSON.stringify(s)?r(Li(t,n)):r(Vs(i)),r(nr(Oi.createdSuccess(c.name)))}},Ai=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n){var a=e.status;if(400==a){var r={};e.response.body.errors&&(e.response.body.errors.forEach((function(e){var t=e.field.substring(e.field.lastIndexOf(".")+1,e.field.length);r[t]="".concat(t," required!")})),t(er(r)));var o=Oi.createFailed;t(er(o))}else if(409==a){var i=Oi.configAlreadyExists;t(er(i))}else Pr.dispatchError(e,t,er)}},Ni=function(e,t){return function(n,a){var r=t.model,o=wr(e);e._key=o.id,r.speechConfigId=o.id,n(Vs(r))}},Li=function(e,t){return function(n,a){var r=(e=Ii(Ii({},e),{},{clientId:t})).wordclassFile,o=void 0===r?{}:r;"{}"!==JSON.stringify(o)?n(function(e,t){return function(n,a){var r=e.model,o=e.wordclassFile,i=void 0===o?{}:o,s="".concat(e.model.name,"-cfg"),c=new FormData;c.append("name",s),c.append("description",""),c.append("projectId",r.projectId),c.append("file",i,i.name);var l=zn(ft,{clientId:t});pt()(l,{method:"POST",credentials:"same-origin",body:c}).then(Pr.handleErrors).then((function(e){return e.json()})).then((function(t){n(Ni(t,e))})).catch((function(e){n(er(Oi.fileImportFail))}))}}(e,t)):n(function(e,t){return function(n,a){var r=e.model.configId,o=zn(Sn,{clientId:t,configId:r});pt()(o,{method:"GET",credentials:"same-origin"}).then(Pr.handleErrors).then((function(e){return e.json()})).then((function(t){n(Ni(t,e))})).catch((function(e){n(er(Oi.fileImportFail))}))}}(e,t))}},ji=function(e){return function(t,n){t(function(e){return{type:"REQUEST_CONFIG",projectId:e}}(e));var a=n(),r=a.app.csrfToken,o=a.header.client.id,i=zn(wt,{configId:e,clientId:o});return pt()(i,{credentials:"same-origin",headers:{"X-CSRF-TOKEN":r}}).then(Pr.handleErrors).then((function(e){return e.json()})).then((function(e){var n=null;try{n=JSON.parse(e.configFile)}catch(e){Pr.dispatchError(e,t,er)}t(function(e){return{type:"RECEIVE_CONFIG",config:e,receivedAt:Date.now()}}(n))})).catch((function(e){return Pr.dispatchError(e,t,er)}))}},Pi=function(e){return{type:"CONFIG_SHOW_TRANSFORMATION_DELETE_DIALOG",show:e}},wi=function(e){return{type:"CONFIG_SHOW_TRANSFORMATION_PREDEFINED_DIALOG",show:e}},Mi=function(e){return{type:"CONFIG_SHOW_TRANSFORMATION_ADD_DIALOG",show:e}},xi=(n(382),new(function(){function e(){if(Qe()(this,e),e.instance)throw new Error("ProjectsManager already created.");this.trackDatasetsStatuses=this.trackDatasetsStatuses.bind(this),this.trackDatasetsIntervalDelay=1e4,this.isTrackDatasetsRequestInProgress=!1,this.trackDatasetsIntervalId=setInterval(this.trackDatasetsStatuses,this.trackDatasetsIntervalDelay),this.trackModelsStatuses=this.trackModelsStatuses.bind(this),this.trackModelsIntervalDelay=1e4,this.isTrackModelsRequestInProgress=!1,this.trackModelsIntervalId=setInterval(this.trackModelsStatuses,this.trackModelsIntervalDelay),this.trackModelsBatchTestStatuses=this.trackModelsBatchTestStatuses.bind(this),this.trackModelsBatchTestIntervalDelay=3e3,this.isTrackModelsBatchTestRequestInProgress=!1,this.trackModelsBatchTestIntervalId=setInterval(this.trackModelsBatchTestStatuses,this.trackModelsBatchTestIntervalDelay)}return $e()(e,[{key:"trackDatasetsStatuses",value:function(){var t=this;if(!this.isTrackDatasetsRequestInProgress){var n=e.getState(),a=n.trackDatasetsIds,r=n.projectDatasets;if(0!==Object.keys(r).length&&0!==Object.keys(a).length){var o=Object.keys(a)[0];r.get(o)&&(this.isTrackDatasetsRequestInProgress=!0,ze.dispatch(Ti(a)).then((function(){t.isTrackDatasetsRequestInProgress=!1})).catch((function(){t.isTrackDatasetsRequestInProgress=!1})))}}}},{key:"trackModelsStatuses",value:function(){var t=this;if(!this.isTrackModelsRequestInProgress){var n,a=e.getState().trackModelsIds;if(0!==Object.keys(a).length)this.isTrackModelsRequestInProgress=!0,ze.dispatch((n=a,function(e,t){return new Promise((function(a,r){var o=[],i=t();for(var s in n)if(n.hasOwnProperty(s))for(var c in n[s])n[s].hasOwnProperty(c)&&o.push(yi({projectId:s,modelId:c}));o.length||a(),Promise.all(o).then((function(t){t.forEach((function(t){var n=t.projectId,a=t.modelId,r=t.status,o=t.modelType,s=t.modelToken,c=t.statusMessage;a&&r&&n&&(r===T.STATUS.COMPLETED?Ja(Ya.CREATE_MODEL_COMPLETED_EVENT,i,{projectId:n,modelDBId:a,modelId:s,modelType:o}):r===T.STATUS.FAILED&&Ja(Ya.CREATE_MODEL_FAILED_EVENT,i,{projectId:n,modelDBId:a,modelId:s,modelType:o}),e(gi({projectId:n,modelId:a,model:{status:r,modelToken:s,statusMessage:c}})))})),a()})).catch((function(t){Pr.dispatchError(t,e,er),r(t)}))}))})).then((function(){t.isTrackModelsRequestInProgress=!1})).catch((function(){t.isTrackModelsRequestInProgress=!1}))}}},{key:"trackModelsBatchTestStatuses",value:function(){var t=this;if(!this.isTrackModelsBatchTestRequestInProgress){var n,a=e.getState().trackModelsBatchTestIds;if(0!==Object.keys(a).length)this.isTrackModelsBatchTestRequestInProgress=!0,ze.dispatch((n=a,function(e,t){return new Promise((function(a,r){var o=[],i=[];for(var s in n)if(n.hasOwnProperty(s))for(var c in n[s])if(n[s].hasOwnProperty(c))for(var l in n[s][c])if(n[s][c].hasOwnProperty(l)){var d=t(),u=d.app,p=u.userId,h=u.csrfToken,f={userId:p,clientId:d.header.client.id,csrfToken:h,projectId:s,modelId:c,modelTestJobId:l};o.push(Zs(f)),i.push(f)}o.length||a(),Promise.all(o).then((function(t){t.forEach((function(t,n){e(ks({modelBatchTestResults:t,modelId:i[n].modelId,projectId:i[n].projectId,modelTestJobId:i[n].modelTestJobId}))})),a()})).catch((function(t){Pr.dispatchError(t,e,er),r(t)}))}))})).then((function(){t.isTrackModelsBatchTestRequestInProgress=!1})).catch((function(){t.isTrackModelsBatchTestRequestInProgress=!1}))}}},{key:"getProject",value:function(t){return e.getState().projects.get(t)}},{key:"getDatasetsByProjectId",value:function(t,n){var a=e.getState().projectDatasets.get(t);return n&&a&&a.size&&void 0===a.first().description?void 0:a}},{key:"getDataset",value:function(t,n){var a=e.getState().projectDatasets.get(t);return a?a.get(n):a}},{key:"getModelsByProjectId",value:function(t){return e.getState().projectModels.get(t)}},{key:"getModel",value:function(t,n){var a=e.getState().projectModels.get(t);if(a&&a.size)return a.get(n)}},{key:"getConfigsByProjectId",value:function(t){return e.getState().projectConfigs.get(t)}},{key:"getIntentsByProjectId",value:function(t){return e.getState().projectIntents.get(t)}},{key:"getConfig",value:function(t,n){var a=e.getState().projectConfigs.get(t);if(a&&a.size)return a.get(n)}},{key:"isDatasetUsedInModel",value:function(e,t){var n=this.getModelsByProjectId(e),a=!1;n&&(a=n.toArray().some((function(e){if(e.datasetIds&&e.datasetIds.length>0)return e.datasetIds.some((function(e){return e===t}))})));return a}},{key:"addDescriptionAndType",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T.DIGITAL_MODEL,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r="This speech model has been duplicated from ".concat(e," - ").concat(t,".");return a&&(r+="\n".concat(a)),{description:r,modelType:n}}}],[{key:"getState",value:function(){return ze.getState().projectsManager}}]),e}())),Bi="pairs",Ui="boolean",Gi="list",Fi="url",Vi=[{displayName:"Case Normalization",id:T.TRANSFORMATION_TYPES.CASE_NORMALIZATION,category:Ui,supportMultiple:!0,ordered:!1},{displayName:"Input Match",id:T.TRANSFORMATION_TYPES.INPUT_MATCH,category:Bi,supportMultiple:!0,ordered:!0},{displayName:"Regex Removal",id:T.TRANSFORMATION_TYPES.REGEX_REMOVAL,category:Gi,supportMultiple:!0,ordered:!0},{displayName:"Regex Replace",id:T.TRANSFORMATION_TYPES.REGEX_REPLACE,category:Bi,supportMultiple:!0,ordered:!0},{displayName:"Spell Checking",id:T.TRANSFORMATION_TYPES.SPELL_CHECKING,category:Fi,supportMultiple:!1,ordered:!1},{displayName:"Stems (no case) - pairs",id:T.TRANSFORMATION_TYPES.STEMS_NOCASE,category:Bi,supportMultiple:!0,ordered:!1},{displayName:"Stems (no case) - url",id:T.TRANSFORMATION_TYPES.STEMS_NOCASE_URL,category:Fi,supportMultiple:!1,ordered:!1},{displayName:"Stems - pairs",id:T.TRANSFORMATION_TYPES.STEMS,category:Bi,supportMultiple:!0,ordered:!1},{displayName:"Stems - url",id:T.TRANSFORMATION_TYPES.STEMS_URL,category:Fi,supportMultiple:!1,ordered:!1},{displayName:"Stop Words",id:T.TRANSFORMATION_TYPES.STOP_WORDS,category:Gi,supportMultiple:!1,ordered:!1},{displayName:"Training Data Stems",id:T.TRANSFORMATION_TYPES.TRAINING_DATA_STEMS,category:Ui,supportMultiple:!1,ordered:!1},{displayName:"White Space Normalization",id:T.TRANSFORMATION_TYPES.WHITESPACE_NORMALIZATION,category:Ui,supportMultiple:!0,ordered:!1},{displayName:"Wordclass Substitution Regex",id:T.TRANSFORMATION_TYPES.WORDCLASS_SUBST_REGEX,category:Bi,supportMultiple:!0,ordered:!0},{displayName:"Wordclass Substitution Text",id:T.TRANSFORMATION_TYPES.WORDCLASS_SUBST_TEXT,category:Bi,supportMultiple:!0,ordered:!0}],Hi=function(e){return Vi.find((function(t){return t.id===e})).category},qi=function(e){var t=[];return e&&e.postProcessingRules&&(t=e.postProcessingRules),t},Wi=function(e,t){var n=e||{},a=[];return t.forEach((function(e){var t=e["intent-match"],n=e["input-match"],r=e["intent-replacement"];if(!(P.a.isNil(t)||0===t.length||P.a.isNil(n)||0===n.length||P.a.isNil(r)||0===r.length)){"string"==typeof t&&-1===t.indexOf("/")&&(t=(t=t.split(",")).map((function(e){return e.trim()})));var o={"input-match":e["input-match"],"intent-match":t,"intent-replacement":e["intent-replacement"]};e.minConfidenceScore>-1&&(o.minConfidenceScore=e.minConfidenceScore),e.maxConfidenceScore>-1&&(o.maxConfidenceScore=e.maxConfidenceScore),a.push(o)}})),n.postProcessingRules=a,n},Ki=function(e){if(!e)return null;if("string"==typeof e)return e;var t=e[Yi(e)];return t.hasOwnProperty("mappings")?t.mappings:t.hasOwnProperty("url")?t.url:t.hasOwnProperty("list")?t.list:null},zi=function(e,t){var n=e,a=e[Yi(e)],r=Hi(a.type);return"string"==typeof t&&t.trim().length>0&&(t=JSON.parse(t)),a.hasOwnProperty("mappings")&&(a.mappings=t),(a.hasOwnProperty("url")||"url"===r)&&((t=t.trim()).length>0?a.url=t:a.hasOwnProperty("url")&&delete a.url),a.hasOwnProperty("list")&&(a.list=t),n},Yi=function(e){return"string"==typeof e?e:Object.keys(e)[0]},Ji=function(e,t){var n=Yi(t),a=[];return e.forEach((function(e,t){Yi(e)===n&&a.push(t)})),a},Xi=function(e,t){return Ji(e,t).forEach((function(n){e[n]=t})),e},Qi=function(e){var t,n=Hi(e.typeId);if("boolean"===n)return e.typeId;switch(t=h()({},e.name,{comments:e.comment,type:e.typeId}),n){case"url":t[e.name].url=" ";break;case"pairs":t[e.name].mappings={};break;case"list":t[e.name].list=[]}return t},Zi=function(e){var t=P.a.isNil(e)?[]:e.toArray(),n=null;return(n=P.a.find(t,{name:T.DEFAULT_CONFIG_NAME}))||(n=P.a.find(t,{name:T.ALTERNATE_DEFAULT_CONFIG_NAME})),n||t[0]},$i={ProjectsManager:xi,ModelConfigManager:r};function es(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ts(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?es(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):es(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ns=Lr().DISPLAY_MESSAGES,as=function(e){return{type:"SIDEBAR_SELECT_PROJECT",projectId:e.projectId}},rs=function(e){return{type:"ADD_NEW_PROJECT",project:e}},os=function(e){return{type:"PROJECT_UPDATE",projects:e}},is=function(e,t){return{type:"PROJECT_STATUS_UPDATE",projectId:e,status:t}},ss=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ns.projectUpdated;return function(a,r){var o=wr(e);a(os([o])),a(is(t,T.STATUS.COMPLETED)),a(nr(n))}},cs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return function(n,a){var r=e.message;n(is(t,T.STATUS.FAILED)),409===e.code?n(tr(r)):n(er(r))}},ls=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n){var a=e.message;t(rr(null)),409===e.code?t(tr(a)):t(er(a))}},ds=function(e){return function(t,n){var a=n().header.client.id,r=zn(At,{projectId:e,clientId:a});return new Promise((function(a,o){Za.delete({dispatch:t,getState:n,url:r,onApiSuccess:function(){return function(e){return function(t,n){var a=($i.ProjectsManager.getProject(e)||{}).name,r=void 0===a?"":a;t({type:"PROJECT_DELETE",id:e}),t(nr(ns.projectDeleted(r)))}}(e)},onApiError:function(t){return cs(t,e)}})}))}},us=function(e){return function(t,n){var a=n().header.client.id,r=e.projectId,o=zn(Lt,ts({clientId:a},e));return new Promise((function(e,a){Za.put({dispatch:t,getState:n,url:o,onApiSuccess:function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return function(n,a){n(os(e)),n(is(t,T.STATUS.COMPLETED)),n(nr(ns.projectPromoted))}}(e,r)},onApiError:function(e){return cs(e,r)}})}))}},ps=function(e){return function(t,n){var a=n(),r=e.clientId,o=e.history,i=e.values,s=a.app.userId,c=ts(ts({},i),{},{ownerId:s}),l=zn(vt,{clientId:r});return new Promise((function(e,a){Za.post({dispatch:t,getState:n,url:l,data:c,onApiSuccess:function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return function(a,r){var o=wr(e),i=o.name,s=o.id;a(rs(o)),a(pr(Ta,{clientId:t,projectId:s,routeTag:"datasets"},n)),a(rr({type:T.DIALOGS.DATASET_DIALOG,header:T.UPLOAD_DATASET,dispatch:a,projectId:s,history:n,project:o})),a(nr(ns.projectCreated(i)))}}(e,r,o)},onApiError:ls})}))}},hs=function(e){return function(t,n){t(fs({clientId:e,startIndex:0,limit:500}))}},fs=function(e){var t=e.clientId,n=e.startIndex,a=e.limit;return function(e){if(!P.a.isNil(t)&&"0"!=t){var r;e({type:"REQUEST_PROJECTS_BY_CLIENT",clientId:(r={clientId:t,startIndex:n,limit:a}).clientId,startIndex:r.startIndex,limit:r.limit});var o=zn(_t,{clientId:t,startIndex:n,limit:a}),i=ze.getState().app.csrfToken;return pt()(o,{credentials:"same-origin",headers:{"X-CSRF-TOKEN":i}}).then(Pr.handleErrors).then((function(e){return e.json()})).then((function(r){var o;e({type:"RECEIVE_PROJECTS_BY_CLIENT",projects:(o={projects:r,clientId:t,startIndex:n,limit:a}).projects,clientId:o.clientId,startIndex:o.startIndex,limit:o.limit})})).catch((function(t){return Pr.dispatchError(t,e,er)}))}}},gs=function(){var e=arguments.length>1?arguments[1]:void 0;return function(t){t(er(ns.markModelFlagFailed(e)))}},ms=function(){var e=arguments.length>1?arguments[1]:void 0;return function(t){t(er(ns.unmarkModelFlagFailed(e)))}},Ss=["audioFile","audioURL","fileName","cancelToken","model"],Es=["utterances"],vs=["datasets","userId","csrfToken"];function Ts(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ys(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ts(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ts(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bs=Lr().DISPLAY_MESSAGES,Cs=function(e){return{type:"MODEL_CREATED",model:e.model}},Is=function(e){return{type:"MODEL_UPDATE",model:e}},Os=function(e){return{type:"SHOW_MODEL_NAVIGATION_CONFIRMATION_DIALOG",showModelNavigationConfirmationDialog:e}},Rs=function(e){var t=e.modelTestResults,n=e.speechResults;return{type:"RECIEVE_MODEL_TEST_RESULTS",modelTestResults:t,speechResults:void 0!==n&&n}},ks=function(e){return ys({type:"MODEL_BATCH_TEST_RESULTS"},e)},Ds=function(e){var t=e.projectId,n=e.modelId;return{type:"CHECK_MODEL_TEST_RESULTS_FAILED",projectId:t,modelTestJobId:e.modelTestJobId,modelId:n}},_s=function(e){return{type:"NEW_MODEL",modelType:e}},As=function(e){return{type:"MODEL_EDIT_UPDATE",model:e}},Ns=function(e,t){return{type:"INITIATE_UTTERANCE_TEST",modelType:e,fileType:t}},Ls=function(e,t,n){return{type:"UPDATE_SPEECH_MODEL_ID_FOR_DIGITAL_MODEL",modelId:e,projectId:t,speechModelId:n}},js=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){500===e.code?(t(Ms()),t(tr(bs.modelAlreadyDeleted))):(t(ws()),t(tr(bs.modelDeleteFailed)))}},Ps=function(e){return{type:"MODEL_DELETED_FROM_PROJECT",projectId:e.projectId,modelId:e.modelId}},ws=function(){return{type:"MODEL_DELETE_FAILED"}},Ms=function(){return{type:"MODEL_ALREADY_DELETED"}},xs=function(e){var t=e.clientId,n=e.projectId,a=e.modelId;return function(e,r){return new Promise((function(o,i){var s=zn(rn,{clientId:t,projectId:n,modelId:a});Za.delete({url:s,onApiSuccess:function(){return function(e){var t=e.clientId,n=e.projectId,a=e.modelId;return function(e){e(hs(t));var r=$i.ProjectsManager.getModel(n,a)||{},o=r.version,i=void 0===o?"":o,s=r.speechModelId,c=void 0===s?"":s;e(Ps({projectId:n,modelId:a})),c&&e(Ps({projectId:n,modelId:c})),e(nr(bs.modelDeleted("".concat(i))))}}({clientId:t,projectId:n,modelId:a})},onApiError:js,dispatch:e,getState:r})}))}},Bs=function(e){return function(t,n){var a=$i.ProjectsManager.getConfigsByProjectId(e)||null,r=$i.ModelConfigManager.getDefaultConfig(a);t({type:"CLEAR_MODEL_DATA"}),t(_s(T.DIGITAL_MODEL)),r&&r.id&&t(ji(r.id)).then((function(){t(function(e){return function(t,n){var a=n(),r=a.config.config,o=a.projectsManager.projectConfigs.get(e),i=o.keys(),s=Zo()(i).slice(0).sort((function(e,t){return parseInt(e)-parseInt(t)}))[o.size-1],c=o.get(s),l=c.out_of_domain_intent?c.out_of_domain_intent:JSON.parse(c.configFile).trainingConfigs.out_of_domain_intent,d=Object.assign({},r.trainingConfigs,{out_of_domain_intent:l}),u=Object.assign({},r,{trainingConfigs:d});t(ki(u))}}(e)),t({type:"CONVERT_TO_DIGITAL_CONFIG"})}))}},Us=function(e){return function(t,n){var a=e.id,r=e.configId;t({type:"TUNE_MODEL_ID",tuneModelId:a}),t(ji(r)).then((function(){t({type:"CONVERT_TO_DIGITAL_CONFIG"})}))}},Gs=function(e){return function(t,n){var a=e.id,r=e.configId;t({type:"VIEW_MODEL_ID",viewModelId:a}),t(ji(r))}},Fs=function(e){var t=e.projectId,n=e.modelId,a=e.modelType;return function(e,r){return new Promise((function(o,i){var s=r(),c=s.app.csrfToken,l=s.header.client.id,d=zn(nn,{modelId:n,clientId:l});"SPEECH"===a&&(d=zn(an,{modelId:n,clientId:l})),pt()(d,{credentials:"same-origin",method:"POST",headers:{"X-CSRF-TOKEN":c}}).then(Pr.handleErrors).then((function(){e(gi({projectId:t,modelId:n,model:{status:"QUEUED"}}))})).catch((function(t){Pr.dispatchError(t,e,er)}))}))}},Vs=function(e){return function(t,n){e.csrfToken;var a=e.projectId,r=e.clientId,o=(e.id,e.startBuild,e.history,e.name),i=e.description,s=e.configId,c=e.selectedDatasets,l=e.modelType,d=e.speechConfigId,u=e.isUnbundled,p=e.digitalHostedUrl,h=e.modelToken,f=void 0===h?"":h,g=(e.speechModelId,e.modelTechnology),m=e.toDefault,S=n(),E=zn(Ot,{clientId:r,projectId:a,modelTechnology:g,toDefault:m});Ja(Ya.CREATE_MODEL_EVENT,S,{projectId:a,clientDBId:r,modelType:l});var v={projectId:a,name:o,description:i,configId:s,datasetIds:c,modelType:l,speechConfigId:d};(l===T.DIGITAL_SPEECH_MODEL&&(E=zn(sn,{clientId:r,projectId:a}),v=ys(ys({},v),{},{isUnbundled:u,digitalHostedUrl:p,modelId:f})),l===T.SPEECH_MODEL)&&(v={modelType:l,name:o,datasetIds:c,speechConfigId:("0"===d?null:d)||null,isUnbundled:u,description:i},E=zn(Ct,{clientId:r,projectId:a,trainNow:!1,modelType:"speech"}));return new Promise((function(a,r){Za.post({dispatch:t,getState:n,url:E,data:v,onApiSuccess:function(t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,a){var r=e.clientId,o=e.speechModelId,i=e.id,s=e.history,c=e.startBuild,l=a();n(hs(r));var d=Mr(t);d._key=d.id,d.status="NULL";var u,p=d.projectId,h=$i.ProjectsManager.getModelsByProjectId(p),f=P.a.isNil(h)?[]:h.toArray();f.length>0&&(u=f.find((function(e){return e.modelToken===d.modelId}))),u&&(d.vectorizerTechnology=u.vectorizerTechnology,d.vectorizer_technology_version=u.vectorizer_technology_version),void 0===d.created&&d.createdAt&&(d.created=d.createdAt),n(Cs({model:d})),c&&setTimeout((function(){n(Fs({projectId:p,modelId:d.id,modelType:d.modelType}))}),2e3),d.modelType==T.DIGITAL_SPEECH_MODEL&&(o&&n(Ps({projectId:p,modelId:o})),n(Ls(i,p,d.id))),n(nr(bs.modelCreated("".concat(d.version)))),Ja(Ya.CREATE_MODEL_EVENT,l,{projectId:p,modelDBId:d.id,clientDBId:r}),s&&(n(bi(d.projectId)),n(pr(ca,{clientId:r,projectId:d.projectId},s)))}}(e,t)},onApiError:function(t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,a){var r=e.projectId,o=e.clientId,i=e.modelType,s=a();409===t.code?(n(er(bs.modelAlreadyExists)),Ja(Ya.CREATE_MODEL_FAILED_EVENT,s,{projectId:r,clientDBId:o,reason:bs.modelAlreadyExists,modelType:i})):Pr.dispatchError(t,n,er)}}(e,t)}})}))}},Hs=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(a,r){var o=($i.ProjectsManager.getModel(e,t)||{}).version,i=void 0===o?"":o,s=wr(n);a(Is(s)),a(nr(bs.modelUpdated("".concat(i)))),a(bi(e))}},qs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n){var a=e.message;t(er(a))}},Ws=function(e){return function(t,n){var a=e.clientId,r=e.model,o=r.description,i=r.projectId,s=r.id,c=[{op:T.OP.REPLACE,path:"/description",value:o||""}],l=zn(on,{clientId:a,projectId:i,modelId:s});return new Promise((function(e,a){Za.patch({dispatch:t,getState:n,url:l,headers:{"Content-Type":"application/json-patch+json"},data:c,onApiSuccess:function(e){return Hs(i,s,e)},onApiError:qs})}))}},Ks=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;return function(a,r){if(t){var o=e.evaluations,i=(void 0===o?[{}]:o)[0].utterance,s=r();if(i){var c=e.modelId,l=e.projectId,d=s.header.client.id;if(T.SPEECH_MODEL!==n){var u={clientId:d,modelId:c,projectId:l,testModelType:T.DIGITAL_MODEL,utterances:[i]};a(Xs(u))}a(Rs({modelTestResults:e,speechResults:!0})),Ja(Ya.TEST_SPEECH_MODEL_COMPLETED_EVENT,s,{projectId:l,clientDBId:d,modelId:c,modelType:T.DIGITAL_SPEECH_MODEL})}else a(rr(null)),a(er(bs.evalSpeechFailed)),Ja(Ya.TEST_SPEECH_MODEL_FAILED_EVENT,s,{modelType:T.DIGITAL_SPEECH_MODEL})}}},zs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n,a){if(n(rr(null)),t){e.message;var r=e.code;n(er(504==r?bs.modelTestConnectionError:bs.modelTestFailure)),Ja(Ya.TEST_SPEECH_MODEL_FAILED_EVENT,a(),{modelType:T.DIGITAL_SPEECH_MODEL})}}},Ys=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return function(o,i){if(r){var s=e.evaluations;(void 0===s?[{}]:s)[0].utterance?(o(rr(null)),o(Rs({modelTestResults:e})),Ja(Ya.TEST_DIGITAL_MODEL_COMPLETED_EVENT,i(),{projectId:t,clientDBId:n,modelId:a,modelType:T.DIGITAL_MODEL}),o(nr(bs.testResultsRecieved))):(o(er(bs.evalSpeechFailed)),Ja(Ya.DIGITAL_MODEL_TEST_FAILED_EVENT,i(),{modelType:T.DIGITAL_MODEL}))}}},Js=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n,a){if(t){e.message;var r=e.code;n(er(504==r?bs.modelTestConnectionError:bs.modelTestFailure)),Ja(Ya.DIGITAL_MODEL_TEST_FAILED_EVENT,a(),{modelType:T.DIGITAL_MODEL})}}},Xs=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n,a){var r=e.utterances,o=Ie()(e,Es),i=o.projectId,s=o.clientId,c=o.modelId,l=o.testModelType;n(Ns(T.DIGITAL_MODEL)),Ja(Ya.TEST_DIGITAL_MODEL_EVENT,a(),{projectId:i,clientDBId:s,modelId:c,modelType:l});var d=zn(Tt,o);return new Promise((function(e,o){Za.post({dispatch:n,getState:a,url:d,data:r,onApiSuccess:function(e){return Ys(e,i,s,c,t)},onApiError:function(e){return Js(e,t)}})}))}},Qs=function(e){return function(t,n){var a=e.clientId,r=e.modelId,o=e.projectId,i=e.csrfToken,s=zn(Rt,{clientId:a,modelId:r,projectId:o});return new Promise((function(e,n){pt()(s,{method:"get",credentials:"same-origin",headers:{"X-CSRF-TOKEN":i,"Content-Type":"application/json"}}).then(Pr.handleErrors).then((function(e){return e.json()})).then((function(e){var n=wr(e);t(function(e){return{type:"LIST_BATCH_TESTS_INFO",listOfBatchTests:e}}(n))})).catch((function(e){Pr.dispatchError(e,t,er)}))}))}},Zs=function(e){var t=e.clientId,n=e.modelId,a=e.projectId,r=e.csrfToken,o=e.modelTestJobId,i=zn(It,{clientId:t,modelId:n,projectId:a,modelTestJobId:o});return new Promise((function(t,s){pt()(i,{method:"get",credentials:"same-origin",headers:{"X-CSRF-TOKEN":r,"Content-Type":"application/json"}}).then(Pr.handleErrors).then((function(e){return e.json()})).then((function(n){ze.dispatch(Qs(e)),t(n)})).catch((function(e){Pr.dispatchError(e,ze.dispatch,er),ze.dispatch(Ds({modelId:n,projectId:a,modelTestJobId:o})),s(e)}))}))},$s=(n(130),n(567),n(571),n(573),n(574),n(575),n(576),n(577),n(578),n(579),n(580),n(581),n(582),n(583),n(584),n(585),n(586),n(587),n(588),n(589),n(590),n(591),n(592),n(593),n(594),n(595),n(703)),ec=n.n($s),tc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];return e&&e.size>0&&e.forEach((function(e){e.id&&e.status&&"COMPLETED"==e.status&&e.name&&t.push({value:e.id,label:e.name})})),t},nc=function(e,t,n){var a=[];return n||(e.length>0&&t&&t.datasetIds&&t.datasetIds.length>0&&(a=t.datasetIds),a)};function ac(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function rc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ac(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ac(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var ic=function(e){at()(n,e);var t=oc(n);function n(e){var a;return Qe()(this,n),(a=t.call(this,e)).createGrid=a.createGrid.bind(tt()(a)),a.getRows=a.getRows.bind(tt()(a)),a.onChange=a.onChange.bind(tt()(a)),a.getStyle=a.getStyle.bind(tt()(a)),a}return $e()(n,[{key:"onChange",value:function(e,t){var n=this.props,a=n.onChange,r=n.value,o=n.allowEmpty,i=N()(r),s=i.indexOf(t.value);-1===s?i.push(t.value):i.splice(s,1),(o||0!==i.length)&&a(i,t.value)}},{key:"checkboxes",get:function(){var e=this,t=this.props,n=t.options,a=t.value,r=(t.allowEmpty,t.onChange,t.disabled),o=[];return n.forEach((function(t){var n=-1!==a.indexOf(t.value);o.push(i.a.createElement(eo.Checkbox,{"data-qa":"checkbox-".concat(t.label),key:"filter-".concat(t.value),checked:n,label:t.label,disabled:r,onChange:function(n){e.onChange(n,t)},styleOverride:{float:"left",marginLeft:"10px",paddingTop:"5px"}}))})),o}},{key:"getRows",value:function(e,t,n){for(var a=[],r=0,o=Math.floor(12/n),s=0;s<t;s++){for(var c=[],l=0;l<n&&r<e.length;l++)c.push(i.a.createElement(eo.LegacyColumn,{size:o,key:"row".concat(s,"-col").concat(l)},e[r])),r++;a.push(i.a.createElement(eo.LegacyRow,{key:"row".concat(s)},c))}return a}},{key:"createGrid",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=e.length,a=Math.ceil(n/t),r=this.getRows(e,a,t);return i.a.createElement(eo.LegacyGrid,{styleOverride:"add-speech"===this.props.type?{marginTop:"15px"}:null},r)}},{key:"getStyle",value:function(){var e=this.props,t=e.type,n=e.showDropbox,a=e.isSpeechBundledUnbundledEnabled,r=null;return"add-speech"===t&&!0===n&&a?r=rc(rc({},Po),{},{height:"360px",boxShadow:"none"}):"add-speech"!==t||!0!==n||a?"add-speech"===t&&(r=rc(rc({},Po),{},{marginRight:"30px"})):r=rc(rc({},Po),{},{height:"260px",boxShadow:"none"}),r}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.className,a=e.label,r=e.showAsGrid,o=e.noOfColumns;return r?i.a.createElement("div",{style:this.getStyle()},a?i.a.createElement("div",{className:"Label"},a):null," ",this.createGrid(this.checkboxes,o)," "):i.a.createElement(Jr.a,{id:t,className:"MultipleCheckboxFilter".concat(n?" ".concat(n):""),flex:!0},i.a.createElement(Jr.a,{direction:"row",flex:!0},a?i.a.createElement("div",{className:"Label"},a):null,i.a.createElement("div",{className:"List"},this.checkboxes)))}}]),n}(o.Component);ic.propTypes={id:qr.a.string,className:qr.a.string,label:qr.a.oneOfType([qr.a.string,qr.a.object]),options:qr.a.array.isRequired,value:qr.a.array,onChange:qr.a.func,allowEmpty:qr.a.bool,disabled:qr.a.bool,showAsGrid:qr.a.bool,noOfColumns:qr.a.number,type:qr.a.string,showDropbox:qr.a.bool},ic.defaultProps={value:[],allowEmpty:!0,disabled:!1,showAsGrid:!1,noOfColumns:3,onChange:function(){},type:null,showDropbox:!1};var sc={models:"models",modelTrainingOutputs:"modelTrainingOutputs",modelDownload:"modelDownload",kibanaLogs:"kibanaLogs",appHelp:"appHelp",transformationHelp:"transformationHelp",tagSearchHelp:"tagSearchHelp",modelConfigDownload:"modelConfigDownload",modelStatistics:"modelStatistics",modelDelete:"modelDelete",modelConfigTemplate:"modelConfigTemplate",datasetTemplate:"datasetTemplate",intentGuideTemplate:"intentGuideTemplate",datasetExport:"datasetExport",datasetDelete:"datasetDelete",intentGuideExport:"intentGuideExport",datasetExportById:"datasetExportById",projectDelete:"projectDelete",downloadResults:"downloadResults",createNewVersionTrainingConfigTab:"createNewVersionTrainingConfigTab",createNewVersionModelReviewTab:"createNewVersionModelReviewTab",granularMessage:"granularMessage",intentGuideDelete:"intentGuideDelete",intentGuideUpdate:"intentGuideUpdate",resolveInconsistencies:"resolveInconsistencies",intentGuideContextualActionBar:"intentGuideContextualActionBar",speechBundledUnbundled:"speechBundledUnbundled",datasetType:"datasetType",suggestedIntent:"suggestedIntent",supportLink:"supportLink"},cc={hide:"hide",show:"show"},lc=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"show";if(!P.a.isNil(t)&&!P.a.isNil(e)&&!P.a.isNil(n)){var a=t[e];if(!P.a.isNil(a))return a===n}return!1},dc=(n(291),n(726));function uc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function pc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uc(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hc(e){var t=e.accept,n=e.saveFile,a=e.rejectFile,r=e.multiple,s=e.disabled,c=e.shouldUpload,l=e.uploadHandler,d=e.icon,u=e.acceptedIcon,p=e.acceptStyle,h=e.activeStyle,f=e.rejectStyle,g=e.baseStyle,m=e.removeFile,S={};e.maxSize&&(S.maxSize=e.maxSize),e.minSize&&(S.minSize=e.minSize);var E="ready",v="accepted",y="rejected",b={status:E},C={onDrop:Object(o.useCallback)((function(e){e.length&&(b.status=v,b.acceptedFiles=m?[]:e,n(m?[]:e),c&&l(m?[]:e))}),[n,c,b.acceptedFiles,b.status,v,l]),onDropRejected:Object(o.useCallback)((function(e){b.status=y,b.rejectedFiles=e,a(e)}),[a])},I=Object(dc.a)(pc(pc({},C),{},{accept:t,multiple:r,disabled:s,preventDropOnDocument:!0},S)),O=I.getRootProps,R=I.getInputProps,k=I.isDragActive,D=I.isDragAccept,_=I.isDragReject,A=I.acceptedFiles,N=Object(o.useMemo)((function(){return pc(pc(pc(pc({},g),k?h:{}),D?p:{}),_?f:{})}),[g,k,h,D,p,_,f]),L=function(e){switch(e){case E:return i.a.createElement("div",null,"Drag and drop your file",i.a.createElement("div",null," or "),i.a.createElement("div",{style:{cursor:"pointer",color:"#004c97"}}," BROWSE"));case v:return T.DROPZONE.ACCEPCTED;case y:return T.DROPZONE.REJECTED(t);default:return null}},j=m?[]:A;return i.a.createElement("div",O({style:N}),i.a.createElement("input",R()),i.a.createElement("div",{style:{margin:"auto"},className:"dropzone-content"},j.length>0?j.map((function(e){return i.a.createElement("div",{style:{display:"inline-block"},key:e.name},u?i.a.createElement("div",{style:{textAlign:"center"}},i.a.createElement(u,{height:48,width:48,fill:"#004c97"})):null,i.a.createElement("div",{style:{paddingTop:"10px",whiteSpace:"pre-wrap",textAlign:"center"}},e.name))})):i.a.createElement("div",{style:{display:"inline-block"}},d?i.a.createElement("div",{style:{textAlign:"center"}},i.a.createElement(d,{height:48,width:48})):null,i.a.createElement("div",{style:{paddingTop:"10px",whiteSpace:"pre-wrap",textAlign:"center"}},D&&L(v),_&&L(y),!k&&L(E)))))}var fc={baseStyle:{flex:1,display:"flex",flexDirection:"column",height:"170px",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},activeStyle:{borderColor:"#2196f3"},acceptStyle:{borderColor:"#00e676"},rejectStyle:{borderColor:"#ff1744"}};hc.propTypes={accept:qr.a.string.isRequired,saveFile:qr.a.func,rejectFile:qr.a.func,uploadHandler:qr.a.func,icon:qr.a.func,acceptedIcon:qr.a.func,multiple:qr.a.bool,disabled:qr.a.bool,shouldUpload:qr.a.bool,acceptStyle:qr.a.object,activeStyle:qr.a.object,rejectStyle:qr.a.object,baseStyle:qr.a.object,maxSize:qr.a.number,minSize:qr.a.number},hc.defaultProps={saveFile:function(){},rejectFile:function(){},uploadHandler:function(){},icon:null,acceptedIcon:null,multiple:!1,disabled:!1,shouldUpload:!1,acceptStyle:fc.acceptStyle,activeStyle:fc.activeStyle,rejectStyle:fc.rejectStyle,baseStyle:fc.baseStyle,maxSize:void 0,minSize:void 0,removeFile:!1};n(400);var gc=["height","width","fill"],mc=function(e){var t=e.height,n=e.width,a=e.fill,r=Ie()(e,gc);return i.a.createElement("svg",Je()({width:n,height:t},r),i.a.createElement("g",{fill:a,fillRule:"nonzero"},i.a.createElement("path",{d:"M47.987 22.731a.986.986 0 0 0-.053-.263c-.011-.032-.019-.063-.033-.094a.955.955 0 0 0-.193-.284h-.001L42 16.395v-5.57c0-.023-.011-.042-.013-.064a1.023 1.023 0 0 0-.051-.256c-.011-.032-.019-.063-.034-.094a.994.994 0 0 0-.196-.292l-9-8.976a.97.97 0 0 0-.294-.195c-.03-.014-.06-.022-.091-.032a.94.94 0 0 0-.263-.052C32.039.862 32.021.852 32 .852H7c-.552 0-1 .447-1 .997v14.547L.293 22.088l-.002.002a.977.977 0 0 0-.192.284c-.014.031-.022.062-.033.094a.948.948 0 0 0-.053.263c-.002.022-.013.04-.013.062v18.95c0 .55.448.997 1 .997h5v4.987c0 .55.448.997 1 .997h34c.552 0 1-.447 1-.997V42.74h5c.552 0 1-.447 1-.997v-18.95c0-.022-.011-.04-.013-.062zm-3.401-.935H42v-2.58l2.586 2.58zm-6-11.968H33V4.257l5.586 5.571zM8 2.847h23v7.978c0 .55.448.998 1 .998h8V21.796H8V2.847zm-2 16.37v2.579H3.414L6 19.216zm34 27.512H8v-3.99h32v3.99zm6-5.984H2V23.791h44v16.954z"}),i.a.createElement("path",{d:"M16.11 38v-8.575h3.045v-1.547h-7.987v1.547h3.059V38h1.883zm5.068 0a.401.401 0 0 0 .28-.102c.075-.067.138-.14.189-.22l2.247-3.584c.023-.042.047-.088.07-.137.023-.049.044-.101.063-.157l2.345 3.878a.925.925 0 0 0 .192.224.455.455 0 0 0 .305.098h1.883l-3.353-5.285 3.262-4.837h-1.806c-.163 0-.296.086-.399.259l-2.107 3.325a1.958 1.958 0 0 0-.175.357l-2.303-3.717a.473.473 0 0 0-.157-.172.575.575 0 0 0-.284-.052h-1.876l3.227 4.914L19.414 38h1.764zm12.768 0v-8.575h3.045v-1.547h-7.987v1.547h3.059V38h1.883z"})))};mc.defaultProps={height:49,width:48,fill:"#9B9B9B"},mc.propTypes={height:qr.a.number,width:qr.a.number,fill:qr.a.string};var Sc=mc,Ec={label:{color:"#6E6E6E",fontSize:"14px",fontWeight:"normal",paddingBottom:"5px"},field:{width:"99%",height:"35px"},select:{border:"1px solid #dce1e8",borderRadius:"2px",boxSizing:"border-box",height:"35px",margin:"0px",padding:"8px",outline:"none",width:"99%",opacity:1,fontSize:"14px",marginBottom:"15px"}},vc={marginTop:"10px",label:{color:"#6E6E6E",fontSize:"14px",fontWeight:"normal",paddingBottom:"5px"},field:{width:"99%"}},Tc={label:{fontSize:"14px",color:"#6E6E6E",letterSpacing:0,textAlign:"left",paddingBottom:"5px",optionalField:{float:"right",textAlign:"right",fontSize:"14px",color:"#A0A0A0",opacity:1,fontStyle:"italic",marginRight:"1%"}},field:{background:"#FFFFFF",border:"0px solid #DCE1E8",width:"99%",input:{fontSize:"14px",letterSpacing:0,textAlign:"left",height:"35px"}}},yc={marginTop:"-10px",marginBottom:"10px",icon:{height:"10px"},field:{fontSize:"13px",color:"red"}},bc={dialog:{container:{background:"#FAFAFA",maxWidth:"600px",display:"grid",gridTemplateRows:"60px auto 60px",height:"100%",boxShadow:"rgba(0, 0, 0, 0.2) 1px 3px 3px 0px, rgba(0, 0, 0, 0.2) 1px 3px 15px 2px"},childContainer:{marginTop:"30px",marginBottom:"15px"},content:{maxWidth:"532px",maxHeight:"515px",left:"calc((110vw - 680px) / 2)",top:"243px"},header:{title:{marginTop:"20px",marginLeft:"20px",fontSize:"20px"}},footer:{display:"flex",borderTop:"1px solid",paddingTop:"12px",paddingBottom:"12px",paddingRight:"15px"}},text:{textAlign:"left",paddingTop:"10px",lineHeight:"18px",color:"#313f54",p:{marginTop:"1em",marginBottom:"1em"}},card:{width:"202px",margin:"auto",padding:"20px",fontSize:"16px",borderRadius:"3px",boxShadow:"2px 2px 5px #0000001A",boxSizing:"border-box",background:"#FFFFFF 0% 0% no-repeat padding-box"},cardTitle:{fontSize:"16px",fontWeight:"bold",lineHeight:"18px",color:"#313f54",paddingTop:"15px",paddingBottom:"10px"},icon:{height:"80px",width:"122px",marginLeft:"auto",marginRight:"auto"}};function Cc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ic(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cc(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var Rc=function(e){at()(n,e);var t=Oc(n);function n(){return Qe()(this,n),t.apply(this,arguments)}return $e()(n,[{key:"render",value:function(){var e=this.props,t=e.validationMessage,n=e.styleOverride,a=yc;return n&&(a=Ic(Ic({},yc),n)),i.a.createElement("div",{style:a},i.a.createElement(eo.AlertIcon,{style:yc.icon}),i.a.createElement("span",{style:yc.field}," ",t," "))}}]),n}(o.PureComponent);function kc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Dc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kc(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}Rc.propTypes={validationMessage:qr.a.string},Rc.defaultProps={validationMessage:""};var Ac=function(e){at()(n,e);var t=_c(n);function n(e){var a;return Qe()(this,n),a=t.call(this,e),h()(tt()(a),"handleFileRead",(function(e){var t=a.props.onChange,n=a.fileReader.result,r={},o=si.validateWorldClassFile(n);a.setState({isValid:o}),o&&(r=a.wordClassFile),t(r,o)})),a.props=e,a.saveFile=a.saveFile.bind(tt()(a)),a.rejectFile=a.rejectFile.bind(tt()(a)),a.handleFileChoosen=a.handleFileChoosen.bind(tt()(a)),a.handleFileRead=a.handleFileRead.bind(tt()(a)),a.onClickDownload=a.onClickDownload.bind(tt()(a)),a.onChangeRadioButton=a.onChangeRadioButton.bind(tt()(a)),a.onChangeDigitalUrl=a.onChangeDigitalUrl.bind(tt()(a)),a.state={isValid:!0,url:"",selectedRadioGroupValue:T.SPEECH_DIALOG.UNBUNDLED},a.fileReader=null,a.datasetFile=null,a}return $e()(n,[{key:"saveFile",value:function(e){this.wordClassFile=e[0];var t=new Blob(e,{type:"text/plain;charset=utf-8"});this.handleFileChoosen(t)}},{key:"handleFileChoosen",value:function(e){var t=this;this.fileReader=new FileReader,this.fileReader.onload=function(e){return t.handleFileRead(e)},this.fileReader.readAsText(e)}},{key:"onClickDownload",value:function(){var e=Kn(An);document.location=e}},{key:"onChangeRadioButton",value:function(e){var t=this.props.onRadioChange;this.setState({selectedRadioGroupValue:e}),e===T.SPEECH_DIALOG.BUNDLED?t({isUnbundled:!1}):e===T.SPEECH_DIALOG.UNBUNDLED&&t({isUnbundled:!0})}},{key:"componentDidMount",value:function(){var e=this.props,t=e.modelToken,n=e.orionURL,a=e.onChangeDigitalHostedUrl,r="".concat(n,"/").concat(t,"/digital");this.setState({url:r}),a(r)}},{key:"onChangeDigitalUrl",value:function(e){(0,this.props.onChangeDigitalHostedUrl)(e.target.value)}},{key:"rejectFile",value:function(){var e=this.props.onChange;this.setState({isValid:!1}),e({},!1)}},{key:"render",value:function(){var e=this.props,t=e.showDropbox,n=e.userFeatureConfiguration,a=e.speechOnly,r=this.state,o=r.isValid,s=r.url,c=r.selectedRadioGroupValue,l=sc;return i.a.createElement("div",{id:"speech-dropbox",style:t?Dc(Dc({},Mo),{},{paddingRight:"0px",marginTop:"30px"}):{display:"none"}},i.a.createElement("div",{style:{paddingBottom:"20px"}},i.a.createElement("span",{style:Go.label},"Upload word class file"),i.a.createElement("div",{style:Go.link},i.a.createElement("span",{style:Go.link.icon},i.a.createElement(eo.Download,{width:"10px",height:"13px",fill:"#004c97"})),i.a.createElement("div",{style:Go.link.label,onClick:this.onClickDownload}," Download existing "))),i.a.createElement(hc,{accept:"text/plain",icon:Sc,acceptedIcon:eo.Doc,multiple:!1,saveFile:this.saveFile,rejectFile:this.rejectFile,removeFile:!o}),!o&&i.a.createElement(Rc,{styleOverride:{marginTop:"10px"},validationMessage:T.SPEECH_DIALOG.INVALID_FILE_CONTENT}),lc(l.speechBundledUnbundled,n)&&i.a.createElement("div",null,i.a.createElement("div",{style:Go.speechRadioAndTextGroup},i.a.createElement("div",{style:Go.speechRadioAndTextGroup.label}," Output "),i.a.createElement("div",null,i.a.createElement(eo.RadioGroup,{displayType:"stacked",value:c,values:[T.SPEECH_DIALOG.BUNDLED,T.SPEECH_DIALOG.UNBUNDLED],labels:[T.SPEECH_DIALOG.BUNDELED_LABEL,T.SPEECH_DIALOG.UNBUNDLED_LABEL],onChange:this.onChangeRadioButton}))),i.a.createElement("div",{style:Go.speechRadioAndTextGroup},!a&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{style:Go.speechRadioAndTextGroup.label}," Digital Model Url "),i.a.createElement(eo.TextField,{type:"text",defaultValue:s,name:"digital-url",title:"URL of Digital Model for the Speech recognizer to point to",styleOverride:{width:"100%",paddingBottom:"15px"},onChange:this.onChangeDigitalUrl})),i.a.createElement("div",null))))}}]),n}(o.Component);Ac.defaultProps={dispatch:function(){},showDropbox:!1},Ac.propTypes={speechOnly:qr.a.bool,showDropbox:qr.a.bool,dispatch:qr.a.func,onChange:qr.a.func.isRequired,onRadioChange:qr.a.func.isRequired,onChangeDigitalHostedUrl:qr.a.func.isRequired,modelToken:qr.a.string};var Nc=Object(l.connect)((function(e,t){return{userFeatureConfiguration:e.app.userFeatureConfiguration,orionURL:e.app.orionURL}}))(Ac);function Lc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function jc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lc(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}Lr().DISPLAY_MESSAGES;var wc=function(e){at()(n,e);var t=Pc(n);function n(e){var a;Qe()(this,n),(a=t.call(this,e)).props=e,a.onClickAddSpeech=a.onClickAddSpeech.bind(tt()(a)),a.onClickCancel=a.onClickCancel.bind(tt()(a)),a.onChangeDatasets=a.onChangeDatasets.bind(tt()(a)),a.onClickMore=a.onClickMore.bind(tt()(a)),a.onFileLoaded=a.onFileLoaded.bind(tt()(a)),a.onRadioChange=a.onRadioChange.bind(tt()(a)),a.onChangeDigitalHostedUrl=a.onChangeDigitalHostedUrl.bind(tt()(a));var r=a.props,o=r.model,i=r.datasets,s=tc(i),c=nc(s,o,null);return a.state={datasetsOptions:s,selectedDatasets:c,size:s.length>5?"large":"medium",showDropbox:!1,isFileLoaded:!0,wordclassFile:{},isUnbundled:!0,digitalHostedUrl:"",isValidFile:!0,isValidUrl:!0},a}return $e()(n,[{key:"onChangeDatasets",value:function(e){this.setState({selectedDatasets:e})}},{key:"onClickMore",value:function(){this.setState({showDropbox:!0})}},{key:"onClickAddSpeech",value:function(){var e=this.props,t=e.dispatch,n=e.model,a=this.state,r=a.selectedDatasets,o=a.digitalHostedUrl,i=a.isUnbundled,s=a.wordClassFile,c=void 0===s?{}:s;t(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,a){var r=e.configId;n(_s(T.DIGITAL_SPEECH_MODEL)),n(ji(r)).then((function(){n({type:"CONVERT_TO_SPEECH_CONFIG"})})).then((function(){var r=a(),o=r.config,i=r.header,s=r.app,c=r.projectListSidebar,l=s.userId,d=s.csrfToken,u=c.selectedProjectId.projectId,p=i.client.id,h={config:o.config,model:ys(ys({userId:l,csrfToken:d,projectId:u},e),{},{clientId:p}),wordclassFile:t};n(Li(h,p))}))}}(jc(jc({},n),{},{modelType:T.DIGITAL_SPEECH_MODEL,startBuild:!0,selectedDatasets:r,isUnbundled:i,digitalHostedUrl:o}),c)),t(rr(null))}},{key:"onClickCancel",value:function(){(0,this.props.dispatch)(rr(null))}},{key:"onFileLoaded",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;this.setState({wordClassFile:e,isValidFile:t})}},{key:"onRadioChange",value:function(e){var t=e.isUnbundled,n=void 0===t||t;this.setState({isUnbundled:n})}},{key:"onChangeDigitalHostedUrl",value:function(e){var t=si.validateUrl(e);this.setState({digitalHostedUrl:e,isValidUrl:t})}},{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.userFeatureConfiguration,a=e.model,r=e.speechOnly,o=sc,s=this.state,c=s.size,l=s.isValidFile,d=s.isValidUrl,u=s.showDropbox,p=s.datasetsOptions,h=s.selectedDatasets,f=!d||si.isEmpty(h),g=T.MODEL_ACTION_MENU,m=a.speechModelId,S=void 0===m?"":m,E=g.ADD_SPEECH,v=lc(o.speechBundledUnbundled,n);""!=S&&(E=g.REBUILD_SPEECH);var y=l&&!u?wo:jc(jc({},wo),{},{container:{height:"480px",width:"720px"}});return i.a.createElement("div",null,i.a.createElement(eo.Dialog,{isOpen:!0,onClickOk:this.onClickAddSpeech,okVisible:!0,okChildren:E.toUpperCase(),okDisabled:f,closeIconVisible:!0,onClickClose:this.onClickCancel,cancelVisible:!0,onClickCancel:this.onClickCancel,cancelChildren:T.CANCEL,headerChildren:E,centerContent:!1,styleOverride:y,size:c},i.a.createElement("div",{style:u?Uo.container:null},i.a.createElement("div",{id:"speech-dataset",style:u?jc(jc({},Mo),Uo.datasetContainer):{marginTop:"30px"}},i.a.createElement("div",{style:Uo.datasetContainer.label},T.ADD_SPEECH_DIALOG_INST),i.a.createElement(ic,{options:p,value:h,onChange:this.onChangeDatasets,showAsGrid:!0,noOfColumns:1,className:"transparent-bkg",type:"add-speech",showDropbox:u,isSpeechBundledUnbundledEnabled:v}),!u&&i.a.createElement(eo.Button,{type:"flat",name:"stop-words",onClick:this.onClickMore,styleOverride:xo},T.SPEECH_DIALOG.MORE_OPTION)),i.a.createElement("div",{style:jc(jc({},Uo.container),{},{display:"unset",width:"50%",paddingRight:"30px"})},i.a.createElement(Nc,{onRadioChange:this.onRadioChange,onChange:this.onFileLoaded,onChangeDigitalHostedUrl:this.onChangeDigitalHostedUrl,dispatch:t,speechOnly:r,showDropbox:u,modelToken:a.modelToken})))))}}]),n}(o.Component);function Mc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function xc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mc(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}wc.defaultProps={},wc.propTypes={dispatch:qr.a.func.isRequired,model:qr.a.object};var Uc=function(e){at()(n,e);var t=Bc(n);function n(e){var a;return Qe()(this,n),(a=t.call(this,e)).props=e,a.onChangeDigitalUrl=a.onChangeDigitalUrl.bind(tt()(a)),a.onClickCancel=a.onClickCancel.bind(tt()(a)),a.onClickOk=a.onClickOk.bind(tt()(a)),a.state={digitalHostedUrl:"",isValidUrl:!1},a.styleOverride=xc(xc({},Fo),Ho),a}return $e()(n,[{key:"onChangeDigitalUrl",value:function(e){var t=e.target.value,n=si.validateUrl(t);this.setState({digitalHostedUrl:t,isValidUrl:n})}},{key:"onClickCancel",value:function(){(0,this.props.dispatch)(rr(null))}},{key:"onClickOk",value:function(){var e,t=this.props,n=t.dispatch,a=t.projectId,r=t.clientId,o=t.modelId,i=this.state.digitalHostedUrl;n((e={projectId:a,clientId:r,modelId:o,digitalHostedUrl:i},function(t,n){var a=e.projectId,r=e.clientId,o=e.digitalHostedUrl,i=e.modelId,s=(n(),zn(yt,{clientId:r,projectId:a,modelId:i,digitalHostedUrl:o}));return new Promise((function(e,r){Za.patch({dispatch:t,getState:n,url:s,headers:{"Content-Type":"application/json-patch+json"},onApiSuccess:function(e){return Hs(a,i,e)},onApiError:function(e){return qs(e)}})}))})),n(rr(null))}},{key:"render",value:function(){var e=this.props,t=(e.userFeatureConfiguration,e.speechOnly,e.header),n=this.state,a=n.isValidUrl,r=n.digitalHostedUrl;return i.a.createElement("div",null,i.a.createElement(eo.Dialog,{isOpen:!0,okDisabled:!a||!r,headerChildren:t,onClickOk:this.onClickOk,onClickClose:this.onClickCancel,onClickCancel:this.onClickCancel,cancelChildren:T.CANCEL,size:"small",centerContent:!1,styleOverride:this.styleOverride},i.a.createElement("div",{style:Go.speechRadioAndTextGroup.label}," Digital Model Url "),i.a.createElement(eo.TextField,{type:"text",placeholder:"Enter URL",name:"digital-url",title:"URL of Digital Model for the Speech recognizer to point to",styleOverride:{width:"100%"},onChange:this.onChangeDigitalUrl})))}}]),n}(o.Component);Uc.defaultProps={dispatch:function(){}},Uc.propTypes={dispatch:qr.a.func,onChange:qr.a.func.isRequired};n(194);var Gc=n(556),Fc=n(324),Vc=n.n(Fc),Hc=n(699),qc=n.n(Hc),Wc=(n(555),function(e){var t=RegExp("[".concat(["-","[","]","/","{","}","(",")","*","+","?",".","\\","^","$","|"].join("\\"),"]"),"g");return"".concat(e).replace(t,"\\$&")});function Kc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var zc=function(e){at()(n,e);var t=Kc(n);function n(e){var a;return Qe()(this,n),a=t.call(this,e),h()(tt()(a),"onSelectChange",(function(e,t){var n=e.value,r=a.props.onColumnBindChange,o=a.state,i=o.columnsBinding,s=o.boundByIndex,c=s[t];c&&delete i[c],"__skip__"!=n&&(i[n]=t),s[t]=n;for(var l=!0,d=0;d<a.requiredColumns.length;d++)if(void 0===i[a.requiredColumns[d]]){l=!1;break}a.setState({columnsBinding:i,boundByIndex:s});var u=[];for(var p in i)if(i.hasOwnProperty(p)){var h=a.columnsByName[p];u.push({id:"".concat(h.id),columnName:h.name,columnIndex:"".concat(i[p]),displayName:h.displayName})}l=l&&u.length>0,r&&r({bindingArray:u,isBindingValid:l,columnsBinding:i})})),a.props=e,a.state={scrollTop:0,columnsBinding:{},boundByIndex:[]},a.columnsOptions=[],a.columnsNames={},a.requiredColumns=[],a.columnsByName={},a.handleScroll=a.handleScroll.bind(tt()(a)),a}return $e()(n,[{key:"handleScroll",value:function(e){this.setState({scrollTop:0+e.target.scrollTop})}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.columns,a=t.data,r=t.onColumnBindChange,o=this.tryPreSelectColumns(this.props.columnsBinding),i=o.isSomeColumnsPreSelected,s=o.columnsBinding,c=Object.assign({},s);this.columnsNames={__skip__:"Skip"},this.columnsOptions=[{value:"__skip__",label:"Skip"}],this.requiredColumns=[],n.forEach((function(t){e.columnsByName[t.name]=t,e.columnsNames[t.name]=t.displayName,e.columnsOptions.push({value:t.name,label:t.displayName}),t.required&&e.requiredColumns.push(t.name)}));var l=[];if(a.length){var d,u=a[0];for(d=0;d<u.length;d++){var p=!1;for(var h in c)if(c[h]==d){l.push(h),p=!0,delete c[h];break}p||l.push("__skip__")}}if(this.setState({columnsBinding:s,boundByIndex:l}),r&&i){for(var f=!0,g=0;g<this.requiredColumns.length;g++)if(void 0===s[this.requiredColumns[g]]){f=!1;break}var m=[];for(var S in s)if(s.hasOwnProperty(S)){var E=this.columnsByName[S];m.push({id:"".concat(E.id),columnName:E.name,columnIndex:"".concat(s[S]),displayName:E.displayName})}r({bindingArray:m,isBindingValid:f=f&&m.length>0,columnsBinding:s,isPreSelected:!0})}}},{key:"componentWillUnmount",value:function(){}},{key:"tryPreSelectColumns",value:function(e){var t=this.props,n=t.columns,a=t.data,r=a.length?a[0]:[],o=Object.assign({},e);return r.length&&n.length&&0==Object.keys(o).length?(n.forEach((function(e){var t=[],n={},a=[new RegExp("^".concat(Wc(e.name),"$"),"i"),new RegExp("^".concat(Wc(e.displayName),"$"),"i")];r.forEach((function(e,n){for(var r=0;r<a.length;r++)if(a[r].test(e.trim())){t.push(n);break}})),t.length||(a=[new RegExp(Wc(e.name),"i"),new RegExp(Wc(e.displayName),"i")],r.forEach((function(e,n){for(var r=0;r<a.length;r++)if(a[r].test(e)){t.push(n);break}}))),1!==t.length||n[t[0]]||(o[e.name]=t[0],n[t[0]]=!0)})),{isSomeColumnsPreSelected:0!=Object.keys(o).length,columnsBinding:o}):{isSomeColumnsPreSelected:!1,columnsBinding:o}}},{key:"headerTable",get:function(){var e=this,t=this.props.data;if(!t.length)return null;for(var n=this.state,a=n.columnsBinding,r=n.boundByIndex,o=t[0],s=[],c=function(t){var n=t,o=r[n],c=e.columnsNames[o],l=e.columnsOptions.slice(0).filter((function(e){return"__skip__"==e.value||e.value==o||void 0===a[e.value]}));s.push(i.a.createElement("td",{className:"__skip__"===o?"Skipped":"",key:"col-".concat(n)},i.a.createElement("div",null,i.a.createElement(qc.a,{multiple:!1,options:l,value:c,onChange:function(t){var a=t.option;return e.onSelectChange(a,n)}}))))},l=0;l<o.length;l++)c(l);return i.a.createElement("table",null,i.a.createElement("tbody",null,i.a.createElement("tr",null,s)))}},{key:"dataTable",get:function(){var e=this.props.data,t=[];if(!e.length)return t;for(var n=this.state.boundByIndex,a=0;a<e.length;a++){for(var r=[],o=0;o<e[a].length;o++){var s=n[o];r.push(i.a.createElement("td",{key:"col-".concat(o),className:"cell".concat("__skip__"===s?" Skipped":"")},i.a.createElement("div",null,e[a][o])))}t.push(i.a.createElement("tr",{key:"row-".concat(a+1)},r))}return i.a.createElement("table",null,i.a.createElement("tbody",null,t))}},{key:"render",value:function(){return i.a.createElement(Jr.a,{className:"MappingPreviewContainer",flex:!0,onScroll:this.handleScroll},i.a.createElement("div",{className:"MappingPreviewGridContainer"},i.a.createElement("div",{className:"Preview"},i.a.createElement("div",{className:"header-table-container",style:{top:"".concat(this.state.scrollTop,"px")}},this.headerTable),i.a.createElement("div",{className:"data-table-container"},this.dataTable))))}}]),n}(o.Component);function Yc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Jc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yc(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}zc.propTypes={data:qr.a.array.isRequired,columns:qr.a.array.isRequired,onColumnBindChange:qr.a.func};var Qc=Lr().DISPLAY_MESSAGES,Zc=function(e){at()(n,e);var t=Xc(n);function n(e){var a;return Qe()(this,n),(a=t.call(this,e)).props=e,a.state={},a.onClickCancel=a.onClickCancel.bind(tt()(a)),a.onColumnBindChange=a.onColumnBindChange.bind(tt()(a)),a.onChangeStep=a.onChangeStep.bind(tt()(a)),a.onCommit=a.onCommit.bind(tt()(a)),a.onRequestColumnsBind=a.onRequestColumnsBind.bind(tt()(a)),a.onChangeFirstRowSkip=a.onChangeFirstRowSkip.bind(tt()(a)),a}return $e()(n,[{key:"componentWillReceiveProps",value:function(e){this.props=e;var t=this.props.taggingGuideImport,n=t.done,a=t.validTagCount,r=this.props.dispatch;n&&(r(rr(null)),r(nr(Qc.taggingGuideImportSuccess(a))))}},{key:"onChangeStep",value:function(e){(0,this.props.dispatch)({type:"TAGGING_GUIDE_IMPORT_CHANGE_STEP",step:{step:e}.step})}},{key:"onCommit",value:function(){var e=this.props,t=e.dispatch,n=e.project,a=e.clientId,r=e.taggingGuideImport.token;t(function(e){var t=e.projectId,n=e.token,a=e.clientId;return function(e){return new Promise((function(r,o){var i;e({type:"TAGGING_GUIDE_IMPORT_COMMIT_REQUEST",projectId:(i={projectId:t,token:n}).projectId,token:i.token});var s=ze.getState(),c=s.app,l=(c.userId,c.csrfToken),d=zn(In,{projectId:t,token:n,clientId:a});Ja(Ya.IMPORT_TAGGING_GUIDE_EVENT,s,{projectId:t,clientDBId:a}),pt()(d,{credentials:"same-origin",method:"POST",headers:{"X-CSRF-TOKEN":l}}).then(Pr.handleErrors).then((function(){var o;e({type:"TAGGING_GUIDE_IMPORT_COMMIT_SUCCESS",projectId:(o={projectId:t,token:n}).projectId,token:o.token}),Ja(Ya.IMPORT_TAGGING_GUIDE_COMPLETED_EVENT,s,{projectId:t,clientDBId:a}),setTimeout((function(){e(ni(t,{property:"count",direction:"desc"}))}),3e3),r()})).catch((function(r){var i;e({type:"TAGGING_GUIDE_IMPORT_COMMIT_ERROR",projectId:(i={projectId:t,token:n,error:r}).projectId,token:i.token,error:i.error}),Pr.dispatchError(r,e,er),Ja(Ya.IMPORT_TAGGING_GUIDE_FAILED_EVENT,s,{projectId:t,clientDBId:a}),o(r)}))}))}}({projectId:n.id,token:r,clientId:a}))}},{key:"onRequestColumnsBind",value:function(){var e=this.props,t=e.dispatch,n=e.project,a=e.taggingGuideImport,r=a.bindingArray,o=a.token,i=a.skipFirstRow;t(function(e){var t=e.projectId,n=e.token,a=e.bindingArray,r=e.skipFirstRow,o=e.clientId;return function(e){return new Promise((function(i,s){var c;e({type:"TAGGING_GUIDE_IMPORT_COLUMNS_BIND_REQUEST",projectId:(c={projectId:t,token:n,bindingArray:a,skipFirstRow:r}).projectId,token:c.token,bindingArray:c.bindingArray,skipFirstRow:c.skipFirstRow});var l=ze.getState().app,d=(l.userId,l.csrfToken),u=zn(Rn,{projectId:t,token:n,skipFirstRow:r,clientId:o});pt()(u,{credentials:"same-origin",method:"POST",headers:{"X-CSRF-TOKEN":d,"Content-Type":"application/json"},body:JSON.stringify(a)}).then(Pr.handleErrors).then((function(e){return e.json()})).then((function(o){var s;e({type:"TAGGING_GUIDE_IMPORT_COLUMNS_BIND_SUCCESS",projectId:(s={projectId:t,token:n,bindingArray:a,skipFirstRow:r,validTagCount:o.validTagCount,missingTags:o.missingTags,invalidTags:o.invalidTags}).projectId,token:s.token,bindingArray:s.bindingArray,skipFirstRow:s.skipFirstRow,validTagCount:s.validTagCount,missingTags:s.missingTags,invalidTags:s.invalidTags}),i({validTagCount:o.validTagCount,missingTags:o.missingTags,invalidTags:o.invalidTags})})).catch((function(o){var i;e({type:"TAGGING_GUIDE_IMPORT_COLUMNS_BIND_ERROR",projectId:(i={projectId:t,token:n,bindingArray:a,skipFirstRow:r,error:o}).projectId,token:i.token,bindingArray:i.bindingArray,skipFirstRow:i.skipFirstRow,error:i.error}),Pr.dispatchError(o,e,er),s(o)}))}))}}({projectId:n.id,token:o,bindingArray:r,skipFirstRow:i,clientId:n.clientId}))}},{key:"onChangeFirstRowSkip",value:function(){var e=this.props,t=e.dispatch,n=e.taggingGuideImport.skipFirstRow;t({type:"TAGGING_GUIDE_IMPORT_FISRT_ROW_SKIP_CHANGE",skipFirstRow:{skipFirstRow:!n}.skipFirstRow})}},{key:"componentWillUnmount",value:function(){var e=this.props.taggingGuideImport,t=e.token,n=e.done,a=this.props.dispatch;if(t&&!n){var r=this.props,o=r.project,i=r.clientId;a(cr({fileId:t})),a(function(e){var t=e.projectId,n=e.token,a=e.clientId;return function(e){return new Promise((function(r,o){var i;e({type:"TAGGING_GUIDE_IMPORT_ABORT_REQUEST",projectId:(i={projectId:t,token:n}).projectId,token:i.token});var s=ze.getState().app,c=(s.userId,s.csrfToken),l=zn(Cn,{projectId:t,token:n,clientId:a});pt()(l,{credentials:"same-origin",method:"POST",headers:{"X-CSRF-TOKEN":c}}).then(Pr.handleErrors).then((function(){var a;e({type:"TAGGING_GUIDE_IMPORT_ABORT_SUCCESS",projectId:(a={projectId:t,token:n}).projectId,token:a.token}),r()})).catch((function(a){var r;e({type:"TAGGING_GUIDE_IMPORT_ABORT_ERROR",projectId:(r={projectId:t,token:n,error:a}).projectId,token:r.token,error:r.error}),Pr.dispatchError(a,e,er),o(a)}))}))}}({projectId:o.id,token:t,clientId:i}))}a({type:"TAGGING_GUIDE_IMPORT_RESET"})}},{key:"onClickCancel",value:function(){(0,this.props.dispatch)(rr(null))}},{key:"setpUplaodContent",get:function(){var e=this.props,t=e.project,n=e.csrfToken,a=e.userName,r=e.dispatch,o={postUrl:zn(On,{projectId:t.id,clientId:t.clientId}),iconFiletypes:[".csv"],showFiletypeIcon:!0},s=Jc(Jc({},T.DROPZONEJS_COMMON_CONFIG),{},{timeout:T.TAGGING_GUIDE_UPLOAD_TIMEOUT,dictDefaultMessage:T.UPLOAD_DEFAULT_MSG,params:{username:a},headers:{"X-CSRF-Token":n},accept:function(e,t){return e.fileId="",t()}}),c={success:function(e,t){var n,a=t.token,o=t.columns,i=t.previewData;i&&i.length>10&&(i=i.slice(0,10)),e.token=a,r({type:"TAGGING_GUIDE_IMPORT_FILE_UPLOAD_SUCCESS",token:(n={token:a,columns:o,previewData:i}).token,columns:n.columns,previewData:n.previewData})},error:function(e,t){r(er(Qc.fileImportFail));for(var n=t.message?t.message:t,a=e.previewElement.querySelectorAll("[data-dz-errormessage]"),o=[],i=0,s=a.length;i<s;i++){var c=a[i];o.push(c.textContent=n)}return o},sending:function(){},removedfile:function(e){e.token&&r(cr({fileId:e.token}))}};return i.a.createElement("div",{id:"TaggingGuideUpload"},i.a.createElement("div",null,i.a.createElement("label",{htmlFor:"TaggingGuideUploadFilepicker"},"Upload File*")),i.a.createElement("div",{id:"TaggingGuideUploadFilepicker"},i.a.createElement(Vc.a,{config:o,djsConfig:s,eventHandlers:c})))}},{key:"setpMappingContent",get:function(){var e=this.props.taggingGuideImport,t=e.previewData,n=e.columns,a=e.skipFirstRow,r=e.columnsBinding,o=e.isPreSelected,s=(this.props.dispatch,[]),c=[],l=[];return n&&n.length&&n.forEach((function(e,t){var n=!1;e.required&&(n=!0,s.push(i.a.createElement("span",{className:"Required",key:t},e.displayName))),void 0!==r[e.name]?c.push(i.a.createElement("span",{className:"Selected".concat(n?" Required":""),key:t},e.displayName)):l.push(i.a.createElement("span",{className:"Skipped".concat(n?" Required":""),key:t},e.displayName))})),i.a.createElement(Jr.a,{id:"TaggingGuideMapping",className:"TaggerMapping",flex:!0,direction:"column"},i.a.createElement(Jr.a,{className:"ContentRow"},"Please choose corresponding columns for the file uploaded.",o?i.a.createElement("div",{className:"notice"},"Notice: some columns were selected automatically based on first row data."):null),i.a.createElement(Jr.a,{className:"ContentRow BindingInfo",direction:"column"},i.a.createElement(Jr.a,{direction:"row"},i.a.createElement(Jr.a,{className:"InfoLabel"},"Required:"),i.a.createElement(Jr.a,{className:"InfoText".concat(s.length?"":" Empty"),flex:!0,direction:"row"},s.length?s.reduce((function(e,t){return[e,", ",t]})):i.a.createElement("span",null,"none"))),i.a.createElement(Jr.a,{direction:"row"},i.a.createElement(Jr.a,{className:"InfoLabel"},"Selected:"),i.a.createElement(Jr.a,{className:"InfoText".concat(c.length?"":" Empty"),flex:!0,direction:"row"},c.length?c.reduce((function(e,t){return[e,", ",t]})):i.a.createElement("span",null,"none"))),i.a.createElement(Jr.a,{direction:"row"},i.a.createElement(Jr.a,{className:"InfoLabel"},"Skipped:"),i.a.createElement(Jr.a,{className:"InfoText".concat(l.length?"":" Empty"),flex:!0,direction:"row"},l.length?l.reduce((function(e,t){return[e,", ",t]})):i.a.createElement("span",null,"none")))),i.a.createElement(zc,{data:t,columns:n,columnsBinding:r,onColumnBindChange:this.onColumnBindChange}),i.a.createElement(Jr.a,{className:"ContentRow SkipFirstRow"},i.a.createElement(eo.Checkbox,{checked:a,value:"skip-first-row",label:"Skip First Row",onChange:this.onChangeFirstRowSkip})))}},{key:"onColumnBindChange",value:function(e){var t,n=e.bindingArray,a=e.isBindingValid,r=e.columnsBinding,o=e.isPreSelected;(0,this.props.dispatch)({type:"TAGGING_GUIDE_IMPORT_COLUMNS_BIND",bindingArray:(t={bindingArray:n,isBindingValid:a,columnsBinding:r,isPreSelected:o}).bindingArray,isBindingValid:t.isBindingValid,columnsBinding:t.columnsBinding,isPreSelected:t.isPreSelected})}},{key:"setpConfirmContent",get:function(){var e=this.props.taggingGuideImport,t=e.validTagCount,n=e.missingTags,a=e.invalidTags,r=e.step;return"confirm_table"==r?i.a.createElement(Jr.a,{id:"TaggingGuideConfirm",direction:"column",flex:!0},i.a.createElement(Jr.a,{className:"ValidTagsCount"},t," ","tag",1==t?"":"s"," ","will be added."),i.a.createElement(Jr.a,{direction:"column",className:"TagsSummaryTable",flex:!0,separator:"all"},a&&a.length>0?i.a.createElement(Jr.a,{direction:"row",className:"TagsSummaryTableRow",flex:!0,separator:n&&n.length>0?"bottom":"none"},i.a.createElement(Jr.a,{className:"TagsSummaryTableRowName",separator:"right"},"Invalid Tags"),i.a.createElement(Jr.a,{flex:!0,className:"TagsSummaryTableRowValue"},i.a.createElement("textarea",{readOnly:!0,value:a.join(", ")}))):null,n&&n.length>0?i.a.createElement(Jr.a,{direction:"row",className:"TagsSummaryTableRow",flex:!0},i.a.createElement(Jr.a,{className:"TagsSummaryTableRowName",separator:"right"},"Missing Tags"),i.a.createElement(Jr.a,{flex:!0,className:"TagsSummaryTableRowValue"},i.a.createElement("textarea",{readOnly:!0,value:n.join(", ")}))):null)):"confirm_delete"==r?i.a.createElement(Jr.a,{id:"TaggingGuideConfirm",direction:"column",flex:!0},i.a.createElement(Jr.a,{className:"ValidTagsCount"},"Are you sure you want to delete tags?"),i.a.createElement(Jr.a,null,"This operation will untag unique strings with these tags:"),i.a.createElement(Jr.a,{direction:"row",className:"TagsSummaryTableRow",flex:!0},i.a.createElement(Jr.a,{flex:!0,className:"TagsSummaryTableRowValue",separator:"all"},i.a.createElement("textarea",{readOnly:!0,value:n.join(", ")})))):i.a.createElement(Jr.a,{id:"TaggingGuideConfirm",direction:"column",flex:!0},i.a.createElement(Jr.a,{className:"ValidTagsCount"},t," ","tag",1==t?"":"s"," ","will be added."),i.a.createElement(Jr.a,null,"Do you want to import?"))}},{key:"content",get:function(){switch(this.props.taggingGuideImport.step){case"mapping":return this.setpMappingContent;case"confirm_ok":case"confirm_table":case"confirm_delete":return this.setpConfirmContent;case"upload":default:return this.setpUplaodContent}}},{key:"actions",get:function(){var e=this,t=this.props.taggingGuideImport,n=t.step,a=t.isBindingValid,r=(t.bindingArray,t.token,t.skipFirstRow,t.isMappingRequestLoading),o=t.missingTags,s=t.isCommitRequestLoading,c=this.props;c.project,c.clientId,c.dispatch;switch(n){case"mapping":return[i.a.createElement(eo.Button,{name:"cancel",type:"flat",key:"Cancel",onClick:r?null:this.onClickCancel},"CANCEL"),i.a.createElement(eo.Button,{name:"next",key:"Next",onClick:a&&!r?this.onRequestColumnsBind:null},"NEXT")];case"confirm_table":return o&&o.length>0?[i.a.createElement(eo.Button,{name:"cancel",type:"flat",key:"Cancel",onClick:this.onClickCancel},"CANCEL"),i.a.createElement(eo.Button,{name:"back",key:"Back",onClick:function(){return e.onChangeStep("mapping")}},"BACK"),i.a.createElement(eo.Button,{name:"next",key:"Next",onClick:function(){return e.onChangeStep("confirm_delete")}},"NEXT")]:[i.a.createElement(eo.Button,{name:"cancel",type:"flat",key:"Cancel",onClick:s?null:this.onClickCancel},"CANCEL"),i.a.createElement(eo.Button,{name:"back",key:"Back",onClick:s?null:function(){return e.onChangeStep("mapping")},styleOverride:{margin:"0px 10px"}},"BACK"),i.a.createElement(eo.Button,{name:"import",key:"Import",onClick:s?null:this.onCommit},"IMPORT")];case"confirm_ok":case"confirm_delete":return[i.a.createElement(eo.Button,{type:"flat",name:"cancel",key:"Cancel",onClick:s?null:this.onClickCancel},"CANCEL"),i.a.createElement(eo.Button,{name:"back",key:"Back",label:"Back",onClick:s?null:function(){return e.onChangeStep("mapping")},styleOverride:{margin:"0px 10px"}},"BACK"),i.a.createElement(eo.Button,{name:"import",key:"Import",label:"Import",onClick:s?null:this.onCommit},"IMPORT")];case"upload":default:return[i.a.createElement(eo.Button,{type:"flat",name:"cancel",key:"Cancel",onClick:this.onClickCancel},"CANCEL"),i.a.createElement(eo.Button,{name:"next",key:"Next",onClick:null},"NEXT")]}}},{key:"header",get:function(){var e=this.props.taggingGuideImport;switch(e.step){case"confirm":var t=e.validTagCount;return"".concat(t," tags will be added");case"mapping":return"Columns mapping";case"upload":default:var n=this.props.project;return"Import Tagging Guide for ".concat(n.name)}}},{key:"render",value:function(){var e=this.props.taggingGuideImport.step;return i.a.createElement(ro,{id:"TaggingGuideImportDialog",className:"TaggingGuideImportDialog ".concat(e),header:this.header,content:this.content,actions:this.actions,resize:"mapping"==e})}}]),n}(o.Component);Zc.propTypes={project:qr.a.object.isRequired};var $c=Object(l.connect)((function(e){return{userId:e.app.userId,csrfToken:e.app.csrfToken,taggingGuideImport:e.taggingGuideImport}}),(function(e){return{dispatch:e}}))(Object(Gc.a)(Zc)),el=n(701),tl=n.n(el),nl=Lr().DISPLAY_MESSAGES,al=function(e){return{type:"REQUEST_DATASET_TRANSFORM",transformingDatasetId:e}},rl=function(e,t,n,a,r,o){var i=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=tl.a.stringify({useModelForSuggestedCategory:i}),c=zn(Qt,{clientId:n,projectId:a,datasetId:t,queryParams:s});return o&&(c=zn(Zt,{projectId:a,datasetId:t,queryParams:s,clientId:n})),function(e){return e(al(t)),pt()(c,{credentials:"same-origin",method:"put",headers:{"X-CSRF-TOKEN":r,"Content-Type":"application/json"},body:JSON.stringify({projectId:a})}).then(Pr.handleErrors).then((function(e){return e.json()})).then((function(n){e(hi({projectId:a,datasetId:t,dataset:{status:n.status?"".concat(n.status).toUpperCase():"NULL",task:n.task?"".concat(n.task).toUpperCase():"NULL"}}))})).catch((function(t){e(rr(null)),Pr.dispatchError(t,e,er)}))}},ol=Lr().DISPLAY_MESSAGES,il=function(e){return{type:"CREATE_DATASET_DIALOG_FILE_UPLOAD_SUCCESS",token:e.token,columns:e.columns,previewData:e.previewData}},sl=function(e){return{type:"CREATE_DATASET_DIALOG_CHANGE_STEP",step:e.step}},cl=function(e){return{type:"CREATE_DATASET_DIALOG_COLUMNS_BIND",bindingArray:e.bindingArray,isBindingValid:e.isBindingValid,columnsBinding:e.columnsBinding,isPreSelected:e.isPreSelected}},ll=function(e){return{type:"CREATE_DATASET_DIALOG_FISRT_ROW_SKIP_CHANGE",skipFirstRow:e.skipFirstRow}},dl=function(e){var t=e.token,n=e.bindingArray,a=e.skipFirstRow;return function(e,r){return new Promise((function(o,i){var s;e({type:"CREATE_DATASET_DIALOG_COLUMNS_BIND_REQUEST",token:(s={token:t,bindingArray:n,skipFirstRow:a}).token,bindingArray:s.bindingArray,skipFirstRow:s.skipFirstRow});var c=r(),l=c.app.csrfToken,d=c.header.client.id,u=zn(Bt,{token:t,skipFirstRow:a,clientId:d});pt()(u,{credentials:"same-origin",method:"POST",headers:{"X-CSRF-TOKEN":l,"Content-Type":"application/json"},body:JSON.stringify(n)}).then(Pr.handleErrors).then((function(e){return e.json()})).then((function(r){var i,s=Object.assign({},{token:t,bindingArray:n,skipFirstRow:a,fileId:r.fileId});e({type:"CREATE_DATASET_DIALOG_COLUMNS_BIND_SUCCESS",token:(i=s).token,bindingArray:i.bindingArray,skipFirstRow:i.skipFirstRow,fileId:i.fileId}),o(s)})).catch((function(r){var o;e({type:"CREATE_DATASET_DIALOG_COLUMNS_BIND_ERROR",token:(o={token:t,bindingArray:n,skipFirstRow:a,error:r}).token,bindingArray:o.bindingArray,skipFirstRow:o.skipFirstRow,error:o.error}),e(rr(null)),Pr.dispatchError(r,e,er),i(r),e({type:"CREATE_DATASET_DIALOG_RESET"})}))}))}},ul=function(e){var t=e.projectId,n=e.clientId,a=e.dataType,r=e.locale,o=e.name,i=e.uri,s=e.description,c=e.autoTagDataset,l=e.mapToProjectId;return function(e,d){return new Promise((function(u,p){e({type:"CREATE_DATASET_REQUEST"});var h=d(),f=h.app,g=f.userDetails,m=void 0===g?T.OBJECT_DEFAULT_VALUE:g,S=f.csrfToken,E=m.userType,v=void 0===E?T.DEFAULT_VALUE:E,y=zn(Ut,{clientId:n}),b=T.DATASET_EXTERNAL_FLAG;Ja(Ya.CREATE_DATASET_EVENT,h,{projectId:t,clientDBId:n}),v==T.USER_TYPE_INTERNAL&&(b=T.DATASET_INTERNAL_FLAG),pt()(y,{method:"POST",credentials:"same-origin",headers:{"X-CSRF-TOKEN":S,"Content-Type":"application/json"},body:JSON.stringify({dataset:{projectId:t,clientId:n,dataType:a,locale:r,name:o,source:b,uri:i,description:s},projectId:t,autoTagDataset:c})}).then(Pr.handleErrors).then((function(e){return e.json()})).then((function(a){var r=wr(a),o=Object.assign({status:"NULL",type:r.dataType,description:r.description||""},r);e({type:"CREATE_DATASET_SUCCESS"}),l?e(function(e){var t=e.projectId,n=e.datasetId,a=e.dataset,r=e.autoTag;return function(e,o){return new Promise((function(i,s){var c=o(),l=c.app,d=(l.userId,l.csrfToken),u=c.header.client.id,p=zn(en,{projectId:t,datasetId:n,clientId:u});r&&(p=zn(tn,{projectId:t,datasetId:n,clientId:u})),pt()(p,{credentials:"same-origin",method:"PUT",headers:{"X-CSRF-TOKEN":d}}).then(Pr.handleErrors).then((function(){var r,o=wr(a),s=Object.assign({_key:"d-".concat(t,"-").concat(n),projectId:t},o);e({type:"PROJECT_DATASET_ADD",projectId:(r={projectId:t,datasetId:n,dataset:s}).projectId,datasetId:r.datasetId,dataset:r.dataset}),i()})).catch((function(t){Pr.dispatchError(t,e,er),s(t)}))}))}}({datasetId:o.id,projectId:t,dataset:o})).then((function(){Ja(Ya.CREATE_DATASET_COMPLETED_EVENT,h,{projectId:t,datasetId:o.id,clientDBId:n}),e(hs(n)),u(o)})).catch((function(a){Ja(Ya.CREATE_DATASET_FAILED_EVENT,h,{projectId:t,clientDBId:n}),e(rr(null)),p(a)})):u(o)})).catch((function(a){switch(e(rr(null)),a.status){case 400:Ja(Ya.CREATE_DATASET_FAILED_EVENT,h,{projectId:t,clientDBId:n,source:b,reason:ol.createFailed}),e(er(ol.createFailed));break;case 403:Ja(Ya.CREATE_DATASET_FAILED_EVENT,h,{projectId:t,clientDBId:n,source:b,reason:ol.datasetOperationNotAllowed}),e(er(ol.datasetOperationNotAllowed));break;case 409:Ja(Ya.CREATE_DATASET_FAILED_EVENT,h,{projectId:t,clientDBId:n,source:b,reason:ol.datasetAlreadyExists(o)}),e(tr(ol.datasetAlreadyExists(o)));break;default:Ja(Ya.CREATE_DATASET_FAILED_EVENT,h,{projectId:t,clientDBId:n,source:b,reason:ol.datasetCreateError}),e(er(ol.datasetCreateError)),Pr.dispatchError(a,e,er)}e({type:"CREATE_DATASET_ERROR"}),p(a)}))}))}},pl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n){var a=e.code;if(400==a){var r=e.message;t(er(r))}else t(er(401==a?ol.sessionExpired:ol.fileParseFail));t({type:"CREATE_DATASET_DIALOG_RESET"}),t(rr(null))}},hl=function(e){return function(t,n){var a=e.dropZone,r=zn(xt),o=new FormData;return a&&(o.append("datatype",null),o.append(T.DATASET_FILE,a,a.name)),new Promise((function(a,i){Za.post({dispatch:t,getState:n,url:r,data:o,onApiSuccess:function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return function(n,a){var r=e.token,o=e.columns,i=e.previewData;i&&i.length>10&&(i=i.slice(0,10)),n(il({token:r,columns:o,previewData:i})),n(sl({step:"mapping"})),n(fl(t))}}(t,e)},onApiError:pl})}))}},fl=function(e){return function(t,n){var a=n(),r=a.createDatasetDialog,o=r.columns,i=r.previewData,s=r.token,c=r.isMappingRequestLoading,l=Sl(o,i,a.createDatasetDialog.columnsBinding),d=l.isSomeColumnsPreSelected,u=l.columnsBinding,p=[],h={};if(o.forEach((function(e){h[e.name]=e,(e.required||"rutag"===e.name)&&p.push(e.name)})),d){var f=!0;p.forEach((function(e){void 0===u[e]&&(f=!1)}));var g=[];for(var m in u)if(u.hasOwnProperty(m)){var S=h[m];g.push({id:"".concat(S.id),columnName:S.name,columnIndex:"".concat(u[m]),displayName:S.displayName})}f=f&&g.length>0,t(cl({bindingArray:g,isBindingValid:f,columnsBinding:u,isPreSelected:!0})),f&&g.length>0&&s&&!c?t(ml(e)):t(gl(e))}else t(gl(e))}},gl=function(e){return function(t,n){var a=n().createDatasetDialog;t(rr({dispatch:t,createDatasetDialog:a,type:T.DIALOGS.DATASET_COLUMN_MAPPING_DIALOG,onOk:function(){return t(ml(e))}}))}},ml=function(e){return function(t,n){var a=n(),r=a.createDatasetDialog,o=a.app,i=o.userId,s=o.csrfToken,c=r.token,l=r.bindingArray,d=r.skipFirstRow,u=e.name,p=e.description,h=e.projectId,f=e.clientId,g=e.locale,m=e.dataType;t(rr({dispatch:t,type:T.DIALOGS.PROGRESS_DIALOG,message:T.UPLOAD_DATASET_PROGRESS,header:T.UPLOADING_DATASET,showHeader:!0,showFooter:!0,cancelVisible:!0,closeIconVisible:!0,cancelChildren:T.CLOSE,styleOverride:{childContainer:{marginTop:"30px",marginBottom:"10px"},content:{top:"160px",maxWidth:"444px",maxHeight:"333px",left:"calc((100vw - 500px) / 2)"},cancel:{color:"".concat(Oo),backgroundColor:"".concat(ko),paddingLeft:"25px",paddingRight:"25px",":hover":{color:"".concat(Oo),backgroundColor:"".concat(Ro)}}}})),t(dl({token:c,bindingArray:l,skipFirstRow:d})).then((function(e){var n=e.fileId;t(ul({projectId:h,clientId:f,dataType:m,locale:g,name:u,uri:"https://tagging.247-inc.com:8443/nltools/private/v1/files/".concat(n),description:p,autoTagDataset:!0,mapToProjectId:h})).then((function(e){setTimeout((function(){t(rl(i,e.id,f,h,s,!1))}),2e3),t(nr(ol.datasetCreated(e.name))),t({type:"CREATE_DATASET_DIALOG_RESET"})}))}))}},Sl=function(e,t,n){var a=t.length?t[0]:[],r=Object.assign({},n);return a.length&&e.length&&0==Object.keys(r).length?(e.forEach((function(e){var t=[],n={},o=[new RegExp("^".concat(Wc(e.name),"$"),"i"),new RegExp("^".concat(Wc(e.displayName),"$"),"i")];a.forEach((function(e,n){for(var a=0;a<o.length;a++)if(o[a].test(e.trim())){t.push(n);break}})),t.length||(o=[new RegExp(Wc(e.name),"i"),new RegExp(Wc(e.displayName),"i")],a.forEach((function(e,n){for(var a=0;a<o.length;a++)if(o[a].test(e)){t.push(n);break}}))),1!==t.length||n[t[0]]||(r[e.name]=t[0],n[t[0]]=!0)})),{isSomeColumnsPreSelected:0!=Object.keys(r).length,columnsBinding:r}):{isSomeColumnsPreSelected:!1,columnsBinding:r}},El=n(1384),vl=n(1383),Tl=n(157),yl=n.n(Tl);function bl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var Cl=function(e){var t=e.input,n=e.label,a=e.type,r=e.meta,o=r.touched,s=r.error;return"hidden"!=a?i.a.createElement("div",{className:"Field"},i.a.createElement("label",null,n),i.a.createElement("div",null,i.a.createElement("input",Je()({},t,{placeholder:n,type:a})),o&&s&&i.a.createElement("div",{className:"error"},s))):i.a.createElement("input",Je()({},t,{placeholder:n,type:a}))},Il=function(e){var t=e.input,n=e.label,a=e.please,r=e.meta,o=r.touched,s=r.error;return i.a.createElement("div",{className:"Field"},i.a.createElement("label",null,n),i.a.createElement("select",t,i.a.createElement("option",{value:a},a),i.a.createElement(yl.a,{url:"nltools/private/v1/resources/datatypes",method:"get",accept:"application/json",verbose:!0},(function(e){var t=e.result;if(e.loading)return i.a.createElement("option",{value:""},"loading...");var n=t.body.sort();return i.a.createElement("optgroup",null,n.map((function(e){return i.a.createElement("option",{value:e,key:e},e)})))}))),o&&s&&i.a.createElement("div",{className:"error"},s))},Ol=function(e){at()(n,e);var t=bl(n);function n(e){var a;return Qe()(this,n),(a=t.call(this,e)).props=e,a}return $e()(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,n=t.handleSubmit,a=t.userFeatureConfiguration,r=t.error,o=this.props.state||{},s=(o&&o.values?o.values:{}).suggestIntent,c=sc;return i.a.createElement("form",{id:"CreateDatasetForm",className:"TaggerForm",onSubmit:n((function(){}))},i.a.createElement(El.a,{name:"name",component:Cl,type:"text",label:"Dataset Name*"}),i.a.createElement(El.a,{name:"description",component:Cl,type:"text",label:"Dataset Description"}),lc(c.datasetType,a)&&i.a.createElement(El.a,{name:"dataType",label:"Dataset Type*",component:Il,please:"Please select a type"}),i.a.createElement("div",{className:"Field TransformationOptions"},lc(c.suggestedIntent,a)&&i.a.createElement("div",null,i.a.createElement(eo.Checkbox,{checked:s,value:"Suggest-Intent",label:"Suggest Intent",onChange:function(){e.props.change("suggestIntent",!s)}}),this.props.suggestIntentDisabled?i.a.createElement("span",null,"(No models available)"):"")),i.a.createElement("div",{className:"Field"},r&&i.a.createElement("div",{className:"error"},r)))}}]),n}(o.Component),Rl=Object(vl.a)({form:"CreateDataset",validate:function(e,t){var n={},a=sc,r=e.name;return r?!si.checkField(r)&&r.length<=T.DATASET_NAME_SIZE_LIMIT&&""!==r?n.name=T.INVALID_ENTERED_NAME:r.length>=T.DATASET_NAME_SIZE_LIMIT&&(n.name=T.VALIDATION_NAME_SIZE_MSG):n.name=T.VALIDATION_NO_DATA_MSG,lc(a.datasetType,t.userFeatureConfiguration)&&(e.dataType&&e.dataType!==T.TYPE_MSG||(n.dataType=T.VALIDATION_MSG("type"))),n}})(Ol),kl=Object(l.connect)((function(e){return{state:e.form.CreateDataset,userFeatureConfiguration:e.app.userFeatureConfiguration,initialValues:{autoTag:!0,startTransform:!0,suggestIntent:!1}}}),(function(e){return{dispatch:e}}))(Rl),Dl=n(209);function _l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Al(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_l(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var Ll=Lr().DISPLAY_MESSAGES,jl=function(e){at()(n,e);var t=Nl(n);function n(e){var a;return Qe()(this,n),(a=t.call(this,e)).props=e,a.onClickCancel=a.onClickCancel.bind(tt()(a)),a.onColumnBindChange=a.onColumnBindChange.bind(tt()(a)),a.uploaderProps={},a}return $e()(n,[{key:"componentWillReceiveProps",value:function(e){this.props=e}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.state,n=e.dispatch;t.token;n({type:"CREATE_DATASET_DIALOG_RESET"})}},{key:"onClickCancel",value:function(){var e=this.props.dispatch;e(ar()),e(rr(null))}},{key:"setpUplaodContent",get:function(){var e=this.props,t=e.csrfToken,n=e.userName,a=e.clientId,r=e.dispatch,o=e.environment,s={postUrl:zn(xt,{clientId:a}),iconFiletypes:[".csv"],showFiletypeIcon:!0},c=Al(Al({},T.DROPZONEJS_COMMON_CONFIG),{},{timeout:T.DATASET_UPLOAD_TIMEOUT,dictDefaultMessage:T.UPLOAD_DEFAULT_MSG,params:{username:n},headers:{"X-CSRF-Token":t},accept:function(e,t){return e.fileId="",t()}}),l={success:function(e,t){r(ar());var n=t.token,a=t.columns,o=t.previewData;o&&o.length>10&&(o=o.slice(0,10)),e.token=n,r(il({token:n,columns:a,previewData:o}))},error:function(e,t){var n=t.code,a=t.message?t.message:t;400==n&&r(er(a)),r(er(401==n?Ll.sessionExpired:Ll.fileParseFail));for(var o=e.previewElement.querySelectorAll("[data-dz-errormessage]"),i=[],s=0,c=o.length;s<c;s++){var l=o[s];i.push(l.textContent=a)}return i},sending:function(){},removedfile:function(e){r(ar()),e.token&&r(cr({fileId:e.token}))}};return this.uploaderProps={multiple:!1,accept:"text/csv",customRequest:function(e){var t=e.file;r(function(e,t,n){return function(a,r){var o=zn(xt),i=new FormData;i.append("datatype",null),i.append("file",e);var s=new XMLHttpRequest;s.open("post",o,!0),s.onload=function(e){var a=s.response;200==s.status?t(a):n(a)},s.send(i)}}(t,(function(e){var n=JSON.parse(e);l.success(t,n)}),(function(e){r(er(Ll.fileImportFail))})))}},i.a.createElement("div",{id:"CreateDatasetUpload",className:"TaggerForm"},i.a.createElement("div",{className:"Field"},i.a.createElement("div",null,i.a.createElement("label",{htmlFor:"dataset-filepicker"},"Upload File*"),i.a.createElement("div",{className:"confidential-text"},"Do not upload any data that contains personally identifiable information")),i.a.createElement("div",{id:"dataset-filepicker"},i.a.createElement(Vc.a,{config:s,djsConfig:c,eventHandlers:l})),o===T.ENVIRONMENTS.DEV||o===T.ENVIRONMENTS.QA||o===T.ENVIRONMENTS.PSR?i.a.createElement("div",{className:"upload-configuration"},i.a.createElement(Dl.a,Je()({},this.uploaderProps,{component:"a"}),i.a.createElement("span",null," Upload"))):null))}},{key:"setpMappingContent",get:function(){var e=this.props,t=e.state,n=e.dispatch,a=t.previewData,r=t.columns,o=t.skipFirstRow,s=t.columnsBinding,c=t.isPreSelected,l=t.isMappingRequestLoading,d=t.isBindingValid,u=t.bindingArray,p=t.token,h=[],f=[],g=[];return r&&r.length&&r.forEach((function(e,t){var n=!1;e.required&&(n=!0,h.push(i.a.createElement("span",{className:"Required",key:t},e.displayName))),void 0!==s[e.name]?f.push(i.a.createElement("span",{className:"Selected".concat(n?" Required":""),key:t},e.displayName)):g.push(i.a.createElement("span",{className:"Skipped".concat(n?" Required":""),key:t},e.displayName))})),i.a.createElement(eo.Dialog,{isOpen:!0,okVisible:!0,okChildren:"NEXT",onClickOk:d&&!l?function(){n(dl({token:p,bindingArray:u,skipFirstRow:o}))}:null,closeIconVisible:!0,onClickClose:this.onClickCancel,cancelVisible:!0,onClickCancel:l?null:this.onClickCancel,cancelChildren:T.CANCEL,headerChildren:T.COLUMNS_MAPPER,centerContent:!1,styleOverride:{container:{width:"800px",height:"575px",display:"grid",gridTemplateRows:"60px auto 60px"},ok:{marginLeft:"10px",paddingLeft:"25px",paddingRight:"25px"},overlay:{zIndex:9e3},header:{width:"100%",height:"100%",borderBottom:"1px solid",borderBottomColor:"#DADADA",display:"flex",flexDirection:"column",justifyContent:"center",title:{marginLeft:"23px",marginRight:"20px",fontSize:"20px",fontWeight:"bold"},titleIcon:{marginRight:"20px"}}}},i.a.createElement(Jr.a,{id:"CreateDatasetMapping",className:"TaggerMapping",flex:!0,direction:"column"},i.a.createElement(Jr.a,null,"Please choose corresponding columns for the file uploaded.",c?i.a.createElement("div",{className:"notice"},"Notice: some columns were selected automatically based on first row data."):null),i.a.createElement(Jr.a,{className:"ContentRow BindingInfo",direction:"column"},i.a.createElement(Jr.a,{direction:"row"},i.a.createElement(Jr.a,{className:"InfoLabel"},"Required:"),i.a.createElement(Jr.a,{className:"InfoText".concat(h.length?"":" Empty"),flex:!0,direction:"row"},h.length?h.reduce((function(e,t){return[e,", ",t]})):i.a.createElement("span",null,"none"))),i.a.createElement(Jr.a,{direction:"row"},i.a.createElement(Jr.a,{className:"InfoLabel"},"Selected:"),i.a.createElement(Jr.a,{className:"InfoText".concat(f.length?"":" Empty"),flex:!0,direction:"row"},f.length?f.reduce((function(e,t){return[e,", ",t]})):i.a.createElement("span",null,"none"))),i.a.createElement(Jr.a,{direction:"row"},i.a.createElement(Jr.a,{className:"InfoLabel"},"Skipped:"),i.a.createElement(Jr.a,{className:"InfoText".concat(g.length?"":" Empty"),flex:!0,direction:"row"},g.length?g.reduce((function(e,t){return[e,", ",t]})):i.a.createElement("span",null,"none")))),i.a.createElement(zc,{data:a,columns:r,columnsBinding:s,onColumnBindChange:this.onColumnBindChange}),i.a.createElement(Jr.a,{className:"ContentRow SkipFirstRow"},i.a.createElement(eo.Checkbox,{checked:o,value:"skip-first-row",label:"Skip First Row",onChange:function(){n(ll({skipFirstRow:!o}))}}))))}},{key:"onColumnBindChange",value:function(e){var t=e.bindingArray,n=e.isBindingValid,a=e.columnsBinding,r=e.isPreSelected;(0,this.props.dispatch)(cl({bindingArray:t,isBindingValid:n,columnsBinding:a,isPreSelected:r}))}},{key:"setpConfirmContent",get:function(){var e=this.props.project,t=$i.ProjectsManager.getModelsByProjectId(e.id),n=P.a.isNil(t)||0===t.size;return i.a.createElement(Jr.a,{id:"CreateDatasetConfirm",direction:"column",flex:!0},i.a.createElement(kl,{suggestIntentDisabled:n}))}},{key:"content",get:function(){switch(this.props.state.step){case"mapping":return this.setpMappingContent;case"confirm":return this.setpConfirmContent;case"upload":default:return this.setpUplaodContent}}},{key:"actions",get:function(){var e=this,t=this.props,n=t.state,a=t.dispatch,r=t.userFeatureConfiguration,o=n.step,s=n.token,c=n.isCommitRequestLoading,l=n.fileId,d=sc;switch(o){case"upload":return[i.a.createElement(eo.Button,{name:"cancel",type:"flat",key:"Cancel",onClick:this.onClickCancel,"data-qa":"cancel",styleOverride:{":focus":{outline:"none"}}},"CANCEL"),i.a.createElement(eo.Button,{name:"next",key:"Next",onClick:s?function(){a(sl({step:"mapping"}))}:null,"data-qa":"next"},"NEXT")];case"confirm":var u=this.props,p=u.form,h=u.userId,f=u.csrfToken,g=p&&p.syncErrors?p.syncErrors:{};return[i.a.createElement(eo.Button,{name:"cancel",type:"flat",key:"Cancel",onClick:c?null:this.onClickCancel,styleOverride:{":focus":{outline:"none"}}},"CANCEL"),i.a.createElement(eo.Button,{name:"create",key:"Create",onClick:c||g&&Object.keys(g).length?null:function(){var t=e.props,n=t.project,o=t.clientId,i=e.props.form&&e.props.form.values?e.props.form.values:{},s=i.name,c=i.description,u=i.autoTag,p=i.startTransform,g=i.dataType,m=i.suggestIntent;lc(d.datasetType,r)||(g=T.DATASET_TYPE_DEFAULT),lc(d.suggestedIntent,r)||(m=T.SUGGESTED_INTENT_DEFAULT),a(ul({projectId:n.id,clientId:o,dataType:g,locale:n.locale,name:s,uri:"https://tagging.247-inc.com:8443/nltools/private/v1/files/".concat(l),description:c,autoTagDataset:u,mapToProjectId:n.id})).then((function(e){p&&setTimeout((function(){a(rl(h,e.id,o,n.id,f,!1,m))}),2e3),a(nr(Ll.datasetCreated(e.name))),a(rr(null))}))}},"CREATE")];default:return[i.a.createElement(eo.Button,{name:"cancel",type:"flat",key:"Cancel",onClick:this.onClickCancel,styleOverride:{":focus":{outline:"none"}}},"CANCEL"),i.a.createElement(eo.Button,{name:"next",key:"Next",onClick:null},"NEXT")]}}},{key:"header",get:function(){switch(this.props.state.step){case"confirm":return"Transformation options";case"upload":default:return"Upload Dataset"}}},{key:"render",value:function(){var e=this.props.state.step;return"mapping"===e?this.content:i.a.createElement(ro,{id:"CreateDatasetDialog",className:"CreateDatasetDialog ".concat(e),header:this.header,content:this.content,actions:this.actions})}}]),n}(o.Component);jl.propTypes={project:qr.a.object.isRequired};var Pl=Object(l.connect)((function(e){return{userId:e.app.userId,csrfToken:e.app.csrfToken,environment:e.app.environment,clientId:e.header.client.id,state:e.createDatasetDialog,userFeatureConfiguration:e.app.userFeatureConfiguration,form:e.form.CreateDataset}}),(function(e){return{dispatch:e}}))(jl),wl=n(630);function Ml(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var xl=function(e){at()(n,e);var t=Ml(n);function n(e){var a;return Qe()(this,n),(a=t.call(this,e)).state={hasError:!1,info:{componentStack:""}},a}return $e()(n,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0,error:e,info:t})}},{key:"render",value:function(){return this.state.hasError?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{style:{textAlign:"center",fontSize:"20px",marginTop:"30px",marginBottom:"30px"}},"An error has occurred."),i.a.createElement("div",{"data-error":this.state.info.componentStack,"data-error-message":this.state.error.message,"data-error-stack":this.state.error.stack})):this.props.children}}]),n}(o.Component),Bl=(n(243),n(213)),Ul=n.n(Bl),Gl=Lr().DISPLAY_MESSAGES,Fl=function(e,t,n,a,r,o,i,s){return{type:"RECEIVE_DATASET_VALIDATION_STATS",isDatasetsValid:t,isDatasetsTagged:n,datasetsIntents:a,isDatasetValid:r,isFullyTagged:o,uniqueRollupValue:i,datasetIntents:s,datasetId:e}},Vl=function(e){return{type:"DELETE_DATASET_VALIDATION_STATS",datasetId:e}},Hl=function(e){return{type:"RECEIVE_DATASET_VALIDATION_STATS",isDatasetsValid:!1,isDatasetsTagged:!1,isDatasetValid:!1,isFullyTagged:!1,uniqueRollupValue:null,datasetIntents:[],datasetsIntents:[],datasetId:e}},ql=function(e){var t=e.projectId,n=e.datasetId;return function(e,a){e({type:"REQUEST_DATASET_STATS"});var r=a().header.client.id,o=zn(qt,{clientId:r,projectId:t,datasetId:n});Za.get({url:o,onApiSuccess:function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,a){var r=t.isDatasetValid,o=t.isDatasetFullyTagged,i=t.uniqueRollupValue,s=t.datasetIntentsSet,c=a().tagDatasets.validDatasetsStats,l=c.isDatasetsValid,d=c.isDatasetsTagged,u=c.datasetsIntents,p=c.validDatasetMap,h=d&&o,f=l||r,g=[].concat(N()(u),N()(s)),m=null;f||p.forEach((function(e){f=f||null!==m&&e.uniqueRollupValue!==m,m=e.uniqueRollupValue})),f||n(tr(Gl.uniqueRollupCount)),n(Fl(e,f,h,g,r,o,i,s))}}(n,e)},onApiError:function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,a){var r=t.message;n(Hl(e)),n(tr(r))}}(n,e)},dispatch:e,getState:a})}},Wl=function(e){var t=e.projectId,n=e.filter;return function(e,a){e({type:"REQUEST_DATASET_STATS"});var r=a(),o=r.app.csrfToken,i=r.header.client.id,s=zn(Ht,{projectId:t,clientId:i});return pt()(s,{credentials:"same-origin",method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":o},body:JSON.stringify({filter:n})}).then(Pr.handleErrors).then((function(e){return e.json()})).then((function(t){return e({type:"RECEIVE_DATASET_STATS_SUCCESS",statsResults:t})})).catch((function(t){return Pr.dispatchError(t,e,er)}))}};function Kl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function zl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kl(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Yl=[{id:2146,uniqueTextString:"reservation",suggestedTag:"reservation",manualTag:""},{id:1332,uniqueTextString:"make a reservation",suggestedTag:"make reservation",manualTag:""},{id:1197,uniqueTextString:"reservations",suggestedTag:"reservation",manualTag:""},{id:1010,uniqueTextString:"[noise]",suggestedTag:"none",manualTag:""},{id:782,uniqueTextString:"[side_speech]",suggestedTag:"none",manualTag:""},{id:758,uniqueTextString:"customer service",suggestedTag:"agent",manualTag:""},{id:681,uniqueTextString:"id like to make a reservation",suggestedTag:"make reservation",manualTag:""},{id:454,uniqueTextString:"()",suggestedTag:"none",manualTag:""},{id:430,uniqueTextString:"representative",suggestedTag:"agent",manualTag:""},{id:308,uniqueTextString:"reservation [noise]",suggestedTag:"reservation",manualTag:""},{id:272,uniqueTextString:"i need to make changes to my reservation",suggestedTag:"change reservation",manualTag:""},{id:265,uniqueTextString:"make reservation",suggestedTag:"make reservation",manualTag:""},{id:242,uniqueTextString:"cancel reservation",suggestedTag:"cancel reservation",manualTag:""},{id:199,uniqueTextString:"operator",suggestedTag:"agent",manualTag:""},{id:165,uniqueTextString:"make a reservation [noise]",suggestedTag:"make reservation",manualTag:""},{id:154,uniqueTextString:"i need to make a reservation",suggestedTag:"make reservation",manualTag:""},{id:140,uniqueTextString:"points",suggestedTag:"points",manualTag:""},{id:137,uniqueTextString:"reservations [noise]",suggestedTag:"reservation",manualTag:""},{id:133,uniqueTextString:"[side_speech] [noise]",suggestedTag:"none",manualTag:""},{id:131,uniqueTextString:"points balance",suggestedTag:"points balance",manualTag:""},{id:128,uniqueTextString:"cancel a reservation",suggestedTag:"cancel reservation",manualTag:""},{id:124,uniqueTextString:"make reservations",suggestedTag:"make reservation",manualTag:""},{id:123,uniqueTextString:"customer service [noise]",suggestedTag:"agent",manualTag:""},{id:121,uniqueTextString:"like to make a reservation",suggestedTag:"make reservation",manualTag:""},{id:114,uniqueTextString:"change reservation",suggestedTag:"change reservation",manualTag:""},{id:110,uniqueTextString:"agent",suggestedTag:"agent",manualTag:""},{id:96,uniqueTextString:"[echo_prompt]",suggestedTag:"none",manualTag:""},{id:90,uniqueTextString:"changes to reservation",suggestedTag:"change reservation",manualTag:""},{id:86,uniqueTextString:"changes to my reservation",suggestedTag:"change reservation",manualTag:""},{id:86,uniqueTextString:"i would like to make a reservation",suggestedTag:"make reservation",manualTag:""},{id:83,uniqueTextString:"complaint",suggestedTag:"complaint",manualTag:""},{id:79,uniqueTextString:"speak to a representative",suggestedTag:"contact agent",manualTag:""},{id:78,uniqueTextString:"book a room",suggestedTag:"book room",manualTag:""},{id:77,uniqueTextString:"[noise] [side_speech]",suggestedTag:"none",manualTag:""},{id:75,uniqueTextString:"make a payment",suggestedTag:"make payment",manualTag:""},{id:73,uniqueTextString:"new reservation",suggestedTag:"reservation",manualTag:""},{id:71,uniqueTextString:"i need to extend my stay",suggestedTag:"extend stay",manualTag:""},{id:71,uniqueTextString:"what's my choice privileges points balance",suggestedTag:"choice privilege point balance",manualTag:""},{id:69,uniqueTextString:"reservation [side_speech]",suggestedTag:"reservation",manualTag:""},{id:66,uniqueTextString:"[other_language]",suggestedTag:"none",manualTag:""},{id:66,uniqueTextString:"i need to cancel a reservation",suggestedTag:"cancel reservation",manualTag:""},{id:65,uniqueTextString:"id like to make a reservation [noise]",suggestedTag:"make reservation",manualTag:""},{id:63,uniqueTextString:"how do i get points for my stay",suggestedTag:"points stay",manualTag:""},{id:62,uniqueTextString:"change a reservation",suggestedTag:"change reservation",manualTag:""},{id:62,uniqueTextString:"hello",suggestedTag:"hello",manualTag:""},{id:58,uniqueTextString:"payment",suggestedTag:"payment",manualTag:""},{id:56,uniqueTextString:"a reservation",suggestedTag:"reservation",manualTag:""},{id:55,uniqueTextString:"() [noise]",suggestedTag:"none",manualTag:""},{id:53,uniqueTextString:"cancellation",suggestedTag:"cancel",manualTag:""},{id:53,uniqueTextString:"make changes to my reservation",suggestedTag:"change reservation",manualTag:""},{id:53,uniqueTextString:"missing points",suggestedTag:"missed points",manualTag:""},{id:53,uniqueTextString:"representative [noise]",suggestedTag:"agent",manualTag:""},{id:53,uniqueTextString:"uh reservation",suggestedTag:"reservation",manualTag:""},{id:52,uniqueTextString:"choice privileges",suggestedTag:"choice privilege",manualTag:""},{id:50,uniqueTextString:"[noise] reservation",suggestedTag:"reservation",manualTag:""},{id:48,uniqueTextString:"need to make a reservation",suggestedTag:"make reservation",manualTag:""},{id:47,uniqueTextString:"redeem points",suggestedTag:"redeem points",manualTag:""},{id:47,uniqueTextString:"uh reservations",suggestedTag:"reservation",manualTag:""},{id:47,uniqueTextString:"um",suggestedTag:"none",manualTag:""},{id:46,uniqueTextString:"test",suggestedTag:"test",manualTag:""},{id:45,uniqueTextString:"make a reservation [side_speech]",suggestedTag:"make reservation",manualTag:""},{id:45,uniqueTextString:"reservations [side_speech]",suggestedTag:"reservation",manualTag:""},{id:41,uniqueTextString:"feedback on a hotel",suggestedTag:"feedback hotel",manualTag:""},{id:41,uniqueTextString:"point balance",suggestedTag:"points balance",manualTag:""},{id:41,uniqueTextString:"uh",suggestedTag:"none",manualTag:""},{id:40,uniqueTextString:"billing",suggestedTag:"bill",manualTag:""},{id:40,uniqueTextString:"check my points",suggestedTag:"check points",manualTag:""},{id:40,uniqueTextString:"reservations please",suggestedTag:"reservation",manualTag:""},{id:38,uniqueTextString:"change my reservation",suggestedTag:"change reservation",manualTag:""},{id:38,uniqueTextString:"to make a reservation",suggestedTag:"make reservation",manualTag:""},{id:37,uniqueTextString:"book a reservation",suggestedTag:"book reservation",manualTag:""},{id:37,uniqueTextString:"extend my stay",suggestedTag:"extend stay",manualTag:""},{id:35,uniqueTextString:"[noise] reservation [noise]",suggestedTag:"reservation",manualTag:""},{id:35,uniqueTextString:"make reservation [noise]",suggestedTag:"make reservation",manualTag:""},{id:33,uniqueTextString:"points for my stay",suggestedTag:"points stay",manualTag:""},{id:31,uniqueTextString:"() ()",suggestedTag:"none",manualTag:""},{id:29,uniqueTextString:"customer support",suggestedTag:"customer support",manualTag:""},{id:29,uniqueTextString:"i need to make changes to my reservation [noise]",suggestedTag:"change reservation",manualTag:""},{id:28,uniqueTextString:"id like to make a reservation [side_speech]",suggestedTag:"make reservation",manualTag:""},{id:27,uniqueTextString:"[noise] make a reservation",suggestedTag:"make reservation",manualTag:""}],Jl=function(e,t){return{type:"DATASET_CHANGE_LIMIT",newLimit:e,pageSearch:t}},Xl=function(e){return{type:"UPDATE_FILTERS",filter:e}},Ql=function(e){return{type:"UPDATE_QUERY",query:e}},Zl=function(e,t,n,a){return{type:"RECEIVE_DATASET_SEARCH_SUCCESS",searchResults:e,limit:t,startIndex:n,total:a}},$l=function(e,t){return function(n){n(function(e,t){return{type:"REQUEST_DATASET_SEARCH",query:e,filter:t,sort:{columns:ie,sortKey:"count",direction:"desc",sortDirection:"desc"}}}(e,t)),setTimeout((function(){var e=j.map(Yl,(function(e,t){return{id:t,count:t,uniqueTextString:e.uniqueTextString,suggestedTag:e.suggestedTag,manualTag:"",comment:"",fullResult:e}}));n(Zl(e))}),200)}},ed=function(e){var t=e.query,n=e.filter,a=e.projectId,r=e.startIndex,o=e.limit,i=e.sort;return function(e,s){return new Promise((function(s,c){e(function(e,t,n){return{type:"REQUEST_DATASET_SEARCH",query:e,filter:t,sort:n}}(t,n,i));var l=ze.getState(),d=l.app,u=(d.userId,d.csrfToken),p=l.header.client.id,h={credentials:"same-origin",method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":u},body:JSON.stringify({query:t,filter:n})},f=zn(Vt,{projectId:a,startIndex:r,limit:o,sortKey:i.sortKey,sortDirection:i.direction,clientId:p});return pt()(f,h).then(Pr.handleErrors).then((function(e){return e.json()})).then((function(t){var n=t.transcriptionList?t.transcriptionList:[],a=[];n.length>0&&(a=j.map(n,(function(e,t){return{id:t,count:e.documentCount,uniqueTextString:e.textStringForTagging,suggestedTag:e.autoTagString,manualTag:e.intent?e.intent:"",comment:e.comment?e.comment:"",fullResult:zl(zl({},e),{},{intent:e.intent?e.intent:""}),datasetIds:(n=e.datasetIds,a=[],n.forEach((function(e){a.push("".concat(e))})),a),index:t,transcriptionHash:e.transcriptionHash,rutag:e.rutag?e.rutag:""};var n,a}))),e(Zl(a,t.limit,t.startIndex,t.total)),s()})).catch((function(t){Pr.dispatchError(t,e,er),e(function(e){return{type:"RECEIVE_DATASET_SEARCH_FAIL",error:e}}(t)),c(t)}))}))}};var td,nd=Lr().DISPLAY_MESSAGES,ad=function(e){return{type:"COLUMN_SORT_CHANGE",sort:e}},rd=function(e){return{type:"TABLE_SEARCH_RESULTS_UPDATE",searchResults:e}},od=function(e){return{type:"RECEIVE_TAG_SUGGEST_SUCCESS",suggestTagResult:e}},id=function(e){return{type:"RECEIVE_TAG_MANUAL_FAIL",manualTagResult:e,suggestTagResult:{status:e.status,suggestedTags:[]}}},sd=function(e){return{type:"RECEIVE_BULK_TAG_MANUAL_SUCCESS",manualBulkTagResult:e,suggestTagResult:2!==e.status?{status:5,suggestedTags:[]}:{status:2,suggestedTags:[]}}},cd=function(e){return{type:"RECEIVE_BULK_TAG_MANUAL_FAIL",manualBulkTagResult:e,suggestTagResult:{status:e.status,suggestedTags:[]}}},ld=function(e){return{type:"RECEIVE_BULK_TAG_MANUAL_UPDATE_SUCCESS",manualBulkTagResult:e,suggestTagResult:2!==e.status?{status:5,suggestedTags:[]}:{status:2,suggestedTags:[]}}},dd=function(e){return{type:"RECEIVE_BULK_TAG_MANUAL_UPDATE_FAIL",manualBulkTagResult:e,suggestTagResult:{status:e.status,suggestedTags:[]}}},ud=function(e){var t=e.projectId,n=e.hashList,a=e.intent,r=e.isUpdate;return function(e,o){return new Promise((function(i,s){var c;e({type:"SET_TAG_REQUEST",projectId:(c={projectId:t,hashList:n,intent:a,isUpdate:r}).projectId,hashList:c.hashList,intent:c.intent,isUpdate:c.isUpdate});var l=o(),d=l.app,u=(d.userId,d.csrfToken),p=d.userName,h=l.header.client.id,f=zn(Wt,{projectId:t,clientId:h});r&&(f=zn(Kt,{projectId:t,clientId:h})),pt()(f,{credentials:"same-origin",method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":u},body:JSON.stringify({intent:a,username:p,transcriptionHashList:n})}).then(Pr.handleErrors).then((function(){var o;e({type:"SET_TAG_SUCCESS",projectId:(o={projectId:t,hashList:n,intent:a,isUpdate:r}).projectId,hashList:o.hashList,intent:o.intent,isUpdate:o.isUpdate}),i()})).catch((function(o){var i;e({type:"SET_TAG_ERROR",projectId:(i={projectId:t,hashList:n,intent:a,isUpdate:r,error:o}).projectId,hashList:i.hashList,intent:i.intent,isUpdate:i.isUpdate,error:i.error}),Pr.dispatchError(o,e,er),s(o)}))}))}},pd=function(e){var t=e.projectId,n=e.hashList;return function(e,a){return new Promise((function(r,o){var i;e({type:"REMOVE_TAG_REQUEST",projectId:(i={projectId:t,hashList:n}).projectId,hashList:i.hashList});var s=a(),c=s.app,l=(c.userId,c.csrfToken),d=s.header.username,u=s.header.client.id,p=zn(zt,{projectId:t,clientId:u});pt()(p,{credentials:"same-origin",method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":l},body:JSON.stringify({username:d,transcriptionHashList:n})}).then(Pr.handleErrors).then((function(){var a;e({type:"REMOVE_TAG_SUCCESS",projectId:(a={projectId:t,hashList:n}).projectId,hashList:a.hashList}),r()})).catch((function(a){var r;e({type:"REMOVE_TAG_ERROR",projectId:(r={projectId:t,hashList:n,error:a}).projectId,hashList:r.hashList,error:r.error}),o(a)}))}))}},hd=function(e){var t=e.projectId,n=e.hashList,a=e.comment;return function(e,r){return new Promise((function(o,i){var s;e({type:"SET_COMMENT_REQUEST",projectId:(s={projectId:t,hashList:n,comment:a}).projectId,hashList:s.hashList,comment:s.comment});var c=r(),l=c.app,d=(l.userId,l.csrfToken),u=c.header.client.id,p=c.header.username,h=zn(Yt,{projectId:t,clientId:u});pt()(h,{credentials:"same-origin",method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":d},body:JSON.stringify({comment:a,username:p,transcriptionHashList:n})}).then(Pr.handleErrors).then((function(){var r;e({type:"SET_COMMENT_SUCCESS",projectId:(r={projectId:t,hashList:n,comment:a}).projectId,hashList:r.hashList,comment:r.comment}),o()})).catch((function(r){var o;e({type:"SET_COMMENT_ERROR",projectId:(o={projectId:t,hashList:n,comment:a,error:r}).projectId,hashList:o.hashList,comment:o.comment,error:o.error}),i(r)}))}))}},fd=function(e){return function(t){t(id({status:2,suggestedTags:[]})),t(er(nd.invalidIntent(e)))}},gd=function(e){return{type:"TAG_DATASETS_SET_PROJECT_ID",projectId:e}},md=function(e){return{type:"TAG_DATASETS_SET_PROJECT",projectId:e.projectId,project:e.project}},Sd=function(e){return{type:"TAG_DATASETS_SET_DATASETS",projectId:e.projectId,datasets:e.datasets}},Ed=function(e){return{type:"TAG_DATASETS_SET_DATASETS_FILTER",datasets:e.datasets}},vd=function(e){return{type:"TAG_DATASETS_SET_INCOMING_FILTER",projectId:e.projectId,datasets:e.datasets}},Td=function(e){return{type:"TAG_DATASETS_SET_CONTROLS_COLLAPSE",isCollapsed:e.isCollapsed}},yd=function(e){return{type:"CELL_EDITABLE_STATE_CREATE",stateKey:e.stateKey}},bd=function(e){return{type:"CELL_EDITABLE_STATE_REMOVE",stateKey:e.stateKey}},Cd=function(e){return{type:"CELL_EDITABLE_SET_ACTIVE_CELL",stateKey:e.stateKey,activeRowIndex:e.activeRowIndex,activeColumnIndex:e.activeColumnIndex}},Id=function(e){return{type:"CELL_EDITABLE_UPDATE_VALUE",stateKey:e.stateKey,value:e.value}},Od=function(e){return{type:"CELL_EDITABLE_MANUAL_TAG_SUGGEST_STATE_CREATE",stateKey:e.stateKey}},Rd=function(e){return{type:"CELL_EDITABLE_MANUAL_TAG_SUGGEST_STATE_REMOVE",stateKey:e.stateKey}},kd=n(442),Dd=n.n(kd),_d=n(712),Ad=n.n(_d);function Nd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var Ld=function(e){at()(n,e);var t=Nd(n);function n(e){var a;return Qe()(this,n),(a=t.call(this,e)).props=e,a.state={focus:!1,value:""},a.input=null,a.onFocus=a.onFocus.bind(tt()(a)),a.onBlur=a.onBlur.bind(tt()(a)),a.onChange=a.onChange.bind(tt()(a)),a.onClickClear=a.onClickClear.bind(tt()(a)),a.onClickSearch=a.onClickSearch.bind(tt()(a)),a.onKeyPress=a.onKeyPress.bind(tt()(a)),a}return $e()(n,[{key:"onFocus",value:function(){this.setState({focus:!0})}},{key:"onBlur",value:function(){this.setState({focus:!1})}},{key:"onChange",value:function(){this.setState({value:this.input.value});var e=this.props.onChange;"function"==typeof e&&e(this.input.value)}},{key:"onClickClear",value:function(){var e=this;this.setState({value:""}),setTimeout((function(){e.input.focus()}),100);var t=this.props.onChange;"function"==typeof t&&t("")}},{key:"onClickSearch",value:function(){var e=this.props.onSearch;"function"==typeof e&&e(this.input.value)}},{key:"onKeyPress",value:function(e){var t=this.props.onSearch;"function"==typeof t&&"Enter"==e.key&&t(this.input.value)}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,a=t.className,r=t.placeholder,o=t.disabled,s=this.state,c=s.focus,l=s.value;return i.a.createElement(Jr.a,{id:n,className:"TaggerControl TaggerSearchInput".concat(c?" focus":"").concat(o?" disabled":"").concat(a?" ".concat(a):""),direction:"row"},i.a.createElement(Jr.a,{className:"InputContainer",flex:!0},i.a.createElement("input",{ref:function(t){e.input=t},type:"text",value:l,disabled:o,placeholder:r,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,onKeyPress:this.onKeyPress})),i.a.createElement(Jr.a,{className:"FormCloseIconContainer",onClick:this.onClickClear},i.a.createElement(Ad.a,null)),i.a.createElement(Jr.a,{className:"SearchIconContainer",onClick:this.onClickSearch},i.a.createElement(Dd.a,null)))}}]),n}(o.Component);function jd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}Ld.propTypes={id:qr.a.string,className:qr.a.string,placeholder:qr.a.string,disabled:qr.a.bool,onChange:qr.a.func,onSearch:qr.a.func};var Pd=Lr(),wd=function(e){at()(n,e);var t=jd(n);function n(e){var a;return Qe()(this,n),(a=t.call(this,e)).props=e,a.appState=a.props.app,a.handleSuggestClick=a.handleSuggestClick.bind(tt()(a)),a.handleKeyPress=a.handleKeyPress.bind(tt()(a)),a.handleSuggestHover=a.handleSuggestHover.bind(tt()(a)),a.handleMoveUp=a.handleMoveUp.bind(tt()(a)),a.handleMoveDown=a.handleMoveDown.bind(tt()(a)),a.suggest=null,a.keyboardSelectedIndex=-1,a.state={currentSuggestedTag:""},a}return $e()(n,[{key:"componentWillReceiveProps",value:function(e){this.props=e}},{key:"componentDidUpdate",value:function(){null!==this.props.tagDatasets.cursor&&("up"===this.props.tagDatasets.cursor.direction?this.handleMoveUp():this.handleMoveDown())}},{key:"componentWillMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"handleSuggestClick",value:function(e){e.preventDefault();var t=e.target.getAttribute("data-label");this.props.selectedSuggestTag(t)}},{key:"handleSuggestHover",value:function(e){var t=e.target.getAttribute("data-label");this.props.updateCellWithSuggestTag(t)}},{key:"handleKeyPress",value:function(e){var t=this.keyboardSelectedIndex;"Up"===e.key&&++t>=this.props.tagDatasets.suggestTagResult.suggestedTags.length&&(t=this.props.tagDatasets.suggestTagResult.suggestedTags.length-1),"Down"===e.key&&--t<=0&&(t=0),this.keyboardSelectedIndex=t}},{key:"handleMoveDown",value:function(){if(!(0===this.props.tagDatasets.suggestTagResult.suggestedTags.length&&this.props.tagDatasets.suggestTagResult.status<=3)&&(this.keyboardSelectedIndex++,this.keyboardSelectedIndex>=this.props.tagDatasets.suggestTagResult.suggestedTags.length&&(this.keyboardSelectedIndex=0),this.props.tagDatasets.suggestTagResult.suggestedTags&&this.props.tagDatasets.suggestTagResult.suggestedTags.length&&void 0!==this.props.tagDatasets.suggestTagResult.suggestedTags[this.keyboardSelectedIndex]&&void 0!==this.props.tagDatasets.suggestTagResult.suggestedTags[this.keyboardSelectedIndex].label)){var e=this.props.tagDatasets.suggestTagResult.suggestedTags[this.keyboardSelectedIndex].label;this.props.updateCellWithSuggestTag(e),this.setState({currentSuggestedTag:e}),this.scrollToSuggestedTopic()}}},{key:"handleMoveUp",value:function(){if(!(0===this.props.tagDatasets.suggestTagResult.suggestedTags.length&&this.props.tagDatasets.suggestTagResult.status<=3)&&(this.keyboardSelectedIndex--,this.keyboardSelectedIndex<0&&(this.keyboardSelectedIndex=this.props.tagDatasets.suggestTagResult.suggestedTags.length-1),this.keyboardSelectedIndex>=this.props.tagDatasets.suggestTagResult.suggestedTags.length&&(this.keyboardSelectedIndex=0),this.props.tagDatasets.suggestTagResult.suggestedTags&&this.props.tagDatasets.suggestTagResult.suggestedTags.length&&void 0!==this.props.tagDatasets.suggestTagResult.suggestedTags[this.keyboardSelectedIndex]&&void 0!==this.props.tagDatasets.suggestTagResult.suggestedTags[this.keyboardSelectedIndex].label)){var e=this.props.tagDatasets.suggestTagResult.suggestedTags[this.keyboardSelectedIndex].label;this.props.updateCellWithSuggestTag(e),this.setState({currentSuggestedTag:e}),this.scrollToSuggestedTopic()}}},{key:"scrollToSuggestedTopic",value:function(){var e=document.getElementsByClassName("cellSuggestContainer")[0],t=document.getElementsByClassName("cellSuggest")[this.keyboardSelectedIndex];e.scrollTop=t.offsetTop}},{key:"render",value:function(){var e=this,t={display:"block",position:"absolute",zIndex:100,width:(null!==this.props.tagDatasets.activeCell?this.props.tagDatasets.activeCell.getBoundingClientRect():{width:300}).width},n=this.props.tagDatasets.suggestTagResult.status,a=null,r="cellSuggest normal";switch(n){case 1:a=[{label:Pd.LABEL_TAG_NO_MATCHING},{label:Pd.LABEL_TAG_NEW}],r="cellSuggest warning requiresNoEvents";break;case 2:a=[{label:Pd.LABEL_TAG_NO_MATCHING},{label:Pd.LABEL_TAG_ERROR_CREATE}],r="cellSuggest error requiresNoEvents";break;case 3:a=this.props.tagDatasets.suggestTagResult.suggestedTags,r="cellSuggest normal active requiresEvents";break;case 4:a=[{label:Pd.LABEL_TAG_NO_DISPLAY}],r="cellSuggest normal requiresNoEvents";break;case 5:default:a=[],r="cellSuggest normal requiresNoEvents"}var o=[];return a.forEach((function(t,a){e.props.suggestedIntents&&e.props.suggestedIntents.length&&-1!=e.props.suggestedIntents.indexOf(t.label)?o.unshift(i.a.createElement("div",{key:String("cell".concat(a)),tabIndex:"-1",className:"".concat(3===n&&e.keyboardSelectedIndex===a?"cellSuggest normal activeKeyboardSelected requiresEvents":r," suggested"),"data-label":t.label,onMouseOver:e.handleSuggestHover,onClick:e.handleSuggestClick},t.label)):o.push(i.a.createElement("div",{key:String("cell".concat(a)),tabIndex:"-1",className:3===n&&e.keyboardSelectedIndex===a?"cellSuggest normal activeKeyboardSelected requiresEvents":r,"data-label":t.label,onMouseOver:e.handleSuggestHover,onClick:e.handleSuggestClick},t.label))})),i.a.createElement("div",{ref:function(t){e.suggest=t},tabIndex:"0",className:3===n?"cellSuggestContainer requiresEvents":"cellSuggestContainer requiresNoEvents",style:t,onKeyPress:this.handleKeyPress,onMouseDown:function(e){e.preventDefault()}},o)}}]),n}(o.Component);var Md=Object(l.connect)((function(e){return{app:e.app,header:e.header,tagDatasets:e.tagDatasets}}),(function(e){return{selectedSuggestTag:function(t){e(function(e){return{type:"SELECTED_TAG_SUGGEST",selectedSuggestTag:e}}(t))},updateCellWithSuggestTag:function(t){e({type:"UPDATE_WITH_TAG_SUGGEST",updatedSuggestTag:t})},dispatch:e}}))(wd);function xd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var Bd=function(e){at()(n,e);var t=xd(n);function n(e){var a;Qe()(this,n),(a=t.call(this,e)).props=e,a.handleChange=a.handleChange.bind(tt()(a)),a.handleBlur=a.handleBlur.bind(tt()(a)),a.handleKeyDown=a.handleKeyDown.bind(tt()(a)),a.handleClick=a.handleClick.bind(tt()(a)),a.handleCancelClick=a.handleCancelClick.bind(tt()(a)),a.inputClassName="bulklTxtInput",a.inputRef=null,a.cellRef=null;var r=e.cellData.row.manualTag;return a.state={intent:r,activity:"CELL_ACTIVITY_NONE",type:"CELL_TYPE_MANUAL_BULK",firstFocus:!0,intentStatus:"CELL_INTENT_STATUS_NONE"},a}return $e()(n,[{key:"componentWillReceiveProps",value:function(e){this.props=e;var t={};"CELL_TYPE_MANUAL_BULK"===this.state.type&&"CELL_ACTIVITY_NONE"===this.state.activity&&(t.intent=this.props.cellData.row.manualTag);var n=this.props.tagDatasets.bulkTagMode;if("CELL_ACTIVITY_NONE"!==this.state.activity&&(""!==this.props.tagDatasets.selectedSuggestTag||""!==this.props.tagDatasets.updatedSuggestTag)&&n&&"CELL_TYPE_MANUAL_BULK"===this.state.type){var a=!(""===this.props.tagDatasets.selectedSuggestTag||""!==this.props.tagDatasets.updatedSuggestTag);a&&n&&(t.activity="CELL_ACTIVITY_SUGGESTED_TAG_SELECTED",t.intent=this.props.tagDatasets.selectedSuggestTag),!a&&n&&(t.activity="CELL_ACTIVITY_SUGGESTED_TAG_UPDATED",t.intent=this.props.tagDatasets.updatedSuggestTag)}this.setState(t)}},{key:"componentDidMount",value:function(){var e=this;this.state.firstFocus&&setTimeout((function(){e.inputRef.focus(),e.setState({firstFocus:!1}),e.props.updateActiveBulkCell(e.cellRef)}),500)}},{key:"componentDidUpdate",value:function(){var e=this;"CELL_TYPE_MANUAL_BULK"===this.state.type&&"CELL_ACTIVITY_SUGGESTED_TAG_SELECTED"===this.state.activity&&setTimeout((function(){e.setState({activity:"CELL_ACTIVITY_NONE"})}),500)}},{key:"handleClick",value:function(){this.props.updateActiveBulkCell(this.cellRef),this.setState({activity:"CELL_ACTIVITY_FOCUSSED"})}},{key:"handleCancelClick",value:function(e){e.preventDefault(),this.cancelBulkTag()}},{key:"handleBlur",value:function(e){e.preventDefault()}},{key:"handleChange",value:function(e){var t=e.target.value;this.setState({intent:t}),this.getSuggestedTagsAndUpdate(t)}},{key:"getSuggestedTagsAndUpdate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e.length>=1&&(this.props.fetchSuggestTag({projectId:this.props.projectId||this.props.tagDatasets.projectId,intent:e}),this.props.updateUserEnteredBulkTag(e))}},{key:"handleKeyDown",value:function(e){var t="";if("Enter"===e.key){if(si.validateTopicGoal(this.state.intent))return this.props.propagateInvalidIntentMessage(this.state.intent),!1;this.props.selectedBulkTag(this.state.intent)}else 8===e.keyCode?(t="CELL_ACTIVITY_BACKSPACING_INTENT",""===this.props.tagDatasets.selectedSuggestBulkTag&&""===this.props.tagDatasets.updatedSuggestBulkTag||this.props.forgetSelectedSuggestedBulkTag(),this.getSuggestedTagsAndUpdate(),""===this.state.intent&&this.props.updateDeletedBulkTagIntent()):27===e.keyCode?this.cancelBulkTag():40===e.keyCode?this.props.fireCursorDown():38===e.keyCode?this.props.fireCursorUp():t="CELL_ACTIVITY_TYPING_INTENT";t&&this.setState({activity:t})}},{key:"cancelBulkTag",value:function(){""===this.props.tagDatasets.selectedSuggestBulkTag&&""===this.props.tagDatasets.updatedSuggestBulkTag||this.props.forgetSelectedSuggestedBulkTag(),this.props.removeTagSuggest(),this.props.hideBulkTagCell()}},{key:"sendManualTag",value:function(){switch("CELL_ACTIVITY_TYPING_INTENT"!==this.state.activity&&"CELL_ACTIVITY_BACKSPACING_INTENT"!==this.state.activity||this.props.updateUserEnteredTag(this.state.intent),this.state.activity){case"CELL_ACTIVITY_SUGGESTED_TAG_SELECTED":case"CELL_ACTIVITY_SUGGESTED_TAG_UPDATED":case"CELL_ACTIVITY_FOCUSSED":case"CELL_ACTIVITY_TYPING_INTENT":return""!==this.state.intent?this.saveManualTag(this.state.intent):null;case"CELL_ACTIVITY_BACKSPACING_INTENT":return""===this.state.intent?this.saveManualUntag():null;default:return null}}},{key:"saveManualTag",value:function(e){return si.validateTopicGoal(e)?(this.props.propagateInvalidIntentMessage(e),!1):"CELL_INTENT_STATUS_ADDED"!==this.state.intentStatus&&void 0}},{key:"render",value:function(){var e=this;switch(this.state.intentStatus){case"CELL_INTENT_STATUS_ADDED":this.inputClassName="".concat(this.inputClassName," manualTagStatusAdded");break;case"CELL_INTENT_STATUS_REMOVED":this.inputClassName="".concat(this.inputClassName," manualTagStatusRemoved");break;case"CELL_INTENT_STATUS_NONE":default:this.inputClassName="".concat(this.inputClassName," manualTagStatusNone")}"CELL_ACTIVITY_SUGGESTED_TAG_SELECTED"===this.state.activity&&(this.inputClassName="".concat(this.inputClassName," manualTagSuggestTagAdded")),this.props.tagDatasets.bulkTagReceived&&"".concat(this.inputClassName," manualBulkTagStatus");var t,n,a,r,o,s;return i.a.createElement("div",{className:"bulkTagLabelCellContainer"},i.a.createElement("span",{className:"manualTagCell",ref:function(t){e.cellRef=t}},i.a.createElement("input",{type:"text",ref:function(t){e.inputRef=t},className:this.inputClassName||"",onChange:this.handleChange,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur,onClick:this.handleClick,value:this.state.intent||""}),(t=e.props.tagDatasets,n=t.suggestTagResult,a=void 0===n?{}:n,r=t.userEnteredBulkTag,o=void 0===r?"":r,s=t.bulkTagMode,5!==a.status&&4!==a.status&&o.length>0&&s?i.a.createElement("div",{className:"bulkTagSuggestContainer"},i.a.createElement(Md,{suggestedIntents:e.props.suggestedIntents})):null)),i.a.createElement(eo.Button,{name:"cancel-cell",onClick:this.handleCancelClick,styleOverride:{height:"35px"}},"CANCEL"))}}]),n}(o.Component),Ud=Object(l.connect)((function(e){return{app:e.app,tagDatasets:e.tagDatasets,header:e.header}}),(function(e){return{fireCursorUp:function(){e({type:"CURSOR_UP"})},fireCursorDown:function(){e({type:"CURSOR_DOWN"})},updateDeletedBulkTagIntent:function(){e({type:"BULK_TAG_INTENT_DELETED"})},selectedBulkTag:function(t){e(function(e){return{type:"SELECTED_BULK_TAG",bulkTagIntent:e}}(t))},updateUserEnteredBulkTag:function(t){e(function(e){return{type:"UPDATE_BULK_TAG_USER_ENTERED",userEnteredBulkTag:e}}(t))},updateActiveBulkCell:function(t){e(function(e){return{type:"UPDATE_BULK_CELL_ACTIVE",activeCell:e}}(t))},fetchSuggestTag:function(t){var n=t.projectId,a=t.intent;e(function(e){var t=e.projectId,n=e.intent;return function(e,a){e({type:"REQUEST_TAG_SUGGEST"});var r=a(),o=r.app,i=(o.userId,o.csrfToken),s=r.header.client.id,c=zn(Pt,{projectId:t,intent:n,clientId:s});return pt()(c,{credentials:"same-origin",headers:{"X-CSRF-TOKEN":i}}).then(Pr.handleErrors).then((function(e){return e.json()})).then((function(t){if(t.length>0){var a=j.map(t,(function(e){return{label:e}}));e(od({status:3,suggestedTags:a}))}else{var r=si.validateTopicGoal(n);e(od(r?{status:2,suggestedTags:[]}:{status:1,suggestedTags:[]}))}})).catch((function(t){return Pr.dispatchError(t,e,er)}))}}({projectId:n,intent:a}))},removeTagSuggest:function(){e({type:"REMOVE_TAG_SUGGEST",suggestTagResult:{status:4,suggestedTags:[]}})},updateIntent:function(t){e(function(e){return{type:"UPDATE_INTENT",intent:e}}(t))},propagateInvalidIntentMessage:function(t){e(fd(t))},forgetSelectedSuggestedBulkTag:function(t){e({type:"FORGET_SELECTED_SUGGESTED_BULK_TAG"})},hideBulkTagCell:function(){e({type:"HIDE_BULK_TAG_CELL"})},dispatch:e}}))(Bd);function Gd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Fd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gd(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var Hd=function(e){at()(n,e);var t=Vd(n);function n(e,a){var r;return Qe()(this,n),(r=t.call(this,e,a)).handleBulkTagClick=r.handleBulkTagClick.bind(tt()(r)),r.handleBulkUnTagClick=r.handleBulkUnTagClick.bind(tt()(r)),r.manualBulkTag=r.manualBulkTag.bind(tt()(r)),r.getAllIds=r.getAllIds.bind(tt()(r)),r.state={bulkTagIntent:"",tagCellDisplay:"none",btnDisplay:"block",mode:"choose"},r}return $e()(n,[{key:"componentWillReceiveProps",value:function(e){this.props=e;var t={};t.bulkTagIntent=this.props.tagDatasets.bulkTagIntent,null!==this.props.tagDatasets.activeRowData&&(t.mode="choose"),null!==this.props.tagDatasets.activeRowData&&"choose"===this.state.mode?this.showTagUntagButtons():"tag"===this.state.mode&&""!==this.state.bulkTagIntent&&"block"===this.state.tagCellDisplay&&(this.manualBulkTag(this.state.bulkTagIntent),this.toggleTagCellDisplay());var n=this.props.tagDatasets.bulkTagMode;t.mode=n?"tag":"choose",this.setState(t)}},{key:"handleBulkTagClick",value:function(e){e.preventDefault(),this.setState({mode:"tag",bulkTagIntent:""}),this.props.showBulkTagCell(),this.toggleTagCellDisplay()}},{key:"handleBulkUnTagClick",value:function(e){e.preventDefault(),this.setState({mode:"untag"}),this.manualBulkUnTag()}},{key:"toggleTagCellDisplay",value:function(){var e="block"===this.state.tagCellDisplay?"none":"block",t="block"===this.state.btnDisplay?"none":"block";this.setState({tagCellDisplay:e,btnDisplay:t})}},{key:"showTagUntagButtons",value:function(){this.setState({mode:"choose",tagCellDisplay:"none",btnDisplay:"block"})}},{key:"handleSort",value:function(e){e.preventDefault()}},{key:"getAllIds",value:function(){var e=[];return j.times(this.props.tagDatasets.limit,(function(t){e.push(t)})),e}},{key:"getSelectedIds",value:function(){var e=this.props.selection.get("workbench").toJS(),t=[];for(var n in e)if(e[n]){var a=n.split("row-")[1];"NaN"!==String(Number(a))&&t.push(Number(a))}return void 0!==t?t:(this.props.displayWarningRequestMessage("No rows selected"),this.props.removeTagSuggest(),[])}},{key:"manualBulkTag",value:function(e){if(si.validateTopicGoal(e))return this.props.propagateInvalidIntentMessage(e),!1;var t=this.getSelectedIds(),n=this.props.app.userName,a=void 0===n?"unknown":n,r=this.props.tagDatasets.searchResults,o=[],i=[];j.each(r,(function(n){j.each(t,(function(t){if(t===n.id){var r=""!==n.fullResult.intent;n.manualTag=e,n.fullResult.intent=e,n.fullResult.taggedAt=Number(new Date),n.fullResult.taggedBy=a,r?i.push(Fd({},n)):o.push(Fd({},n))}}))}));var s=[];j.each(o,(function(e){var t=e.fullResult.transcriptionHash;s.push(t)}));var c=[];j.each(i,(function(e){var t=e.fullResult.transcriptionHash;c.push(t)}));var l=j.map(r,(function(e){return e.manualTag=e.fullResult.intent,Fd({},e)})),d=!1;if(0===c.length&&s.length>0&&void 0!==e&&!this.props.tagDatasets.fetching&&(this.props.fetchManualBulkTag({projectId:this.props.tagDatasets.projectId,intent:e,userName:a,hashlist:s,newSearchResults:l}),d=!0),0===s.length&&c.length>0&&void 0!==e&&!this.props.tagDatasets.fetching&&(this.props.fetchManualBulkTagUpdate({projectId:this.props.tagDatasets.projectId,intent:e,userName:a,hashlist:c,newSearchResults:l}),d=!0),s.length>0&&c.length>0&&void 0!==e&&!this.props.tagDatasets.fetching){var u={new:s,updated:c};this.props.fetchManualBulkTagMixed({projectId:this.props.tagDatasets.projectId,intent:e,userName:a,hashObj:u,newSearchResults:l}),d=!0}d&&ze.dispatch(q.Actions.GridActions.setData({data:l,stateKey:"workbench"}))}},{key:"manualBulkUnTag",value:function(){this.setState({bulkTagIntent:""});var e=this.getSelectedIds(),t=this.props.app.userName,n=void 0===t?"unknown":t,a=this.props.tagDatasets.searchResults,r=[];j.each(a,(function(t){j.each(e,(function(e){e===t.id&&""!==t.fullResult.intent&&(t.manualTag="",t.fullResult.intent="",t.fullResult.deletedAt=Number(new Date),t.fullResult.deletedBy=n,r.push(Fd({},t)))}))}));var o=[];j.each(r,(function(e){var t=e.fullResult.transcriptionHash;o.push(t)}));var i=j.map(a,(function(e){return e.manualTag=e.fullResult.intent,Fd({},e)}));o.length>0&&!this.props.tagDatasets.fetching&&(this.props.fetchDeleteManualBulkTag({projectId:this.props.tagDatasets.projectId,userName:n,hashlist:o,newSearchResults:i}),ze.dispatch(q.Actions.GridActions.setData({data:i,stateKey:"workbench"})))}},{key:"render",value:function(){var e=this,t={column:null,value:0,row:{manualTag:""},key:0,index:0},n={display:this.state.tagCellDisplay},a={display:this.state.btnDisplay};return i.a.createElement("div",null,e.props.tagDatasets.searchResults.length>0?i.a.createElement("div",{className:"bulkTagContainer"},i.a.createElement("div",{className:"bulkSuggestContainer",style:n},"block"===e.state.tagCellDisplay?i.a.createElement("div",{className:"bulkTagLabelCellContainer"},i.a.createElement("span",{className:"bulkTagLabel"},"Bulk Tag: "),i.a.createElement(Ud,{cellData:t})):null),i.a.createElement("div",{className:"bulkBtnContainer",style:a},i.a.createElement(eo.Button,{name:"bulk-untag",onClick:e.handleBulkUnTagClick,styleOverride:{width:"150px"}},"BULK UNTAG")),i.a.createElement("div",{className:"bulkBtnContainer",style:a},i.a.createElement(eo.Button,{name:"bulk-tag",onClick:e.handleBulkTagClick,styleOverride:{width:"150px"}},"BULK TAG"))):null)}}]),n}(o.Component),qd=Object(l.connect)((function(e){return{app:e.app,header:e.header,tagDatasets:e.tagDatasets,grid:e.grid,dataSource:e.dataSource,selection:e.selection}}),(function(e){return{displayWarningRequestMessage:function(t){e(tr(t))},showBulkTagCell:function(){e({type:"SHOW_BULK_TAG_CELL"})},fetchManualBulkTag:function(t){var n=t.projectId,a=t.intent,r=t.userName,o=t.hashlist,i=t.newSearchResults;e(function(e){var t=e.projectId,n=e.intent,a=e.username,r=e.hashlist,o=e.newSearchResults;return function(e,i){e({type:"REQUEST_BULK_TAG_MANUAL"});var s=i(),c=s.app,l=(c.userId,c.csrfToken),d=s.header.client.id,u={credentials:"same-origin",method:"post",headers:{"X-CSRF-TOKEN":l,"Content-Type":"application/json"},body:JSON.stringify({intent:n,username:a,transcriptionHashList:r})},p=zn(Wt,{projectId:t,clientId:d});return pt()(p,u).then(Pr.handleErrors).then((function(){Promise.all([e(sd({status:1,message:""})),e(nr(nd.bulkTagAdded(n))),e(rd(o)),e({type:"UNCHECK_ALL_SELECTED_ROWS"})])})).catch((function(t){e(cd({status:5,suggestedTags:[]})),Pr.dispatchError(t,e,er)}))}}({projectId:n,intent:a,userName:r,hashlist:o,newSearchResults:i}))},fetchManualBulkTagUpdate:function(t){var n=t.projectId,a=t.intent,r=t.userName,o=t.hashlist,i=t.newSearchResults;e(function(e){var t=e.projectId,n=e.intent,a=e.username,r=e.hashlist,o=e.newSearchResults;return function(e,i){e({type:"REQUEST_BULK_TAG_MANUAL_UPDATE"});var s=i(),c=s.app,l=(c.userId,c.csrfToken),d=s.header.client.id,u={credentials:"same-origin",method:"post",headers:{"X-CSRF-TOKEN":l,"Content-Type":"application/json"},body:JSON.stringify({intent:n,username:a,transcriptionHashList:r})},p=zn(Kt,{projectId:t,clientId:d});return pt()(p,u).then(Pr.handleErrors).then((function(){Promise.all([e(ld({status:1,message:""})),e(nr(nd.bulkTagUpdated(n))),e(rd(o)),e({type:"UNCHECK_ALL_SELECTED_ROWS"})])})).catch((function(t){e(dd({status:5,suggestedTags:[]})),Pr.dispatchError(t,e,er)}))}}({projectId:n,intent:a,userName:r,hashlist:o,newSearchResults:i}))},fetchManualBulkTagMixed:function(t){var n=t.projectId,a=t.intent,r=t.userName,o=t.hashObj,i=t.newSearchResults;e(function(e){var t=e.projectId,n=e.intent,a=e.username,r=e.hashObj,o=e.newSearchResults;return function(e,i){e({type:"REQUEST_BULK_TAG_MANUAL_MIXED"});var s=i(),c=s.app,l=(c.userId,c.csrfToken),d=s.header.client.id,u={credentials:"same-origin",method:"post",headers:{"X-CSRF-TOKEN":l,"Content-Type":"application/json"},body:JSON.stringify({intent:n,username:a,transcriptionHashList:r.new})},p={credentials:"same-origin",method:"post",headers:{"X-CSRF-TOKEN":l,"Content-Type":"application/json"},body:JSON.stringify({intent:n,username:a,transcriptionHashList:r.updated})},h=zn(Wt,{projectId:t,clientId:d}),f=zn(Kt,{projectId:t});return Promise.all([pt()(h,u).then(Pr.handleErrors).then((function(){e(sd({status:1,message:""}))})).catch((function(t){e(cd({status:5,suggestedTags:[]})),Pr.dispatchError(t,e,er)})),pt()(f,p).then(Pr.handleErrors).then((function(){e(ld({status:1,message:""}))})).catch((function(t){e(dd({status:5,suggestedTags:[]})),Pr.dispatchError(t,e,er)}))]).then((function(){e(nr(nd.bulkTagAddNUpdate(n)))})).then((function(){e(rd(o))})).then((function(){e({type:"UNCHECK_ALL_SELECTED_ROWS"})}))}}({projectId:n,intent:a,userName:r,hashObj:o,newSearchResults:i}))},fetchDeleteManualBulkTag:function(t){var n=t.projectId,a=t.userName,r=t.hashlist,o=t.newSearchResults;e(function(e){var t=e.projectId,n=e.username,a=e.hashlist,r=e.newSearchResults;return function(e,o){e({type:"REQUEST_BULK_TAG_MANUAL_DELETE"});var i=o(),s=i.app,c=(s.userId,s.csrfToken),l=i.header.client.id,d={credentials:"same-origin",method:"post",headers:{"X-CSRF-TOKEN":c,"Content-Type":"application/json"},body:JSON.stringify({username:n,transcriptionHashList:a})},u=zn(zt,{projectId:t,clientId:l});return pt()(u,d).then(Pr.handleErrors).then((function(){var t;Promise.all([e((t={status:5,suggestedTags:[]},{type:"RECEIVE_BULK_TAG_MANUAL_DELETE_SUCCESS",manualBulkTagResult:t,suggestTagResult:2!==t.status?{status:5,suggestedTags:[]}:{status:2,suggestedTags:[]}})),e(nr(nd.bulkTagRemoved)),e(rd(r))])})).catch((function(t){e(function(e){return{type:"RECEIVE_BULK_TAG_MANUAL_DELETE_FAIL",manualBulkTagResult:e,suggestTagResult:{status:e.status,suggestedTags:[]}}}({status:5,suggestedTags:[]})),Pr.dispatchError(t,e,er)}))}}({projectId:n,userName:a,hashlist:r,newSearchResults:o}))},propagateInvalidIntentMessage:function(t){e(fd(t))},removeTagSuggest:function(){e({type:"REMOVE_TAG_SUGGEST",suggestTagResult:{status:4,suggestedTags:[]}})},dispatch:e}}))(Hd);function Wd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var Kd=function(e){at()(n,e);var t=Wd(n);function n(e){var a;return Qe()(this,n),(a=t.call(this,e)).handleResize=a.handleResize.bind(tt()(a)),a.state={uncheckingRows:!1},a}return $e()(n,[{key:"componentWillReceiveProps",value:function(e){this.props=e}},{key:"componentWillMount",value:function(){this.addDocumentWindowListeners()}},{key:"componentWillUnmount",value:function(){this.removeDocumentWindowListeners()}},{key:"componentDidUpdate",value:function(){if(void 0!==document&&void 0!==document.getElementsByClassName("react-grid-row")&&void 0!==document.getElementsByClassName("react-grid-row")[0]){var e=document.getElementsByClassName("react-grid-row")[0].getElementsByTagName("TD")[0].getAttribute("tabindex");this.props.tagDatasets.searchResults.length>0&&-1!==Number(e)&&this.updateTabIndex()}this.props.tagDatasets.uncheckAllRows&&this.props.tagDatasets.bulkTagReceived&&this.uncheckAllSelectedRows()}},{key:"handleResize",value:function(){null!==this.props.tagDatasets.searchResults&&this.props.tagDatasets.searchResults.length>0&&this.forceUpdate()}},{key:"addDocumentWindowListeners",value:function(){window.addEventListener&&window.addEventListener("resize",this.handleResize,!1)}},{key:"removeDocumentWindowListeners",value:function(){window.removeEventListener&&window.removeEventListener("resize",this.handleResize)}},{key:"handleBulkTagClick",value:function(e){e.preventDefault(),this.bulkManualTag()}},{key:"updateTabIndex",value:function(){var e=document.getElementsByClassName("react-grid-row");j.each(e,(function(e){var t=e.getElementsByTagName("TD")[0];if(void 0!==t){t.setAttribute("tabindex","-1");var n=t.getElementsByTagName("INPUT");void 0!==n[0]&&n[0].setAttribute("tabindex","-1")}}))}},{key:"uncheckAllSelectedRows",value:function(){var e=this,t=document.getElementsByClassName("react-grid-row"),n=this.props.selection.get("workbench").toJS(),a=[];for(var r in n)if(n[r]){var o=r.split("row-")[1];"NaN"!==String(Number(o))&&a.push(Number(o))}a&&!this.state.uncheckingRows&&(this.setState({uncheckingRows:!0}),j.each(a,(function(e){var n=t[e];if(void 0!==n){var a=n.getElementsByTagName("TD")[0];if(void 0!==a)a.getElementsByTagName("INPUT")[0].checked=!1}})),setTimeout((function(){e.setState({uncheckingRows:!1}),e.props.allRowsUnchecked();e.props.deselectAll("workbench")}),2e3))}},{key:"render",value:function(){var e=this,t=this.props.paddingTop;if(!this.props.tagDatasets.searchResults){var n=this.props.tagDatasets.isLoading;return i.a.createElement("div",{className:"datagridContainer",style:{paddingTop:"".concat(t,"px")}},n?i.a.createElement("div",{className:"TagDatasetLoading"},"Searching..."):null)}var a,r,o=function(){var t={color:"black"};if(e.props.tagDatasets.searchResults&&e.props.tagDatasets.searchResults.length>0){var n=e.props.selection.get("workbench"),a=[];if(void 0!==n){var r=n.toJS();for(var o in r)if(r[o]){var s=o.split("row-")[1];"NaN"!==String(Number(s))&&a.push(Number(s))}}var c=void 0!==n&&void 0!==a?a.length:0,l=c>0?"".concat(c," Rows Selected"):"",d=Math.ceil(e.props.tagDatasets.total/e.props.tagDatasets.limit);return i.a.createElement("div",null,i.a.createElement("span",{style:t},"Page",Math.min(e.props.tagDatasets.currentPage,d))," ","of"," ",d," ","["," ",e.props.tagDatasets.total.toLocaleString()," ","Search Results ]"," ",i.a.createElement("span",{style:t},l))}return i.a.createElement("div",{style:t},"No search results found")};return i.a.createElement("div",{className:"datagridContainer",style:{paddingTop:"".concat(t,"px"),top:"-1px"}},e.props.tagDatasets.searchResults&&e.props.tagDatasets.searchResults.length>0?i.a.createElement("div",{className:"actionsTableContainer"},i.a.createElement("div",{className:"resultsMessageContainer"},o()),i.a.createElement("div",{className:"actionTableBtnContainer"},i.a.createElement(qd,null))):i.a.createElement("div",{className:"actionsTableContainer"},i.a.createElement("div",{className:"resultsMessageContainer"},o())),i.a.createElement("div",{className:"tableContainer"},(a=e.props.tagDatasets,r=a.searchResults,a.isLoading?i.a.createElement("div",{className:"TagDatasetLoading"},"Searching..."):r&&!e.props.tagDatasets.dropTable&&r.length>0&&(1!==r.length||"-1"!==r[0].fullResult.transcriptionHash)?i.a.createElement(q.Grid,Je()({id:"DatasetGridPagerSelect",data:e.props.tagDatasets.searchResults},e.props.config)):i.a.createElement("div",null))),i.a.createElement("div",{className:"gridFooterForSuggestList"}))}}]),n}(o.Component),zd=Object(l.connect)((function(e){return{app:e.app,tagDatasets:e.tagDatasets,header:e.header,grid:e.grid,dataSource:e.dataSource,data:e.data,selection:e.selection,state:e}}),(function(e){return{updateColumnSort:function(t){e(ad(t))},allRowsUnchecked:function(){e({type:"ALL_ROWS_UNCHECKED"})},deselectAll:function(t){e(q.Actions.SelectionActions.deselectAll({stateKey:t}))},dispatch:e}}))(Kd);function Yd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var Jd=function(e){at()(n,e);var t=Yd(n);function n(e){var a;return Qe()(this,n),(a=t.call(this,e)).handleSetPageChange=a.handleSetPageChange.bind(tt()(a)),a.handleSetLimitChange=a.handleSetLimitChange.bind(tt()(a)),a.handleKeyPress=a.handleKeyPress.bind(tt()(a)),a.handleToggleExpandCollapse=a.handleToggleExpandCollapse.bind(tt()(a)),a.state={newPage:1},a}return $e()(n,[{key:"componentWillReceiveProps",value:function(e){this.props=e}},{key:"componentDidMout",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"shouldComponentUpdate",value:function(){return!0}},{key:"handleSetPageChange",value:function(e){e.preventDefault(),this.setState({newPage:e.target.value})}},{key:"handleSetLimitChange",value:function(e){var t=this;e.preventDefault(),this.state.newLimit!==e.target.value&&this.setState({newLimit:e.target.value},(function(){t.props.changeLimit(t.state.newLimit);var e={};try{e=JSON.parse(localStorage.getItem("TagDatasets"))||{}}catch(e){}e.limit=t.state.newLimit,localStorage.setItem("TagDatasets",JSON.stringify(e))}))}},{key:"handleKeyPress",value:function(e){if("Enter"===e.key){var t=this.state.newPage*this.props.tagDatasets.limit==0?0:this.state.newPage*this.props.tagDatasets.limit+1;this.state.newPage!==this.props.tagDatasets.currentPage&&this.props.changePage(this.state.newPage,t,this.state.newPage)}}},{key:"handleToggleExpandCollapse",value:function(){ze.dispatch(Td({isCollapsed:!this.props.filtersCollapsed}))}},{key:"render",value:function(){var e=this,t=[],n=function(t){var n=parseInt(t.target.innerHTML),a=e.props.tagDatasets.currentPage,r=t.target.getAttribute("data-label"),o="next"===r?a+1:a-1;o<=1&&(o=1);var i=Math.ceil(e.props.tagDatasets.total/e.props.tagDatasets.limit);o>=i&&(o=i),"prev"!==r&&"next"!==r&&(o=n);var s=(o-1)*e.props.tagDatasets.limit;o!==e.props.tagDatasets.currentPage&&e.props.changePage(o,s,r)},a="next"===this.props.tagDatasets.pageActiveButtonLabel?"pager-btn-active":"pager-btn-inactive",r="next"!==this.props.tagDatasets.pageActiveButtonLabel?"pager-btn-active":"pager-btn-inactive";t.push(i.a.createElement("button",{className:r,"data-label":"prev",key:"buttonPrev",onClick:n},"Prev")),t.push(i.a.createElement("button",{className:a,"data-label":"next",key:"buttonNext",onClick:n},"Next"));var o=Math.ceil(this.props.tagDatasets.total/this.props.tagDatasets.limit),s=this.props.tagDatasets.currentPage-1,c=function(e){t.push(i.a.createElement("button",{"data-label":e+1,key:"button".concat(e),children:e+1,onClick:n,className:e===s?"pager-btn-active":"pager-btn-inactive"}))};if(o<=10)j.times(o,c);else if(s<5)j.times(9,c),t.push(i.a.createElement("div",{key:"buttonEllipsis"},"...")),c(o-1);else if(o-1-s<5){c(0),t.push(i.a.createElement("div",{key:"buttonEllipsis"},"..."));for(var l=o+1-10;l<o;l++)c(l)}else{c(0),t.push(i.a.createElement("div",{key:"buttonEllipsis1"},"..."));for(var d=s-5+2;d<s+5-1;d++)c(d);t.push(i.a.createElement("div",{key:"buttonEllipsis2"},"...")),c(o-1)}1===o&&(t=[]);var u;return i.a.createElement("div",{className:"footerContainer"},i.a.createElement("div",{className:"toggleBtn ".concat(e.props.filtersCollapsed?"contractBtn":"expandBtn"),title:"Show/Hide Search Controls",onClick:e.handleToggleExpandCollapse}),i.a.createElement("div",{className:"FooterSegment"},(u=e.props.tagDatasets.limit,i.a.createElement("div",{className:"ResultsPerPage"},"Results per Page:",i.a.createElement("select",{onChange:e.handleSetLimitChange,value:u},i.a.createElement("option",{key:"pageLimit25",value:"25"},"25"),i.a.createElement("option",{key:"pageLimit50",value:"50"},"50"),i.a.createElement("option",{key:"pageLimit100",value:"100"},"100"),i.a.createElement("option",{key:"pageLimit500",value:"500"},"500"),i.a.createElement("option",{key:"pageLimit1000",value:"1000"},"1000"))))),i.a.createElement("div",{className:"FooterSegment Last"},function(){if(o<2)return null;for(var t=[],n=1;n<=o;n++)t.push(i.a.createElement("option",{key:n,value:n},n));return i.a.createElement("div",{className:"ChooseExactPage"},"Choose Exact Page:",i.a.createElement("select",{onChange:function(t){t.preventDefault();var n=Number(t.target.value),a=(n-1)*e.props.tagDatasets.limit;n!==e.props.tagDatasets.currentPage&&e.props.changePage(n,a,t.target.value)},value:Math.min(e.props.tagDatasets.currentPage,o)},t))}()),t)}}]),n}(o.Component),Xd=Object(l.connect)((function(e){return{app:e.app,tagDatasets:e.tagDatasets,filtersCollapsed:e.tagDatasets.isControlsCollapsed,header:e.header,grid:e.grid,current:e.pager.get("custom-pager")}}),(function(e){return{changePage:function(t,n,a){e(function(e,t,n){return{type:"DATASET_CHANGE_PAGE",newStartIndex:t,newPage:e,label:n}}(t,n,a))},changeLimit:function(t){e(Jl(t))},dispatch:e}}))(Jd);function Qd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var Zd=function(e){at()(n,e);var t=Qd(n);function n(e,a){var r;return Qe()(this,n),(r=t.call(this,e,a)).onClick=r.onClick.bind(tt()(r)),r.onFocus=r.onFocus.bind(tt()(r)),r.onBlur=r.onBlur.bind(tt()(r)),r.onKeyDown=r.onKeyDown.bind(tt()(r)),r.onChange=r.onChange.bind(tt()(r)),r.isEscaped=!1,r.state={value:r.props.value,isFocused:!1,isValid:!0,isTouched:!1},r}return $e()(n,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.value;this.props=e;var n=this.props,a=n.stateKey,r=n.rowIndex,o=n.columnIndex,i=n.value,s=n.tableState,c=s.activeRowIndex,l=s.activeColumnIndex,d={};t!=i&&(d.value=i,this.validate(d.value)),c===r&&l===o&&this.props.tableState.value&&d.value!=this.props.tableState.value&&(d.value=this.props.tableState.value,this.validate(d.value),ze.dispatch(Id({stateKey:a,value:null}))),this.checkFocus(),this.setState(d)}},{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){this.checkFocus()}},{key:"onClick",value:function(e){this.props.stopClickPropagation&&e.stopPropagation()}},{key:"onFocus",value:function(){this.isEscaped=!1,this.setState({isFocused:!0,value:this.props.value,isValid:!0}),this.dispatchSetActiveCell(!0)}},{key:"onBlur",value:function(){var e=this.state,t=e.isValid,n=e.value;this.state.value!==this.props.value&&!this.isEscaped&&this.props.onChange&&(this.isEscaped=!1,(t=this.validate(this.state.value))?this.props.onChange(n):n=this.props.value),this.setState({isFocused:!1,isTouched:!1,value:n,isValid:t}),this.dispatchSetActiveCell(!1)}},{key:"onKeyDown",value:function(e){var t=this.props,n=t.tableState,a=t.stateKey,r=t.rowIndex,o=t.columnIndex,i=t.maxRowIndex,s=t.maxColumnIndex,c=t.suggested,l=t.activateNextCellOnEnter,d=n.activeRowIndex,u=n.activeColumnIndex,p=e.keyCode,h=e.shiftKey,f=e.ctrlKey,g=this.refs.input;if("Enter"===e.key)if(l){var m=r,S=o;++m>i&&(m=i),d===m&&u===o||(g&&g.blur(),ze.dispatch(Cd({stateKey:a,activeRowIndex:m,activeColumnIndex:S})))}else g&&g.blur(),ze.dispatch(Cd({stateKey:a,activeRowIndex:null,activeColumnIndex:null}));else if(9===p||40===p||38===p||37===p||39===p){if(c&&(40==e.keyCode||38==e.keyCode)&&c.suggestedTags.length&&c.intent.length)return void(40==e.keyCode?ze.dispatch({type:"CELL_SUGGEST_CURSOR_DOWN",stateKey:{stateKey:a}.stateKey}):38==e.keyCode&&ze.dispatch({type:"CELL_SUGGEST_CURSOR_UP",stateKey:{stateKey:a}.stateKey}));if(void 0!==r&&void 0!==o){var E=r,v=o,T=function(e){e?v=0:(--v<0&&(v=s,E--),E<0&&(E=0,v=0))},y=function(e){e?v=s:(++v>s&&(v=0,E++),E>i&&(E=i,v=s))};switch(p){case 9:h?T(!1):y(!1);break;case 40:!function(e){(e||++E>i)&&(E=i)}(f);break;case 38:!function(e){(e||--E<0)&&(E=0)}(f);break;case 37:T(f);break;case 39:y(f)}d===E&&u===v||(e.preventDefault(),g&&g.blur(),ze.dispatch(Cd({stateKey:a,activeRowIndex:E,activeColumnIndex:v})))}}else 27===e.keyCode&&(this.isEscaped=!0,g&&(this.setState({value:this.props.value}),g.blur()),ze.dispatch(Cd({stateKey:a,activeRowIndex:null,activeColumnIndex:null})))}},{key:"onChange",value:function(e){var t=this.props,n=t.onValidChange,a=t.onEdit,r=this.state.isValid,o=e.target.value,i=this.validate(o),s=o!==this.state.value;this.setState({value:o,isTouched:!0,isValid:i}),s&&a&&a(o,i),i!=r&&n&&n(i)}},{key:"validate",value:function(e){var t=this.props.validation;return!t||t(e)}},{key:"checkFocus",value:function(){var e=this.refs.input,t=this.props,n=t.tableState,a=t.rowIndex,r=t.columnIndex,o=n.activeRowIndex,i=n.activeColumnIndex;e&&void 0!==a&&void 0!==r&&(this.state.isFocused?a===o&&r===i||e.blur():a===o&&r===i&&(e.focus(),this.onFocus()))}},{key:"dispatchSetActiveCell",value:function(e){var t=this.props,n=t.stateKey,a=t.tableState,r=t.rowIndex,o=t.columnIndex,i=a.activeRowIndex,s=a.activeColumnIndex;void 0!==r&&void 0!==o&&(e?i===r&&s===o||ze.dispatch(Cd({stateKey:n,activeRowIndex:r,activeColumnIndex:o})):i===r&&s===o&&ze.dispatch(Cd({stateKey:n,activeRowIndex:null,activeColumnIndex:null})))}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.className,a=this.state,r=a.value,o=a.isValid,s=a.isTouched,c="CellEditable".concat(s?" touched":"").concat(o?"":" error").concat(n?" ".concat(n):"");return i.a.createElement("div",{id:t,className:c},i.a.createElement("input",{type:"text",value:r,onClick:this.onClick,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onChange:this.onChange,ref:"input"}))}}]),n}(o.Component);Zd.propTypes={id:qr.a.string,className:qr.a.string,stateKey:qr.a.string.isRequired,value:qr.a.string.isRequired,onChange:qr.a.func,onEdit:qr.a.func,rowIndex:qr.a.number,columnIndex:qr.a.number,maxRowIndex:qr.a.number,maxColumnIndex:qr.a.number,stopClickPropagation:qr.a.bool,validation:qr.a.func,onValidChange:qr.a.func,suggestedStateKey:qr.a.string,activateNextCellOnEnter:qr.a.bool},Zd.defaultProps={value:"",rowIndex:-1,columnIndex:-1,activateNextCellOnEnter:!0};var $d=Object(l.connect)((function(e,t){return{tableState:e.cellEditable?e.cellEditable.get(t.stateKey):{},suggested:t.suggestedStateKey&&void 0!==e[t.suggestedStateKey]?e[t.suggestedStateKey].get(t.stateKey):null}}))(Zd);function eu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var tu=function(e){at()(n,e);var t=eu(n);function n(e,a){var r;return Qe()(this,n),r=t.call(this,e,a),h()(tt()(r),"moveSelection",(function(){var e=r.props.stateKey,t=r.props.suggestions,n=t.cursor,a=t.suggestedTags,o=r.state,i=o.keyboardSelectedIndex,s=o.cursor;if(a.length){var c=i;n>s?(c+=1)>=a.length&&(c=0):-1===(c-=1)&&(c=a.length-1);var l=document.getElementsByClassName("SuggestContainer")[0],d=document.getElementsByClassName("Suggest")[c];if(d){var u=d.innerText;ze.dispatch(Id({stateKey:e,value:u})),l.scrollTop=d.offsetTop}r.setState({cursor:n,keyboardSelectedIndex:c})}})),r.handleKeyPress=r.handleKeyPress.bind(tt()(r)),r.handleSuggestHover=r.handleSuggestHover.bind(tt()(r)),r.isValid=!0,r.state={keyboardSelectedIndex:-1,cursor:r.props.suggestions.cursor},r}return $e()(n,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.intent;this.props=e;var n=this.props,a=n.intent,r=n.stateKey,o=n.projectId;this.isValid=si.validatePartialTaggingGuideTag(a),this.isValid&&a.length>0&&t!=a&&ze.dispatch(function(e){var t=e.stateKey,n=e.projectId,a=e.intent;return function(e,r){return new Promise((function(o,i){td&&td.abort();var s,c=(td=new AbortController).signal;e({type:"GET_SUGGESTED_TAGS_REQUEST",stateKey:(s={stateKey:t,projectId:n,intent:a}).stateKey,projectId:s.projectId,intent:s.intent});var l=r(),d=l.app.csrfToken,u=l.header.client.id,p=zn(Pt,{projectId:n,intent:a,clientId:u});fetch(p,{signal:c,credentials:"same-origin",headers:{"X-CSRF-TOKEN":d}}).then(Pr.handleErrors).then((function(e){return e.json()})).then((function(r){var i,s=r&&r.length?r:[],c=s.indexOf(a);c>=0&&s.slice(c,1),e({type:"GET_SUGGESTED_TAGS_SUCCESS",stateKey:(i={stateKey:t,projectId:n,intent:a,suggestedTags:s}).stateKey,projectId:i.projectId,intent:i.intent,suggestedTags:i.suggestedTags}),o(N()(s))})).catch((function(r){var o;"AbortError"!==r.name&&(e({type:"GET_SUGGESTED_TAGS_ERROR",stateKey:(o={stateKey:t,projectId:n,intent:a,error:r}).stateKey,projectId:o.projectId,intent:o.intent,error:o.error}),i(r))}))}))}}({stateKey:r,projectId:o,intent:a})),this.props.suggestions.cursor!=this.state.cursor&&this.moveSelection()}},{key:"handleSuggestHover",value:function(e){var t=this.props.stateKey,n=e.target.getAttribute("data-label");ze.dispatch(Id({stateKey:t,value:n}))}},{key:"handleKeyPress",value:function(e){var t=this.props.suggestions.suggestedTags;if(t.length){var n=this.state.keyboardSelectedIndex;"Up"===e.key?--n<0&&(n=t.length-1):"Down"===e.key&&++n>t.length-1&&(n=0),this.setState({keyboardSelectedIndex:n})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,a=t.className,r=t.highlightTags,o=this.props.suggestions,s=o.intent,c=o.suggestedTags,l=this.state.keyboardSelectedIndex;if(this.isValid&&s!=this.props.intent)return null;var d=[];if(this.isValid){if(s.length&&!c.length)d=[i.a.createElement("div",{key:"cell-0",className:"Suggest warning"},"No matching tags"),i.a.createElement("div",{key:"cell-1",className:"Suggest warning"},"This will create a new tag")];else if(c.length){var u=[];c.forEach((function(e){-1!=r.indexOf(e)?u.unshift({tag:e,isSuggested:!0}):u.push({tag:e,isSuggested:!1})})),u.forEach((function(t,n){var a="Suggest".concat(l==n?" keyboardSelected":"").concat(t.isSuggested?" suggested":"");d.push(i.a.createElement("div",{key:"cell-".concat(n),tabIndex:"-1",className:a,"data-label":t.tag,onMouseOver:e.handleSuggestHover},t.tag))}))}}else d=[i.a.createElement("div",{key:"cell-0",className:"Suggest error"},"No matching tags"),i.a.createElement("div",{key:"cell-1",className:"Suggest error"},"To create a new tag, please follow the topic-goal format")];var p="SuggestContainer".concat(a?" ".concat(a):"");return i.a.createElement("div",{id:n,className:p,onKeyPress:this.handleKeyPress},d)}}]),n}(o.Component);tu.propTypes={id:qr.a.string,className:qr.a.string,stateKey:qr.a.string.isRequired,intent:qr.a.string.isRequired,projectId:qr.a.string.isRequired,highlightTags:qr.a.array,rowIndex:qr.a.number,columnIndex:qr.a.number},tu.defaultProps={highlightTags:[],rowIndex:-1,columnIndex:-1};var nu=Object(l.connect)((function(e,t){return{suggestions:e.cellEditableManualTagSuggest.get(t.stateKey)}}))(tu);function au(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var ru=function(e){at()(n,e);var t=au(n);function n(e,a){var r;return Qe()(this,n),(r=t.call(this,e,a)).onEdit=r.onEdit.bind(tt()(r)),r.onChange=r.onChange.bind(tt()(r)),r.onValidChange=r.onValidChange.bind(tt()(r)),r.state={editedValue:r.props.value,isEditedValueValid:!0},r}return $e()(n,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.value;this.props=e,t!==this.props.value&&this.setState({editedValue:this.props.value,isEditedValueValid:!0})}},{key:"onEdit",value:function(e,t){this.setState({editedValue:e})}},{key:"onChange",value:function(e){var t=this.props.onChange;t&&t(e)}},{key:"onValidChange",value:function(e){}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.className,a=e.stateKey,r=e.value,o=e.rowIndex,s=e.columnIndex,c=e.maxRowIndex,l=e.maxColumnIndex,d=e.stopClickPropagation,u=e.projectId,p=e.editable,h=e.highlightTags,f=e.activateNextCellOnEnter,g=this.state.editedValue,m=void 0!==o&&void 0!==s&&p.activeRowIndex===o&&p.activeColumnIndex===s;return i.a.createElement("div",{id:t,className:"CellEditableManualTag".concat(n?" ".concat(n):"")},i.a.createElement($d,{stateKey:a,value:r,rowIndex:o,columnIndex:s,maxRowIndex:c,maxColumnIndex:l,stopClickPropagation:d,validation:si.validateTaggingGuideTag,suggestedStateKey:"cellEditableManualTagSuggest",activateNextCellOnEnter:f,onValidChange:this.onValidChange,onChange:this.onChange,onEdit:this.onEdit}),m&&g.length?i.a.createElement(nu,{stateKey:a,intent:g,projectId:u,highlightTags:h}):null)}}]),n}(o.Component);ru.propTypes={id:qr.a.string,className:qr.a.string,stateKey:qr.a.string.isRequired,value:qr.a.string.isRequired,projectId:qr.a.string.isRequired,rowIndex:qr.a.number,columnIndex:qr.a.number,maxRowIndex:qr.a.number,maxColumnIndex:qr.a.number,stopClickPropagation:qr.a.bool,highlightTags:qr.a.array,onChange:qr.a.func,activateNextCellOnEnter:qr.a.bool},ru.defaultProps={value:"",rowIndex:-1,columnIndex:-1,highlightTags:[],activateNextCellOnEnter:!0};var ou=Object(l.connect)((function(e,t){return{editable:e.cellEditable.get(t.stateKey),suggest:e.cellEditableManualTagSuggest.get(t.stateKey)}}))(ru);function iu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function su(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iu(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var lu=Lr().DISPLAY_MESSAGES,du=function(e){at()(n,e);var t=cu(n);function n(e,a){var r;return Qe()(this,n),(r=t.call(this,e,a)).loadingProject=!1,r.loadingDatasets=!1,r.completedDatasetsCount=0,r.datasetsLength=0,r.handleHelpClick=r.handleHelpClick.bind(tt()(r)),r.onSearchInputChange=r.onSearchInputChange.bind(tt()(r)),r.onSearchInputSearch=r.onSearchInputSearch.bind(tt()(r)),r.handleSearchSubmitClick=r.handleSearchSubmitClick.bind(tt()(r)),r.search=r.search.bind(tt()(r)),r.handleRadioClick=r.handleRadioClick.bind(tt()(r)),r.handleMultipleFilterClick=r.handleMultipleFilterClick.bind(tt()(r)),r.handleWordCountFilterClick=r.handleWordCountFilterClick.bind(tt()(r)),r.handleHasCommentFilterClick=r.handleHasCommentFilterClick.bind(tt()(r)),r.onGreaterThanChangeHandler=r.onGreaterThanChangeHandler.bind(tt()(r)),r.radios={labels:["All text strings","Tagged text strings","Untagged text strings"],values:["bothTaggedUntagged","tagged","untagged"],defaultValue:"tagged"},r.cellEditableStateKey="TagDatasets",r.props=e,r.initialized=!1,r.projectIdCleared=!1,r.state={bothTaggedUntagged:!1,tagged:!0,untagged:!1,selectedRadioValue:"tagged",hasComment:!1,wordGreaterThan:!1,wordCount:15,onlyMultipleTags:!1,query:"",fetchingStats:!1,uniqueStatsBar:{containerClassName:"percentBarContainer percentBarBlueBorderContainer",barClassNames:"percentBar percentBarBlue"},allStatsBar:{containerClassName:"percentBarContainer percentBarBlueBorderContainer",barClassNames:"percentBar percentBarBlue"}},r.buttonStyle={paddingLeft:"10px",paddingRight:"10px"},r}return $e()(n,[{key:"componentWillReceiveProps",value:function(e){var t=this,n=this.props,a=n.tagDatasets,r=n.isControlsCollapsed,o=n.dispatch,i=e.projectId;!a.project||a.projectId&&i&&a.projectId!==i||!a.projectId&&i||a.projectId&&!i?(this.props=e,this.initiate()):this.props=e;var s=!1,c=$i.ProjectsManager.getDatasetsByProjectId(i);if(c){var l=this.props.tagDatasets.filter.datasets,d=[];c.forEach((function(e){e.id&&e.status&&"COMPLETED"==e.status&&e.name&&e.isClickable&&d.push(e.id)})),d.length!=this.completedDatasetsCount&&(this.completedDatasetsCount=d.length,s=!0),!l.length&&d.length&&(s=!1,setTimeout((function(){o(Ed({datasets:d}))}),100)),r!=this.props.tagDatasets.isControlsCollapsed&&(s=!0)}r!=this.props.tagDatasets.isControlsCollapsed&&(s=!0),s&&setTimeout((function(){t.forceUpdate(),t.initialized||a.projectId&&(t.props.tagDatasets.startIndex=0,t.props.tagDatasets.currentPage=1,t.initialized=!0,t.search())}),250)}},{key:"componentDidMount",value:function(){var e=this.props.dispatch;this.completedDatasetsCount=0,e(yd({stateKey:this.cellEditableStateKey})),e(Od({stateKey:this.cellEditableStateKey})),this.initiate();var t=this.state,n=t.tagged,a=t.untagged,r=t.bothTaggedUntagged,o=t.hasComment,i=t.wordGreaterThan,s=t.wordCount,c=t.onlyMultipleTags,l=this.props.tagDatasets.limit,d={};try{d=JSON.parse(localStorage.getItem("TagDatasets"))||{}}catch(e){}d=Object.assign({limit:l,untagged:a,tagged:n,bothTaggedUntagged:r,hasComment:o,wordGreaterThan:i,wordCount:s,onlyMultipleTags:c},d),this.setState(su({},d)),l!==d.limit&&e(Jl(d.limit,!1))}},{key:"componentWillUnmount",value:function(){var e=this.props.dispatch;e({type:"TAG_DATASETS_CLEANUP"}),e(bd({stateKey:this.cellEditableStateKey})),e(Rd({stateKey:this.cellEditableStateKey})),e(q.Actions.GridActions.setData({data:[],stateKey:"workbench"}))}},{key:"initiate",value:function(){var e=this,t=this.props,n=t.tagDatasets,a=t.projectId,r=t.clientDataLoaded,o=t.dispatch;if(P.a.isNil(a)||!r||P.a.isNil(n))this.projectIdCleared||(o(gd(null)),this.projectIdCleared=!0);else{a!==n.projectId&&(this.fetchingStats=!0,o(gd(a)),n.filter.datasets&&n.filter.datasets.length&&(this.props.fetchDatasetStats({projectId:a,filter:{datasets:n.filter.datasets}}).finally((function(){e.fetchingStats=!1})),this.highliteStats()));var i=$i.ProjectsManager.getProject(a);void 0!==i&&(n.project&&n.project.id==i.id||o(md({projectId:a,project:i})));var s=$i.ProjectsManager.getDatasetsByProjectId(a);void 0!==s&&o(Sd({projectId:a,datasets:s}))}}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props.tagDatasets,n=t.projectId;P.a.isNil(t)||P.a.isNil(n)||(t.refreshStats&&!this.fetchingStats&&(this.fetchingStats=!0,setTimeout((function(){e.props.fetchDatasetStats({projectId:n,filter:{datasets:t.filter.datasets}}).finally((function(){e.fetchingStats=!1})),e.highliteStats()}),500)),t.pageSearch&&t.projectId&&(t.pageSearch=!1,this.search()))}},{key:"onSearchInputChange",value:function(e){this.setState({query:e})}},{key:"onSearchInputSearch",value:function(e){var t=this;this.setState({query:e}),setTimeout((function(){t.handleSearchSubmitClick()}),100)}},{key:"handleHelpClick",value:function(e){e.preventDefault();var t=T.HELP.SEARCH;window.open(t,"_blank")}},{key:"handleRadioClick",value:function(e){var t,n=(t={bothTaggedUntagged:!1,tagged:!1,untagged:!1},h()(t,e,!0),h()(t,"selectedRadioValue",e),t);this.setState(n,(function(){var e={};try{e=JSON.parse(localStorage.getItem("TagDatasets"))||{}}catch(e){}localStorage.setItem("TagDatasets",JSON.stringify(Object.assign(e,n)))})),this.props.tagDatasets.bulkTagMode&&this.props.hideBulkTagCell()}},{key:"handleMultipleFilterClick",value:function(){var e=!this.state.onlyMultipleTags;this.setState({onlyMultipleTags:e});var t={};try{t=JSON.parse(localStorage.getItem("TagDatasets"))||{}}catch(e){}localStorage.setItem("TagDatasets",JSON.stringify(Object.assign(t,{onlyMultipleTags:e}))),this.props.tagDatasets.bulkTagMode&&this.props.hideBulkTagCell()}},{key:"handleWordCountFilterClick",value:function(){var e=!this.state.wordGreaterThan;this.setState({wordGreaterThan:e});var t={};try{t=JSON.parse(localStorage.getItem("TagDatasets"))||{}}catch(e){}localStorage.setItem("TagDatasets",JSON.stringify(Object.assign(t,{wordGreaterThan:e}))),this.props.tagDatasets.bulkTagMode&&this.props.hideBulkTagCell()}},{key:"handleHasCommentFilterClick",value:function(){var e=!this.state.hasComment;this.setState({hasComment:e});var t={};try{t=JSON.parse(localStorage.getItem("TagDatasets"))||{}}catch(e){}localStorage.setItem("TagDatasets",JSON.stringify(Object.assign(t,{hasComment:e}))),this.props.tagDatasets.bulkTagMode&&this.props.hideBulkTagCell()}},{key:"onGreaterThanChangeHandler",value:function(e){e.preventDefault();var t=e.target.value;this.setState({wordCount:t});var n={};try{n=JSON.parse(localStorage.getItem("TagDatasets"))||{}}catch(e){}localStorage.setItem("TagDatasets",JSON.stringify(Object.assign(n,{wordCount:t}))),this.props.tagDatasets.bulkTagMode&&this.props.hideBulkTagCell()}},{key:"handleSearchSubmitClick",value:function(){this.props.tagDatasets.startIndex=0,this.props.tagDatasets.currentPage=1,this.search()}},{key:"highliteStats",value:function(){var e=this;setTimeout((function(){e.setState({uniqueStatsBar:{containerClassName:"percentBarContainer percentBarGreyBorderContainer",barClassNames:"percentBar percentBarGrey"},allStatsBar:{containerClassName:"percentBarContainer percentBarGreyBorderContainer",barClassNames:"percentBar percentBarGrey"}})}),3e3),this.setState({uniqueStatsBar:{containerClassName:"percentBarContainer percentBarBlueBorderContainer",barClassNames:"percentBar percentBarBlue"},allStatsBar:{containerClassName:"percentBarContainer percentBarBlueBorderContainer",barClassNames:"percentBar percentBarBlue"}})}},{key:"search",value:function(){var e=this,t=this.props.tagDatasets,n=t.projectId;if(!P.a.isNil(t)&&!P.a.isNil(n)){var a=t.sort,r=this.state.query,o=this.state.onlyMultipleTags?{tagged:this.state.tagged,untagged:this.state.untagged,autoTagCountRange:{min:2}}:{tagged:this.state.tagged,untagged:this.state.untagged};o.datasets=t.filter.datasets,this.state.wordGreaterThan&&(o.wordCountRange={min:this.state.wordCount}),this.state.hasComment&&(o.hasComment=!0);var i=t.startIndex,s=t.limit;t.query=r,t.filter=o,this.props.fetchDatasetSearch({query:r,filter:o,projectId:n,startIndex:i,limit:s,sort:a}),this.props.fetchDatasetStats({projectId:n,filter:{datasets:o.datasets}}).finally((function(){e.fetchingStats=!1}))}}},{key:"render",value:function(){var e=this.props,t=e.tagDatasets,n=e.userFeatureConfiguration,a=e.dispatch,r=t.projectId,o=t.datasetsLoaded,s=t.project,c=t.filter,l=t.isControlsCollapsed,d=this.refs,u=d.searchEl,p=d.datasetsFilterEl,h=d.statsEl,f=$i.ProjectsManager.getDatasetsByProjectId(r);if(!o)return i.a.createElement("div",{className:"openDatasetsContainer"},i.a.createElement("div",{className:"openDatasetProgress"},i.a.createElement("div",{className:"progressContainer"})));if(!s)return i.a.createElement("div",{className:"openDatasetsContainer"},i.a.createElement("div",{className:"openDatasetProgress"},i.a.createElement("div",{className:"progressContainer"},i.a.createElement("p",null,"Requested project is not found."))));if(!f)return i.a.createElement("div",{className:"openDatasetsContainer"},i.a.createElement("div",{className:"openDatasetProgress"},i.a.createElement("div",{className:"progressContainer"},i.a.createElement("p",null,"Requested project does not have transformed datasets."))));var g=t.statsResults.intents,m=t.statsResults.all,S=t.statsResults.unique,E={checked:this.state.onlyMultipleTags,label:"Multiple suggested categories",value:!1,onChange:this.handleMultipleFilterClick},v={checked:this.state.hasComment,label:"Has comment",value:!1,onChange:this.handleHasCommentFilterClick},T={checked:this.state.wordGreaterThan,label:"Word count greater or equal",value:!1,onChange:this.handleWordCountFilterClick},y=function(e){return String("".concat(Number(2*Math.floor(e)),"px"))},b={width:y(S.percent)},C={width:y(m.percent)},I=1;l||(u&&(I+=u.offsetHeight),p&&(I+=p.offsetHeight),h&&(I+=h.offsetHeight),I-=2);var O=[];return f.forEach((function(e){e.id&&e.status&&"COMPLETED"==e.status&&e.name&&e.isClickable&&O.push({value:e.id,label:e.name})})),i.a.createElement("div",{className:"openDatasetsContainer",id:"TagDataset"},l?"":i.a.createElement("div",{className:"openDatasetProgress",style:{display:l?"none":"block"}},i.a.createElement("div",{className:"progressContainer"},i.a.createElement("div",{className:"ribbon searchFilterContainer oddRow",ref:"searchEl"},i.a.createElement(Jr.a,{className:"searchContainer",direction:"row",flex:!0},i.a.createElement(Jr.a,{className:"searchFieldContainer"},i.a.createElement("div",{className:"exampleSearch"},i.a.createElement("div",{className:"searchInputContainer"},i.a.createElement(Ld,{placeholder:"Search",onChange:this.onSearchInputChange,onSearch:this.onSearchInputSearch})),lc(sc.tagSearchHelp,n)?i.a.createElement("div",{className:"searchHelpContainer",onClick:this.handleHelpClick}):i.a.createElement("div",null),i.a.createElement("span",{className:"booleanOperators"},i.a.createElement("span",{className:"boolean"},"Boolean operators:")," ","AND,  OR,  NOT,  AND NOT"))),i.a.createElement(Jr.a,{className:"filtersContainer",flex:!0},i.a.createElement("div",{className:"radiosContainer"},i.a.createElement("div",{className:"radioColContainer col-md-4"},i.a.createElement(eo.RadioGroup,{displayType:"stacked",onChange:this.handleRadioClick,values:this.radios.values,labels:this.radios.labels,value:this.state.selectedRadioValue})),i.a.createElement("div",{className:"checkboxColContainer col-md-4"},i.a.createElement("div",{className:"checkboxContainer"},i.a.createElement(eo.Checkbox,E)),i.a.createElement("div",{className:"checkboxContainer"},i.a.createElement(eo.Checkbox,T),"  ",i.a.createElement("div",{className:"selectContainer"},i.a.createElement("select",{onChange:this.onGreaterThanChangeHandler,value:this.state.wordCount},i.a.createElement("option",{value:"1"},"1"),i.a.createElement("option",{value:"2"},"2"),i.a.createElement("option",{value:"3"},"3"),i.a.createElement("option",{value:"4"},"4"),i.a.createElement("option",{value:"5"},"5"),i.a.createElement("option",{value:"6"},"6"),i.a.createElement("option",{value:"7"},"7"),i.a.createElement("option",{value:"8"},"8"),i.a.createElement("option",{value:"9"},"9"),i.a.createElement("option",{value:"10"},"10"),i.a.createElement("option",{value:"11"},"11"),i.a.createElement("option",{value:"12"},"12"),i.a.createElement("option",{value:"13"},"13"),i.a.createElement("option",{value:"14"},"14"),i.a.createElement("option",{value:"15"},"15")))),i.a.createElement("div",{className:"checkboxContainer"},i.a.createElement(eo.Checkbox,v))),i.a.createElement("div",{className:"checkboxColContainer col-md-4"},i.a.createElement("div",{className:"applyFiltersColContainer"},i.a.createElement(eo.Button,{type:"primary",name:"submit",styleOverride:this.buttonStyle,onClick:this.handleSearchSubmitClick},"APPLY FILTERS"))))))),i.a.createElement("div",{className:"ribbon datasetsFilterContainer oddRow",ref:"datasetsFilterEl",style:{overflowY:"scroll",alignItems:"flex-start",maxHeight:"100px",marginRight:"5px"}},i.a.createElement(ic,{label:"Datasets Filter:",className:"DatasetsFilter",options:O,value:c.datasets,onChange:function(e){a(Ed({datasets:e}))},allowEmpty:!1})),i.a.createElement("div",{className:"ribbon statsContainer oddRow",ref:"statsEl"},i.a.createElement("div",{className:"stat"},i.a.createElement("div",{className:"statLabel"},i.a.createElement("p",null,"Total: ",i.a.createElement("span",{className:"nums"},g," ","tags")))),i.a.createElement("div",{className:"stat bar"},i.a.createElement("div",{className:"statLabel"},i.a.createElement("p",null,"Unique Text Strings: ",i.a.createElement(Ul.a,{baseClassName:"nums",animationClassName:"animateColor",animate:!0===t.refreshStats},S.tagged.toLocaleString()," ","/",S.total.toLocaleString()),i.a.createElement("span",{className:"nums"}," (",Number(S.percent).toFixed(2),"% tagged)"))),i.a.createElement("div",{className:this.state.uniqueStatsBar.containerClassName},i.a.createElement("div",{className:this.state.uniqueStatsBar.barClassNames,style:b}))),i.a.createElement("div",{className:"stat bar"},i.a.createElement("div",{className:"statLabel"},i.a.createElement("p",null,"All Text Strings: ",i.a.createElement(Ul.a,{baseClassName:"nums",animationClassName:"animateColor",animate:!0===t.refreshStats},m.tagged.toLocaleString()," ","/",m.total.toLocaleString()),i.a.createElement("span",{className:"nums"}," (",Number(m.percent).toFixed(2),"% tagged)"))),i.a.createElement("div",{className:this.state.allStatsBar.containerClassName},i.a.createElement("div",{className:this.state.allStatsBar.barClassNames,style:C})))))),i.a.createElement(zd,{paddingTop:I,config:this.gridConfig}))}},{key:"gridConfig",get:function(){var e=this.props.dispatch;return{stateKey:"workbench",height:"",useStyles:!1,columns:[{name:"Count",width:"6%",className:"additional-class",dataIndex:"count",sortable:!0},{name:"Datasets",width:"20%",className:"additional-class",dataIndex:"datasetIds",sortable:!1,hideable:!0,renderer:function(e){var t=ze.getState().tagDatasets.datasets,n=e.row,a=[];return n.datasetIds&&n.datasetIds.length&&n.datasetIds.forEach((function(e){var n=t.get(e);n&&n.name&&a.push(n.name)})),i.a.createElement("span",null,a.join(", "))}},{name:"Unique Text String",width:"20%",dataIndex:"uniqueTextString",className:"additional-class",sortable:!0,hideable:!1},{name:"Suggested Category",width:"15%",dataIndex:"suggestedTag",className:"additional-class",sortable:!0},{name:"Granular Intent",dataIndex:"manualTag",width:"15%",className:"additional-class",sortable:!0,renderer:function(t){t.column,t.value;var n=t.row,a=ze.getState().tagDatasets,r=a.projectId;return i.a.createElement(ou,{stateKey:"TagDatasets",value:n.manualTag||"",rowIndex:n.index,columnIndex:0,maxRowIndex:a.searchResults?a.searchResults.length-1:0,maxColumnIndex:1,stopClickPropagation:!0,projectId:a.projectId,activateNextCellOnEnter:!0,onChange:function(t){var a=n.manualTag||"";e(q.Actions.EditorActions.updateRow({stateKey:"workbench",rowIndex:n.index,values:{manualTag:t}})),t.length?e(ud({projectId:r,hashList:[n.transcriptionHash],intent:t,isUpdate:a.length>0})).then((function(){e(nr(lu.tagUpdated))})).catch((function(){e(q.Actions.EditorActions.updateRow({stateKey:"workbench",rowIndex:n.index,values:{manualTag:a}}))})):e(pd({projectId:r,hashList:[n.transcriptionHash]})).then((function(){e(nr(lu.tagRemoved))})).catch((function(){e(q.Actions.EditorActions.updateRow({stateKey:"workbench",rowIndex:n.index,values:{manualTag:a}}))}))}})}},{name:"Rollup Intent",width:"10%",dataIndex:"rutag",className:"additional-class",sortable:!0},{name:"Comments",dataIndex:"comment",width:"14%",className:"additional-class",sortable:!0,renderer:function(t){t.column,t.value;var n=t.row,a=ze.getState().tagDatasets,r=a.projectId;return i.a.createElement($d,{stateKey:"TagDatasets",value:n.comment||"",rowIndex:n.index,columnIndex:1,maxRowIndex:a.searchResults?a.searchResults.length-1:0,maxColumnIndex:1,stopClickPropagation:!0,activateNextCellOnEnter:!0,validation:si.validateTranscriptionHashComment,onChange:function(t){var a=n.comment||"";e(q.Actions.EditorActions.updateRow({stateKey:"workbench",rowIndex:n.index,values:{comment:t}})),t.length?e(hd({projectId:r,hashList:[n.transcriptionHash],comment:t})).then((function(){e(nr(lu.commentUpdated))})).catch((function(){e(q.Actions.EditorActions.updateRow({stateKey:"workbench",rowIndex:n.index,values:{comment:a}}))})):e(hd({comment:"",projectId:r,hashList:[n.transcriptionHash]})).then((function(){e(nr(lu.commentRemoved))})).catch((function(){e(q.Actions.EditorActions.updateRow({stateKey:"workbench",rowIndex:n.index,values:{comment:a}}))}))}})}}],pageSize:100,events:{},plugins:{SELECTION_MODEL:{mode:"checkbox-multi",enabled:!0,allowDeselect:!0,activeCls:"false",selectionEvent:"doubleclick"},COLUMN_MANAGER:{resizable:!0,moveable:!0,sortable:{enabled:!0,method:"remote",sortingSource:function(t,n,a){var r=ze.getState().tagDatasets,o=su(su({},r.sort),{},{direction:a.sort.direction,sortDirection:a.sort.direction,sortKey:a.sort.property});return new Promise((function(){return e(ed({query:r.query,filter:r.filter,projectId:r.projectId,startIndex:r.startIndex,limit:r.limit,sort:o}))}))}}},STICKY_HEADER:{enabled:!0,scrollTarget:".react-grid-table-container"},STICKY_FOOTER:{enabled:!1,scrollTarget:".react-grid-table-container"},PAGER:{enabled:!0,pagingType:"remote",pagerComponent:i.a.createElement(Xd,null)},BULK_ACTIONS:{enabled:!0},GRID_ACTIONS:{iconCls:"action-icon",menu:[]},ROW:{enabled:!0,renderer:function(e){var t=e.rowProps,n=e.cells;return e.row.get("_active_")&&(t.className+=" react-grid-active"),i.a.createElement("tr",t,n)}}}}}}]),n}(o.Component),uu=Object(l.connect)((function(e){return{projectsManager:e.projectsManager,tagDatasets:e.tagDatasets,clientName:e.header.client.name,clientId:e.header.client.id,projectId:e.projectListSidebar.selectedProjectId,userFeatureConfiguration:e.app.userFeatureConfiguration,clientDataLoaded:e.projectsManager.clientDataLoaded}}),(function(e){return{hideBulkTagCell:function(){e({type:"HIDE_BULK_TAG_CELL"})},updateQuery:function(t){e(Ql(t))},updateFilters:function(t){e(Xl(t))},updateColumnSort:function(t){e(ad(t))},fetchDatasetSearch:function(t){var n=t.query,a=t.filter,r=t.projectId,o=t.startIndex,i=t.limit,s=t.sort;return e(ed({query:n,filter:a,projectId:r,startIndex:o,limit:i,sort:s}))},fetchSimulateDatasetSearch:function(t,n){e($l(t,n))},fetchDatasetStats:function(t){var n=t.projectId,a=t.filter;return e(Wl({projectId:n,filter:a}))},dispatch:e}}))(du),pu=(n(242),n(1369),n(207)),hu=n.n(pu),fu=n(330),gu=n.n(fu),mu=n(331),Su=n.n(mu);function Eu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var vu=Lr().DISPLAY_MESSAGES,Tu=function(e){at()(n,e);var t=Eu(n);function n(e){var a;return Qe()(this,n),(a=t.call(this,e)).onClickTransform=a.onClickTransform.bind(tt()(a)),a.onClickCancelTransform=a.onClickCancelTransform.bind(tt()(a)),a.onClickTagDataset=a.onClickTagDataset.bind(tt()(a)),a.onClickRetry=a.onClickRetry.bind(tt()(a)),a.onClickRemoveJob=a.onClickRemoveJob.bind(tt()(a)),a.onClickRemoveDataset=a.onClickRemoveDataset.bind(tt()(a)),a.onClickExportDataset=a.onClickExportDataset.bind(tt()(a)),a.onMouseLeave=a.onMouseLeave.bind(tt()(a)),a.activeItems={},a.props=e,a.dataset=$i.ProjectsManager.getDataset(a.props.projectId,a.props.datasetId),a.project=$i.ProjectsManager.getProject(a.props.projectId),a.state={items:a.getItems()},a}return $e()(n,[{key:"componentWillReceiveProps",value:function(e){this.props=e,this.dataset=$i.ProjectsManager.getDataset(this.props.projectId,this.props.datasetId),this.project=$i.ProjectsManager.getProject(this.props.projectId),this.setState({items:this.getItems()})}},{key:"onMouseLeave",value:function(){this.activeItems={},this.setState({items:this.getItems()})}},{key:"changeActiveItems",value:function(){this.activeItems={};for(var e=0;e<arguments.length;e++)this.activeItems[arguments[e]]=!0;this.setState({items:this.getItems()})}},{key:"getItems",value:function(){var e=this;if(!this.dataset)return[];var t=sc,n=this.props.userFeatureConfiguration,a=[];switch(this.dataset.status){case"NULL":a.push({name:"Transform",text:"Transform Dataset",onMouseEnter:function(){e.changeActiveItems("Transform")},onMouseLeave:this.onMouseLeave,className:this.activeItems.Transform?"hover":null,onClick:this.onClickTransform});break;case"QUEUED":case"RUNNING":case"STARTED":a.push({name:"Tag",text:"Tag",disabled:!0,onMouseEnter:function(){e.changeActiveItems("Tag")},onMouseLeave:this.onMouseLeave,className:this.activeItems.Tag?"hover":null,onClick:this.onClickTagDataset}),lc(t.datasetDelete,n)&&a.push({name:"RemoveDataset",text:"Delete",disabled:!0,onMouseEnter:function(){e.changeActiveItems("RemoveDataset")},onMouseLeave:this.onMouseLeave,className:this.activeItems.RemoveDataset?"hover":null,onClick:this.onClickRemoveDataset}),lc(t.datasetExportById,n)&&a.push({name:"ExportDataset",text:"Export",disabled:!0,onMouseEnter:function(){e.changeActiveItems("ExportDataset")},onMouseLeave:this.onMouseLeave,className:this.activeItems.ExportDataset?"hover":null,onClick:this.onClickExportDataset});break;case"COMPLETED":a.push({name:"Tag",text:"Tag",onMouseEnter:function(){e.changeActiveItems("Tag")},onMouseLeave:this.onMouseLeave,className:this.activeItems.Tag?"hover":null,onClick:this.onClickTagDataset}),lc(t.datasetDelete,n)&&a.push({name:"RemoveDataset",text:"Delete",onMouseEnter:function(){e.changeActiveItems("RemoveDataset")},onMouseLeave:this.onMouseLeave,className:this.activeItems.RemoveDataset?"hover":null,onClick:this.onClickRemoveDataset}),lc(t.datasetExportById,n)&&a.push({name:"ExportDataset",text:"Export",onMouseEnter:function(){e.changeActiveItems("ExportDataset")},onMouseLeave:this.onMouseLeave,className:this.activeItems.ExportDataset?"hover":null,onClick:this.onClickExportDataset});break;case"FAILED":case"CANCELLED":lc(t.datasetDelete,n)&&a.push({name:"RemoveDataset",text:"Delete",onMouseEnter:function(){e.changeActiveItems("RemoveDataset")},onMouseLeave:this.onMouseLeave,className:this.activeItems.RemoveDataset?"hover":null,onClick:this.onClickRemoveDataset})}return a}},{key:"onClickTransform",value:function(){var e=this.props,t=e.projectId,n=e.datasetId,a=e.app,r=e.client;(0,e.fetchDatasetTransform)(a.userId,n,r.id,t,a.csrfToken,!1)}},{key:"onClickCancelTransform",value:function(){var e=this.props,t=e.projectId,n=e.datasetId,a=e.app,r=e.client;(0,e.fetchCancelTransformJob)(a.userId,n,t,a.csrfToken,r.id)}},{key:"onClickTagDataset",value:function(){var e=this.props,t=e.projectId,n=e.client,a=e.datasetId,r=e.history,o=e.dispatch;o(vd({projectId:t,datasets:[a]})),o(pr(aa,{client:n,projectId:t},r))}},{key:"onClickRetry",value:function(){var e=this.props,t=e.projectId,n=e.datasetId,a=e.app,r=e.client;(0,e.fetchDatasetTransform)(a.userId,n,r.id,t,a.csrfToken,!0)}},{key:"onClickRemoveJob",value:function(){var e=this.props,t=e.projectId,n=e.datasetId,a=e.app,r=e.client;(0,e.fetchDeleteTransformJob)(a.userId,n,t,a.csrfToken,r.id)}},{key:"onClickDeleteOk",value:function(){var e=this.props,t=e.projectId,n=e.datasetId,a=e.client,r=e.removeDatasetFromProject,o=e.dispatch;r(t,n,a.id),o(rr(null))}},{key:"onClickRemoveDataset",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.projectId,r=t.datasetId,o=$i.ProjectsManager.isDatasetUsedInModel(a,r),s="Delete '".concat(this.dataset.name,"' dataset?"),c=i.a.createElement("div",null,i.a.createElement("p",null,"Are you sure you want to delete this dataset from project"," ",this.project.name,"?"),i.a.createElement("p",null,"This cannot be reversed."));n(o?tr(vu.datasetUsed):rr({header:s,dispatch:n,message:c,type:T.DIALOGS.DELETE_DIALOG,onOk:function(){return e.onClickDeleteOk()}}))}},{key:"onClickExportDataset",value:function(){var e=this.props,t=e.client,n=e.datasetId,a=zn(Jt,{projectId:this.project.id,datasetId:n,clientId:t.id});document.location=a}},{key:"render",value:function(){var e=[];return this.state.items.forEach((function(t,n){e.push(i.a.createElement(Su.a,{onClick:t.onClick,className:"dataset-menu action-menu",disabled:t.disabled,key:t.text,"data-qa":t.text},i.a.createElement("span",{className:"dataset-menu-item action-menu-item"},t.text)))})),i.a.createElement(gu.a,{responsive:!0,label:"...",className:"ActionItems"},e)}}]),n}(o.Component);Tu.propTypes={projectId:qr.a.string.isRequired,datasetId:qr.a.string.isRequired,hideItems:qr.a.object};var yu=Object(l.connect)((function(e){return{app:e.app,client:e.header.client,projectsManager:e.projectsManager,userFeatureConfiguration:e.app.userFeatureConfiguration}}),(function(e){return{fetchDatasetTransform:function(t,n,a,r,o,i){e(rl(t,n,a,r,o,i))},fetchDeleteTransformJob:function(t,n,a,r,o){e(function(e,t,n,a,r){var o=zn(Qt,{projectId:n,datasetId:t,queryParams:"",clientId:r});return function(e){return pt()(o,{credentials:"same-origin",method:"delete",headers:{"X-CSRF-TOKEN":a,"Content-Type":"application/json"}}).then(Pr.handleErrors).then((function(){e(function(e){return{type:"RESET_DATASET_TRANSFORM",value:e}}(t)),e(hi({projectId:n,datasetId:t,dataset:{status:"NULL"}}))})).catch((function(t){Pr.dispatchError(t,e,er)}))}}(0,n,a,r,o))},fetchCancelTransformJob:function(t,n,a,r,o){e(function(e,t,n,a,r){var o=zn($t,{projectId:n,datasetId:t,clientId:r});return function(e){return pt()(o,{credentials:"same-origin",method:"put",headers:{"X-CSRF-TOKEN":a,"Content-Type":"application/json"}}).then(Pr.handleErrors).then((function(e){return e.json()})).then((function(a){e({type:"PERSISTENT_REQUEST",value:"Waiting for Transformation Job to be cancelled."}),e({type:"RECEIVE_DATASET_TRANSFORM_PROGRESS",progressData:a}),e(hi({projectId:n,datasetId:t,dataset:{status:"CANCELLED"}}))})).catch((function(t){Pr.dispatchError(t,e,er)}))}}(0,n,a,r,o))},removeDatasetFromProject:function(t,n,a){e(function(e){var t=e.projectId,n=e.datasetId,a=e.clientId;return function(e,r){return new Promise((function(o,i){var s=r(),c=s.app.csrfToken,l=zn(en,{projectId:t,datasetId:n,clientId:a});pt()(l,{credentials:"same-origin",method:"delete",headers:{"X-CSRF-TOKEN":c}}).then(Pr.handleErrors).then((function(){var r;e(hs(a)),e({type:"DATASET_REMOVED_FROM_PROJECT",projectId:(r={projectId:t,datasetId:n}).projectId,datasetId:r.datasetId}),e(nr(nl.datasetDeleted)),Ja(Ya.DELETE_DATASET_COMPLETED_EVENT,s,{projectId:t,datasetId:n,clientDBId:a}),o()})).catch((function(r){Ja(Ya.DELETE_DATASET_FAILED_EVENT,s,{projectId:t,datasetId:n,clientDBId:a}),Pr.dispatchError(r,e,er),i(r)}))}))}}({projectId:t,datasetId:n,clientId:a}))},dispatch:e}}))(Object(Gc.a)(Tu)),bu=n(134),Cu=n.n(bu);function Iu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ou(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Iu(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ru=new(function(){function e(){Qe()(this,e),h()(this,"onFilteredChange",(function(e,t,n,a){var r=!0,o={},i={};e.length&&e.forEach((function(a,o){a.id===n&&(""!==t&&t.length?a.value=t:e.splice(o,1),r=!1)})),r&&e.push({id:n,value:t});var s={};return e.forEach((function(e,t){s=Object.assign(s,h()({},t,{id:e.id,value:e.value}));try{o=JSON.parse(localStorage.getItem(a))||{}}catch(e){}i=Object.assign({},h()({},t,Ou(Ou({},o[t]),s[t])))})),i=Object.assign({},o,s),localStorage.setItem(a,JSON.stringify(i)),e})),this.handleTableResizeChange=this.handleTableResizeChange.bind(this),this.getColumnWidth=this.getColumnWidth.bind(this),this.getColumnVisibility=this.getColumnVisibility.bind(this),this.onFilteredChange=this.onFilteredChange.bind(this),this.handleFilterMethod=this.handleFilterMethod.bind(this),this.getItemList=this.getItemList.bind(this)}return $e()(e,[{key:"getColumnWidth",value:function(e,t,n){return e&&e.hasOwnProperty(t)&&e[t].hasOwnProperty(T.TABLE_CONSTANTS.RESIZED_WIDTH)?e[t].resizedWidth:n}},{key:"getColumnVisibility",value:function(e,t,n){return e&&e.hasOwnProperty(t)&&e[t].hasOwnProperty(T.TABLE_CONSTANTS.VISBLE)?!e[t].visible:n}},{key:"handleTableResizeChange",value:function(e,t){var n={},a={},r={};return e&&t&&(e.forEach((function(e){var a=e.id,o=e.value;n=Object.assign(n,h()({},a,{activeCol:a,resizing:!0,resizedWidth:o}));try{r=JSON.parse(localStorage.getItem(t))||{}}catch(e){}n=Object.assign({},h()({},a,Ou(Ou({},r[a]),n[a])))})),a=Object.assign({},r,n),localStorage.setItem(t,JSON.stringify(a))),a}},{key:"handleFilterMethod",value:function(e,t,n){var a=e.id;return e.value===T.ALL||("object"===Cu()(t[a])?String(t[a][a]).indexOf(e.value)>-1:String(t[a]).indexOf(e.value)>-1)}},{key:"getItemList",value:function(e,t){var n=[T.ALL];return e.map((function(e){n.includes(e[t])||n.push(e[t])})),n}}]),e}()),ku=["message","styleOverride","children"];function Du(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Du(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Du(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Au(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var Nu=function(e){at()(n,e);var t=Au(n);function n(){return Qe()(this,n),t.apply(this,arguments)}return $e()(n,[{key:"render",value:function(){var e=this.props,t=e.message,n=e.styleOverride,a=e.children,r=Ie()(e,ku);return a?i.a.createElement("div",Je()({className:"vertical-center horizontal-center",style:_u({paddingBottom:"20px"},n)},r),a):i.a.createElement("div",Je()({className:"vertical-center horizontal-center message-default",style:n},r),t)}}]),n}(o.PureComponent);Nu.defaultProps={styleOverride:{},message:""},Nu.propTypes={children:qr.a.node,styleOverride:qr.a.object,message:qr.a.string};var Lu=Nu;function ju(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var Pu=function(e){at()(n,e);var t=ju(n);function n(e){var a;return Qe()(this,n),a=t.call(this,e),h()(tt()(a),"renderStatus",(function(e){return e.status===T.STATUS.NULL?i.a.createElement("a",{href:"javascript:;",className:"transformLink",onClick:function(){return a.onClickStatus(e)}},i.a.createElement("span",null,a.getStatus(e))):i.a.createElement("span",null,a.getStatus(e))})),h()(tt()(a),"renderName",(function(e){if(!e.isClickable)return e.name;switch(e.status){case"COMPLETED":return i.a.createElement("a",{href:"javascript:;",onClick:function(){return a.onClickName(e)}},e.name);default:return e.name}})),h()(tt()(a),"renderCreatedAt",(function(e){var t=new Date(e);return i.a.createElement("span",null," ",hu()(t,"mmmm dS, yyyy, h:MM:ss TT")," ")})),a.props=e,a.state={resizedData:{}},a.isModified=!1,a.localStorage_key=T.LOCALSTORAGE_KEY.READ_PROJECT_DATASET,a}return $e()(n,[{key:"componentDidMount",value:function(){var e={};try{e=JSON.parse(localStorage.getItem(this.localStorage_key))||{}}catch(e){}e=Object.assign({},e),this.isModified=!0,this.setState({resizedData:e})}},{key:"getStatusBadge",value:function(e,t){var n=e===T.STATUS.STARTED||e===T.STATUS.RUNNING?{type:"spinner"}:{},a=e===T.STATUS.COMPLETED?"label":"badge";return i.a.createElement(eo.StatusBadge,{category:T.STATUS_CATEGORY_MAPPING[e],label:t,onHover:function(){},progress:n,type:a,styleOverride:{border:"1px solid",borderRadius:"2px",fontWeight:"bold"}})}},{key:"onClickStatus",value:function(e){var t=this.props,n=t.app,a=t.dispatch,r=t.header,o=n.userId,i=n.csrfToken,s=r.client.id;a(rl(o,e.id,s,e.projectId,i,!1))}},{key:"getStatus",value:function(e){e&&e.percentComplete&&e.percentComplete;var t="",n=!1,a=e.status,r=a;switch(a){case"STARTED":case"RUNNING":t=T.PROCESS_TRANSFORMATION,n=!0;break;case"NULL":t=T.START_TRANSFORMATION,r=T.NEED_TRANSFORMATION,n=!0}return n?i.a.createElement(eo.Tooltip,{content:t,trigger:"hover",direction:"bottom",type:"info"},i.a.createElement("span",null,this.getStatusBadge(a,r))):i.a.createElement("span",null,this.getStatusBadge(a,r))}},{key:"onClickName",value:function(e){var t=this.props,n=t.history,a=t.dispatch;a(vd({projectId:e.projectId,datasets:[e.id]})),a(pr(aa,{clientId:e.clientId,projectId:e.projectId},n))}},{key:"render",value:function(){var e=this,t=P.a.sortBy(this.props.data,"createdAt");return t=t.reverse(),!1===this.isModified?i.a.createElement(Lu,{message:T.SEARCHING_IN_PROGRESS}):i.a.createElement(eo.Table,{resizable:!0,style:{maxHeight:"calc(95vh - 225px)",borderLeft:"unset"},data:t,columns:this.config,onResizedChange:function(t){Ru.handleTableResizeChange(t,e.localStorage_key)},defaultSorted:[{id:T.PROJECT_DATASET_TABLE.createdAt.id,desc:!0}]})}},{key:"config",get:function(){var e=this,t=this.state.resizedData;return[{Header:T.PROJECT_DATASET_TABLE.name.header,id:T.PROJECT_DATASET_TABLE.name.id,accessor:"",minWidth:Ru.getColumnWidth(t,T.PROJECT_DATASET_TABLE.name.id,100),Cell:function(t){var n=t.value;return e.renderName(n)}},{Header:T.PROJECT_DATASET_TABLE.description.header,accessor:T.PROJECT_DATASET_TABLE.description.id,minWidth:Ru.getColumnWidth(t,T.PROJECT_DATASET_TABLE.description.id,100)},{Header:T.PROJECT_DATASET_TABLE.type.header,accessor:T.PROJECT_DATASET_TABLE.type.id,minWidth:Ru.getColumnWidth(t,T.PROJECT_DATASET_TABLE.type.id,100)},{Header:T.PROJECT_DATASET_TABLE.locale.header,accessor:T.PROJECT_DATASET_TABLE.locale.id,minWidth:Ru.getColumnWidth(t,T.PROJECT_DATASET_TABLE.locale.id,100)},{Header:T.PROJECT_DATASET_TABLE.status.header,id:T.PROJECT_DATASET_TABLE.status.id,accessor:"",minWidth:Ru.getColumnWidth(t,T.PROJECT_DATASET_TABLE.status.id,100),Cell:function(t){var n=t.value;return e.renderStatus(n)}},{Header:T.PROJECT_DATASET_TABLE.user.header,accessor:T.PROJECT_DATASET_TABLE.user.id,minWidth:Ru.getColumnWidth(t,T.PROJECT_DATASET_TABLE.user.id,100)},{Header:T.PROJECT_DATASET_TABLE.createdAt.header,accessor:T.PROJECT_DATASET_TABLE.createdAt.id,minWidth:Ru.getColumnWidth(t,T.PROJECT_DATASET_TABLE.createdAt.id,150),Cell:function(t){var n=t.value;return e.renderCreatedAt(n)}},{Header:T.PROJECT_DATASET_TABLE.action.header,id:T.PROJECT_DATASET_TABLE.action.id,accessor:"",sortable:!1,minWidth:Ru.getColumnWidth(t,T.PROJECT_DATASET_TABLE.action.id,100),style:{paddingTop:"0px",paddingBottom:"0px"},Cell:function(e){var t=e.value;return i.a.createElement(yu,{projectId:t.projectId,datasetId:t.id})}}]}}]),n}(o.Component);Pu.propTypes={data:qr.a.array.isRequired,app:qr.a.object,header:qr.a.object,dispatch:qr.a.func};var wu=Object(l.connect)((function(e,t){return{app:e.app,header:e.header}}),(function(e){return{dispatch:e}}))(Pu),Mu=function(e){var t=e.kibanaLogIndex,n=e.kibanaLogURL,a=e.modelToken,r=n;if(a&&t){var o="index:".concat(t,","),i="query:(query_string:(query:'uuid:%20\"".concat(a,"\"')),");r="".concat(n).concat("#/discover?_g=(refreshInterval:(display:Off,pause:!f,value:0),time:(from:now-24h,mode:quick,to:now))").concat("&_a=(columns:!(log_message),filters:!(),").concat(o).concat("interval:auto,").concat(i).concat("sort:!('@timestamp',desc))")}return r};function xu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Bu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xu(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Uu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var Gu=function(e){at()(n,e);var t=Uu(n);function n(e){var a;return Qe()(this,n),(a=t.call(this,e)).onClickBuildModel=a.onClickBuildModel.bind(tt()(a)),a.onClickDownload=a.onClickDownload.bind(tt()(a)),a.onClickViewDigitalUrl=a.onClickViewDigitalUrl.bind(tt()(a)),a.onClickStatistics=a.onClickStatistics.bind(tt()(a)),a.onClickConfiguration=a.onClickConfiguration.bind(tt()(a)),a.onClickTrainingOutputs=a.onClickTrainingOutputs.bind(tt()(a)),a.onClickTestModel=a.onClickTestModel.bind(tt()(a)),a.onClickTuneModel=a.onClickTuneModel.bind(tt()(a)),a.onClickViewModel=a.onClickViewModel.bind(tt()(a)),a.onClickViewLogs=a.onClickViewLogs.bind(tt()(a)),a.onClickAddSpeech=a.onClickAddSpeech.bind(tt()(a)),a.getMenuItem=a.getMenuItem.bind(tt()(a)),a.onClickBuildCombinedModel=a.onClickBuildCombinedModel.bind(tt()(a)),a.downloadFile=a.downloadFile.bind(tt()(a)),a.onMouseLeave=a.onMouseLeave.bind(tt()(a)),a.onClickDeleteModel=a.onClickDeleteModel.bind(tt()(a)),a.activeItems={},a.props=e,a.state={items:a.getItems()},a}return $e()(n,[{key:"componentWillReceiveProps",value:function(e){this.props=e,this.setState({items:this.getItems()})}},{key:"onMouseLeave",value:function(){this.activeItems={},this.setState({items:this.getItems()})}},{key:"changeActiveItems",value:function(e){this.activeItems=h()({},e,!0),this.setState({items:this.getItems()})}},{key:"getMenuItem",value:function(e,t,n,a){var r=this;return{name:e,text:a||e,onMouseEnter:function(){r.changeActiveItems(e)},onMouseLeave:this.onMouseLeave,className:this.activeItems[e]?"hover":null,disabled:t,onClick:t?null:n}}},{key:"getItems",value:function(){var e=this.props,t=e.model,n=e.userFeatureConfiguration,a=e.project,r=void 0===a?{}:a;if(!t)return[];var o=sc,i=t.modelType,s=void 0===i?T.DIGITAL_MODEL:i,c=t.status,l=t.id,d=t.speechModelId,u=void 0===d?"":d,p=r.deployableModelId,h=void 0===p?"":p,f=T.STATUS,g=f.NULL,m=f.FAILED,S=f.COMPLETED,E=f.RUNNING,v=f.PREVIEW,y=f.LIVE,b=T.MODEL_ACTION_MENU,C=!c||c===g||c==m,I=c===v,O=c===y,R=c&&(c===S||I||O),k=c&&(c===g||c===E),D=h==l,_=""!=u,A=s===T.DIGITAL_MODEL,N=s===T.SPEECH_MODEL,L=A||N?[this.getMenuItem(b.BUILD,!C,this.onClickBuildModel),this.getMenuItem(b.TEST,!R,this.onClickTestModel),this.getMenuItem(b.TUNE,!1,this.onClickTuneModel),this.getMenuItem(b.VIEW,!1,this.onClickViewModel)]:[this.getMenuItem(b.TEST,!R,this.onClickTestModel)];if(A||N||lc(o.speechBundledUnbundled,n)&&L.push(this.getMenuItem(b.VIEW_DIGITAL_URL,!R,this.onClickViewDigitalUrl)),lc(o.modelDownload,n)&&L.push(this.getMenuItem(b.MODEL_FILE,!R,this.onClickDownload)),A&&lc(o.modelTrainingOutputs,n)&&L.push(this.getMenuItem(b.TRAINING_OUTPUTS,!R,this.onClickTrainingOutputs)),A&&L.push(this.getMenuItem(b.ACCURACY_REPORT,!R,this.onClickStatistics)),A&&lc(o.modelConfigDownload,n)&&L.push(this.getMenuItem(b.CONFIGURATION,!1,this.onClickConfiguration,"Download Configuration")),A){var j=b.ADD_SPEECH;_&&(j=b.REBUILD_SPEECH),L.push(this.getMenuItem(j,!R,this.onClickAddSpeech))}return lc(o.kibanaLogs,n)&&L.push(this.getMenuItem(b.VIEW_LOGS,!1,this.onClickViewLogs)),N&&L.push(this.getMenuItem(b.BUILD_COMBINED_MODEL,!1,this.onClickBuildCombinedModel)),!A||!lc(o.modelDelete,n)||D||I||O||L.push(this.getMenuItem(b.DELETE,k,this.onClickDeleteModel)),L}},{key:"downloadFile",value:function(e){var t=this.props,n=t.modelId,a=t.projectId,r=t.clientId,o=t.configId,i=zn(e,{modelId:n,projectId:a,clientId:r,configId:o});document.location=i}},{key:"onClickBuildModel",value:function(){var e=this.props,t=e.dispatch,n=e.projectId,a=e.modelId;t(Fs({projectId:n,modelId:a}))}},{key:"onClickTestModel",value:function(){var e=this.props,t=e.projectId,n=e.modelId,a=e.history,r=e.clientId,o=e.dispatch;o({type:"CLEAR_LIST_BATCH_TESTS_INFO"}),o(pr(ga,{clientId:r,projectId:t,modelId:n},a))}},{key:"onClickBuildCombinedModel",value:function(){var e=this.props,t=e.projectId,n=e.modelId,a=e.history,r=e.clientId,o=e.dispatch;o(rr({header:"Add Digital Url",type:T.DIALOGS.ADD_COMBINED_SPEECH,projectId:t,history:a,modelId:n,clientId:r,dispatch:o}))}},{key:"onClickDownload",value:function(){var e=this.props,t=e.projectId,n=e.modelId,a=e.clientId,r=e.state,o=e.model.modelType;Ja(Ya.DOWNLOAD_MODEL_EVENT,r,{projectId:t,clientDBId:a,modelDBId:n,modelType:o}),this.downloadFile(un)}},{key:"onClickStatistics",value:function(){this.downloadFile(pn)}},{key:"onClickTrainingOutputs",value:function(){var e=this.props,t=e.dispatch,n=e.model;if(Date.now()-n.created>24*T.TRAINING_OUTPUT_PURGE_TTL_IN_DAYS*60*60*1e3){var a=T.TRAINING_OUTPUT_PURGE_MESSAGE_HEADER,r=T.TRAINING_OUTPUT_PURGE_MESSAGE_BODY;t(rr({header:a,dispatch:t,message:r,showSpinner:!1,okVisible:!0,cancelVisible:!1,closeIconVisible:!1,showHeader:!0,showFooter:!0,type:T.DIALOGS.PROGRESS_DIALOG,okChildren:"OK",onOk:function(){t(rr(null))},styleOverride:{childContainer:{marginLeft:"30px",marginRight:"30px"},content:{top:"160px"}}}))}else this.downloadFile(hn)}},{key:"onClickConfiguration",value:function(){this.downloadFile(fn)}},{key:"onClickTuneModel",value:function(){var e=this.props,t=e.projectId,n=e.model,a=e.history,r=e.clientId,o=e.dispatch;o(Us(n)),"SPEECH"===n.modelType?o(pr(fa,{clientId:r,projectId:t},a)):o(pr(ua,{clientId:r,projectId:t},a))}},{key:"onClickViewModel",value:function(){var e=this.props,t=e.projectId,n=e.history,a=e.clientId,r=e.dispatch,o=e.model;r(Gs(o)),"SPEECH"===o.modelType?r(pr(ha,{clientId:a,projectId:t},n)):r(pr(pa,{clientId:a,projectId:t},n))}},{key:"onClickAddSpeech",value:function(){var e=this.props,t=e.dispatch,n=e.model,a=e.datasets,r=e.userFeatureConfiguration;t(rr({type:T.DIALOGS.ADD_SPEECH,dispatch:t,userFeatureConfiguration:r,model:n,datasets:a}))}},{key:"onClickViewLogs",value:function(){var e=this.props,t=e.model,n=e.kibanaLogIndex,a=e.kibanaLogURL,r=Mu({kibanaLogIndex:n,kibanaLogURL:a,modelToken:t.modelToken});window.open(r,"_blank").focus()}},{key:"onClickViewDigitalUrl",value:function(){var e=this.props,t=e.dispatch,n=e.model,a=e.orionURL,r=n.digitalHostedUrl,o=void 0===r?"":r;o||(o="".concat(a,"/").concat(n.modelToken,"/digital"));var s=i.a.createElement("div",null,i.a.createElement("p",null,'URL of Digital Model is: "',o,'"'));t(rr({dispatch:t,type:T.DIALOGS.PROGRESS_DIALOG,message:s,header:T.DIGITAL_URL,showHeader:!0,showFooter:!0,cancelVisible:!0,okVisible:!1,showSpinner:!1,closeIconVisible:!0,cancelChildren:T.CLOSE,styleOverride:Bu({childContainer:{margin:"25px 0px 25px 0px"},content:{top:"160px"}},Ho)}))}},{key:"onClickDeleteModel",value:function(){var e=this.props,t=e.dispatch,n=e.model,a=e.modelId,r=e.projectId,o=e.clientId,s="Delete 'Version ".concat(n.version,"' ?");t(rr({header:s,dispatch:t,message:i.a.createElement("div",null,i.a.createElement("p",null,"Please note that dependent speech model also will be deleted along with digital model. Your model config file and datasets are still available if you choose to rebuild the model later.")),type:T.DIALOGS.DELETE_DIALOG,onOk:function(){t(xs({clientId:o,projectId:r,modelId:a})),t(rr(null))}}))}},{key:"render",value:function(){var e=[];return this.state.items.forEach((function(t,n){e.push(i.a.createElement(Su.a,{onClick:t.onClick,className:"dataset-menu action-menu",disabled:t.disabled,key:t.text,"data-qa":t.text},i.a.createElement("span",{className:"dataset-menu-item action-menu-item"},t.text)))})),i.a.createElement(gu.a,{responsive:!0,label:"...",className:"ActionItems"},e)}}]),n}(o.Component);Gu.propTypes={projectId:qr.a.string.isRequired,modelId:qr.a.string.isRequired,clientId:qr.a.string.isRequired,configId:qr.a.string.isRequired,kibanaLogIndex:qr.a.string,kibanaLogURL:qr.a.string,userFeatureConfiguration:qr.a.object,model:qr.a.object,datasets:qr.a.object,dispatch:qr.a.func,project:qr.a.object};var Fu=Object(l.connect)((function(e,t){return{state:e,orionURL:e.app.orionURL,datasets:$i.ProjectsManager.getDatasetsByProjectId(t.projectId,!0)||null,model:$i.ProjectsManager.getModel(t.projectId,t.modelId)||null,kibanaLogIndex:e.app.kibanaLogIndex,kibanaLogURL:e.app.kibanaLogURL,userFeatureConfiguration:e.app.userFeatureConfiguration,clientId:e.header.client.id,project:$i.ProjectsManager.getProject(t.projectId)||null}}),(function(e){return{dispatch:e}}))(Object(Gc.a)(Gu));function Vu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Hu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vu(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var Wu=function(e){at()(n,e);var t=qu(n);function n(e){var a;return Qe()(this,n),a=t.call(this,e),h()(tt()(a),"renderModelVersion",(function(e){return i.a.createElement("a",{href:"javascript:;",onClick:function(){a.onClickModelVersion(e)}},i.a.createElement("span",null,e.version))})),h()(tt()(a),"onClickModelVersion",(function(e){var t=a.props,n=t.projectId,r=t.history,o=t.clientId,i=t.dispatch;i(Gs(e)),"SPEECH"===e.modelType?i(pr(ha,{clientId:o,projectId:n},r)):i(pr(pa,{clientId:o,projectId:n},r))})),h()(tt()(a),"renderDataset",(function(e){var t=[];return e.datasetIds&&e.datasetIds.length&&e.datasetIds.forEach((function(n){var a=$i.ProjectsManager.getDataset(e.projectId,n);a&&a.name&&t.push(a.name)})),i.a.createElement("span",null,t.join(", "))})),h()(tt()(a),"renderDescription",(function(e){var t=a.props.data;return i.a.createElement($d,{stateKey:"ModelDescription",value:e.value,rowIndex:e.index,columnIndex:0,maxRowIndex:t?t.length-1:0,maxColumnIndex:1,stopClickPropagation:!0,activateNextCellOnEnter:!0,onValidChange:function(e){},onChange:function(t){return a.onChange(t,e)}})})),h()(tt()(a),"renderModelId",(function(e){var t;return e&&e.modelToken&&void 0!==e.modelToken&&(t=e.modelToken),void 0!==t&&"undefined"!==t||(t=""),i.a.createElement("span",null,t)})),h()(tt()(a),"renderTechnology",(function(e){var t=T.MODEL_TYPE[e.modelType],n=e.vectorizerTechnology,a=e.vectorizer_technology_version,r=new RegExp("^use");return t==T.MODEL_TYPE.SPEECH?(n=T.TECHNOLOGY.SPEECH_SLM,a=null):n==T.TECHNOLOGY.NGRAM?(n=T.TECHNOLOGY.DIGITAL_NGRAM,a=null):r.test(n)&&(n=T.TENSORFLOW_TYPE[n],a=T.TENSORFLOW_TYPE_VERSION(n,a),n=T.TECHNOLOGY.DIGITAL_TENSORFLOW),t==T.MODEL_TYPE.DIGITAL_SPEECH?i.a.createElement("span",null,T.TECHNOLOGY.SPEECH_SLM,i.a.createElement("hr",null),n,i.a.createElement("br",null),i.a.createElement("small",null,a)):i.a.createElement("span",null,n,i.a.createElement("br",null),i.a.createElement("small",null,a))})),h()(tt()(a),"renderType",(function(e){return T.MODEL_TYPE[e.modelType]==T.MODEL_TYPE.DIGITAL_SPEECH?i.a.createElement("span",null,T.MODEL_TYPE.SPEECH,i.a.createElement("hr",null),T.MODEL_TYPE.DIGITAL):i.a.createElement("span",null,T.MODEL_TYPE[e.modelType])})),h()(tt()(a),"renderDate",(function(e){var t=new Date(e);return i.a.createElement("span",null," ",hu()(t,"mmmm dS, yyyy, h:MM:ss TT")," ")})),h()(tt()(a),"renderStatus",(function(e){var t=a.props.project,n=void 0===t?{}:t,r=T.STATUS,o=r.PREVIEW,s=r.LIVE,c=e.id;return n&&n.previewModelId&&n.previewModelId===c&&(e.status=o),n&&n.liveModelId&&n.liveModelId===c&&(e.status=s),i.a.createElement("span",null,a.getStatus(e))})),a.props=e,a.state={resizedData:{},statusDataCell:{}},a.isModified=!1,a.cellEditableStateKey="ModelDescription",a.handleDeployableModel=a.handleDeployableModel.bind(tt()(a)),a.handleCellValueChange=a.handleCellValueChange.bind(tt()(a)),a.getEditorMultiline=a.getEditorMultiline.bind(tt()(a)),a.updateStatusForCell=a.updateStatusForCell.bind(tt()(a)),a.handleUndeployableModel=a.handleUndeployableModel.bind(tt()(a)),a.handleDeploy=null,a.renderStar=a.renderStar.bind(tt()(a)),a.onClickMarkForDeploy=a.onClickMarkForDeploy.bind(tt()(a)),a.localStorage_key=T.LOCALSTORAGE_KEY.READ_PROJECT_MODEL,a}return $e()(n,[{key:"componentDidMount",value:function(){var e={},t=this.props,n=t.dispatch,a=t.clientId,r=t.projectId;n(vo({clientId:a,projectId:r})),n(yd({stateKey:this.cellEditableStateKey}));try{e=JSON.parse(localStorage.getItem(this.localStorage_key))||{}}catch(e){}e=Object.assign({},e),this.isModified=!0,this.setState({resizedData:e})}},{key:"componentWillUnmount",value:function(){(0,this.props.dispatch)(bd({stateKey:this.cellEditableStateKey}))}},{key:"handleCellValueChange",value:function(e,t){var n=this.props,a=n.dispatch,r=n.clientId,o=n.data,i=P.a.sortBy(o,"version"),s=this.state.statusDataCell,c=P.a.cloneDeep(i),l=t.column.id,d=t.row.id;if(c[t.index][l]!==e){var u=Object.assign({},t.original,{description:e});a(Ws({clientId:r,model:u})),this.updateStatusForCell(d,l,null)}else s[d]&&s[d][l]&&s[d][l].indexOf("not saved")&&this.updateStatusForCell(d,l,null)}},{key:"updateStatusForCell",value:function(e,t,n){var a=P.a.cloneDeep(this.state.statusDataCell);a[e]||(a[e]={}),a[e][t]=n,this.setState({statusDataCell:a})}},{key:"handleDeployableModel",value:function(e,t){var n=this.props,a=n.dispatch;a(function(e){var t=e.clientId,n=e.projectId,a=e.modelId,r=e.model;return function(e,o){return new Promise((function(i,s){var c=parseInt(a,10),l=[{op:T.OP.REPLACE,path:"/deployableModelId",value:c||null}],d=zn(At,{clientId:t,projectId:n});return new Promise((function(t,a){Za.patch({dispatch:e,getState:o,url:d,headers:{"Content-Type":"application/json-patch+json"},data:l,onApiSuccess:function(e){return ss(e,n,ns.markModelFlagSuccess(r.version))},onApiError:function(e){return gs(e,r.version)}})}))}))}}({clientId:n.clientId,projectId:n.projectId,modelId:t,model:e})),a(rr(null))}},{key:"handleUndeployableModel",value:function(e,t){var n=this.props,a=n.dispatch;a(function(e){var t=e.clientId,n=e.projectId,a=e.model;return function(e,r){return new Promise((function(o,i){var s=[{op:T.OP.REPLACE,path:"/deployableModelId",value:null}],c=zn(At,{clientId:t,projectId:n});return new Promise((function(t,o){Za.patch({dispatch:e,getState:r,url:c,headers:{"Content-Type":"application/json-patch+json"},data:s,onApiSuccess:function(e){return ss(e,n,ns.unmarkModelFlagSuccess(a.version))},onApiError:function(e){return ms(e,a.version)}})}))}))}}({clientId:n.clientId,projectId:n.projectId,model:e})),a(rr(null))}},{key:"onClickMarkForDeploy",value:function(e,t){var n=this,a=this.props,r=a.dispatch,o=a.projectId,i=t?T.UNMARK_FOR_DEPLOY_MESSAGE_HEADER:T.MARK_FOR_DEPLOY_MESSAGE_HEADER,s=t?T.UNMARK_FOR_DEPLOY_MESSAGE_BODY:T.MARK_FOR_DEPLOY_MESSAGE_BODY,c=t?T.OK_CHILDREN_UNMARK_FOR_DEPLOY:T.OK_CHILDREN_MARK_FOR_DEPLOY;this.handleDeploy=t?this.handleUndeployableModel.bind(this):this.handleDeployableModel.bind(this);var l=$i.ProjectsManager.getModel(o,e)||null;r(rr({header:i,dispatch:r,message:s,showSpinner:!1,okVisible:!0,cancelVisible:!0,cancelChildren:T.CANCEL,showHeader:!0,showFooter:!0,closeIconVisible:!0,type:T.DIALOGS.PROGRESS_DIALOG,okChildren:c,onOk:function(){return n.handleDeploy(l,e)},styleOverride:Hu({childContainer:{marginTop:"10px",marginLeft:"-5px",marginRight:"30px"},container:{width:"460px",height:"280px",display:"grid",gridTemplateRows:"60px auto 60px"}},Ho)}))}},{key:"renderStar",value:function(e){var t=this,n=this.props,a=n.project,r=void 0===a?{}:a,o=n.roles,s={},c="",l=!1,d=e.id,u=e.status,p=e.modelType,h=T.MARK_FOR_DEPLOY_MESSAGE_HEADER,f=T.STATUS.COMPLETED,g=u&&u===f,m=o.includes(T.ADMIN_ROLE)||o.includes(T.OPERATOR_ROLE);return r&&r.deployableModelId&&(c=r.deployableModelId.toString()),d===c?(s.fill=ko,s.stroke=ko,l=!0,h=T.UNMARK_FOR_DEPLOY_MESSAGE_HEADER):(s.fill=Oo,s.stroke=Io),i.a.createElement(eo.Button,{type:"flat",title:h,name:"starred-model",styleOverride:{height:"auto",marginLeft:"10px",minHeight:"0px",":hover":{boxShadow:"none"},":focus":{outline:"none"}},disabled:!g||!m||p==T.DIGITAL_SPEECH_MODEL,onClick:function(){return t.onClickMarkForDeploy(d,l)}},i.a.createElement(eo.RatingIcon,Je()({height:18,width:18,strokeWidth:30},s)))}},{key:"onChange",value:function(e,t){var n=this.props,a=n.dispatch,r=n.clientId,o=Object.assign({},t.original,{description:e});a(Ws({clientId:r,model:o}))}},{key:"getEditorMultiline",value:function(e){var t=this,n="editable-cell";return e.column.id==T.PROJECT_MODELS_TABLE.description.id&&(n+=""),i.a.createElement("div",null,i.a.createElement("div",{className:n,contentEditable:!0,suppressContentEditableWarning:!0,onBlur:function(n){t.handleCellValueChange(n.target.innerText,e)}},e.value))}},{key:"getStatusBadge",value:function(e){var t=e===T.STATUS.RUNNING?{type:"spinner"}:{},n=e===T.STATUS.COMPLETED?"label":"badge";return i.a.createElement(eo.StatusBadge,{category:T.STATUS_CATEGORY_MAPPING[e],label:e,onHover:function(){},progress:t,type:n,styleOverride:{border:"1px solid",borderRadius:"2px",fontWeight:"bold"}})}},{key:"getStatus",value:function(e){var t="",n=!0,a=P.a.isNil(e.status)?"NULL":e.status;switch(a){case"NULL":t="Build has not started";break;case"QUEUED":n=!1;break;case"RUNNING":t=P.a.isNil(e.statusMessage)?"Model status not available":e.statusMessage;break;case"COMPLETED":case"PREVIEW":case"LIVE":n=!1;break;case"FAILED":case"ERROR":t=P.a.isNil(e.statusMessage)?"Model status not available":e.statusMessage;break;default:t="There was an error obtaining the model status"}return n?i.a.createElement(eo.Tooltip,{content:t,trigger:"hover",direction:"bottom",type:"info"},i.a.createElement("span",null,this.getStatusBadge(a))):i.a.createElement("span",null,this.getStatusBadge(a))}},{key:"config",get:function(){var e=this,t=this.state.resizedData;return[{Header:T.PROJECT_MODELS_TABLE.starred.header,accessor:T.PROJECT_MODELS_TABLE.starred.id,minWidth:Ru.getColumnWidth(t,T.PROJECT_MODELS_TABLE.starred.id,90),Cell:function(t){var n=t.original;return e.renderStar(n)}},{Header:T.PROJECT_MODELS_TABLE.version.header,id:T.PROJECT_MODELS_TABLE.version.id,minWidth:Ru.getColumnWidth(t,T.PROJECT_MODELS_TABLE.version.id,95),accessor:"",Cell:function(t){var n=t.value;return e.renderModelVersion(n)}},{Header:T.PROJECT_MODELS_TABLE.datasets.header,id:T.PROJECT_MODELS_TABLE.datasets.id,minWidth:Ru.getColumnWidth(t,T.PROJECT_MODELS_TABLE.datasets.id,100),accessor:"",Cell:function(t){var n=t.value;return e.renderDataset(n)}},{Header:T.PROJECT_MODELS_TABLE.description.header,accessor:T.PROJECT_MODELS_TABLE.description.id,minWidth:Ru.getColumnWidth(t,T.PROJECT_MODELS_TABLE.description.id,120),Cell:this.getEditorMultiline},{Header:T.PROJECT_MODELS_TABLE.type.header,accessor:T.PROJECT_MODELS_TABLE.type.id,minWidth:Ru.getColumnWidth(t,T.PROJECT_MODELS_TABLE.type.id,90),Cell:function(t){var n=t.value;return e.renderType(n)}},{Header:T.PROJECT_MODELS_TABLE.technology.header,accessor:"",id:T.PROJECT_MODELS_TABLE.type.id,minWidth:Ru.getColumnWidth(t,T.PROJECT_MODELS_TABLE.type.id,90),Cell:function(t){var n=t.value;return e.renderTechnology(n)}},{Header:T.PROJECT_MODELS_TABLE.status.header,id:T.PROJECT_MODELS_TABLE.status.id,accessor:"",minWidth:Ru.getColumnWidth(t,T.PROJECT_MODELS_TABLE.status.id,120),Cell:function(t){var n=t.value;return e.renderStatus(n)}},{Header:T.PROJECT_MODELS_TABLE.modelId.header,accessor:"",id:T.PROJECT_MODELS_TABLE.modelId.id,minWidth:Ru.getColumnWidth(t,T.PROJECT_MODELS_TABLE.modelId.id,120),Cell:function(t){var n=t.value;return e.renderModelId(n)}},{Header:T.PROJECT_MODELS_TABLE.user.header,accessor:T.PROJECT_MODELS_TABLE.user.id,minWidth:Ru.getColumnWidth(t,T.PROJECT_MODELS_TABLE.user.id,90)},{Header:T.PROJECT_MODELS_TABLE.created.header,accessor:T.PROJECT_MODELS_TABLE.created.id,minWidth:Ru.getColumnWidth(t,T.PROJECT_MODELS_TABLE.created.id,130),Cell:function(t){var n=t.value;return e.renderDate(n)}},{Header:T.PROJECT_MODELS_TABLE.action.header,id:T.PROJECT_MODELS_TABLE.action.id,accessor:"",sortable:!1,minWidth:Ru.getColumnWidth(t,T.PROJECT_MODELS_TABLE.action.id,100),style:{paddingTop:"0px",paddingBottom:"0px"},Cell:function(e){var t=e.original;return i.a.createElement(Fu,{projectId:t.projectId,modelId:t.id,configId:t.configId})}}]}},{key:"render",value:function(){var e=this,t=this.props.data,n=P.a.sortBy(t,"version");return!1===this.isModified?i.a.createElement(Lu,{message:T.SEARCHING_IN_PROGRESS}):i.a.createElement(eo.Table,{style:{maxHeight:"calc(95vh - 225px)",borderLeft:"unset"},resizable:!0,data:n,filtered:this.props.filtered,defaultFilterMethod:function(e,t,n){return Ru.handleFilterMethod(e,t,n)},columns:this.config,onResizedChange:function(t){Ru.handleTableResizeChange(t,e.localStorage_key)},defaultSorted:[{id:T.PROJECT_MODELS_TABLE.created.id,desc:!0}]})}}]),n}(o.Component);Wu.propTypes={data:qr.a.array.isRequired,kibanaLogIndex:qr.a.string,kibanaLogURL:qr.a.string,userFeatureConfiguration:qr.a.object,featureFlags:qr.a.object,clientId:qr.a.string,projectId:qr.a.string,history:qr.a.object,dispatch:qr.a.func,roles:qr.a.array};var Ku=Object(l.connect)((function(e){var t=e.projectListSidebar.selectedProjectId;return{project:$i.ProjectsManager.getProject(t)||null}}),(function(e){return{dispatch:e}}))(Wu);function zu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var Yu=function(e,t){var n=t?t.toArray():[];return e&&e.forEach((function(e){var t=P.a.findIndex(n,(function(t){return t.id==e.configId}));t>-1&&n.length>t&&(e.configName=n[t].name)})),e},Ju=function(e){at()(n,e);var t=zu(n);function n(e,a){var r;Qe()(this,n),r=t.call(this,e,a),h()(tt()(r),"renderPlaceholder",(function(){return r.props.isAnyDatasetTransformed?i.a.createElement(Lu,null,i.a.createElement("div",{className:"message-default"},T.CREATE_FIRST_VERSION_MESSAGE),i.a.createElement(eo.Button,{type:"flat",name:"upload-2",onClick:r.onClickCreateVersionModel},i.a.createElement(eo.ContextualActionItem,null,i.a.createElement(eo.Pencil,{width:"10px",height:"10px",fill:"none",stroke:"#004C97"}),i.a.createElement("span",null," CREATE NEW VERSION")))):i.a.createElement(Lu,{message:T.DATASET_NOT_AVAILABLE_MESSAGE})})),r.props=e,r.onClickCreateVersionModel=r.onClickCreateVersionModel.bind(tt()(r)),r.getIndex=r.getIndex.bind(tt()(r)),r.handleFilterChange=r.handleFilterChange.bind(tt()(r)),r.localStorage_key=T.LOCALSTORAGE_KEY.MODEL_VIEW;var o=r.props.models?r.props.models.toArray():[];o.sort((function(e){return e.updated||e.created})),o=r.props.models?Yu(o,r.props.configs):[];var s=r.getIndex(r.localStorage_key,o,T.PROJECT_MODELS_TABLE.status.id),c=r.getIndex(r.localStorage_key,o,T.PROJECT_MODELS_TABLE.user.id);return r.state={modelsArray:o,filtered:[],selectedStatusIndex:s,selectedUserIdIndex:c},r}return $e()(n,[{key:"componentDidMount",value:function(){var e={};try{e=JSON.parse(localStorage.getItem(this.localStorage_key))||{}}catch(e){}e=Object.assign({},e);var t=Object.keys(e).map((function(t){return e[t]}));this.setState({filtered:t})}},{key:"getIndex",value:function(e,t,n){var a={},r=0;if(e){try{a=JSON.parse(localStorage.getItem(e))||{}}catch(e){}return a=Object.assign({},a),Object.keys(a).map((function(e){return a[e]})).forEach((function(e){if(e.id===n){var a=Ru.getItemList(t,n);return r=a.indexOf(e.value)}})),r}}},{key:"onClickCreateVersionModel",value:function(){event.stopPropagation();var e=this.props,t=(e.project,e.dispatch),n=e.clientId,a=e.projectId,r=e.history,o=e.isAnyDatasetTransformed;t(rr({header:"Select Model Type",type:T.DIALOGS.CREATE_VERSION_DIALOG,projectId:a,history:r,isAnyDatasetTransformed:o,clientId:n,dispatch:t}))}},{key:"handleFilterChange",value:function(e,t,n){var a=Ru.onFilteredChange(e,t,n,this.localStorage_key);this.setState({filtered:a})}},{key:"render",value:function(){var e=this,t=this.props,n=(t.loadingModels,t.models,t.projectId),a=(t.isAnyDatasetTransformed,t.history),r=t.clientId,o=t.kibanaLogIndex,s=t.kibanaLogURL,c=t.userFeatureConfiguration,l=t.featureFlags,d=t.dispatch,u=t.roles,p=this.state,h=p.modelsArray,f=p.filtered,g=p.selectedUserIdIndex,m=p.selectedStatusIndex;return i.a.createElement("div",{id:"ReadProjectDatasetsDetails",className:"models_dataset"},i.a.createElement("div",{style:_o},i.a.createElement(eo.ContextualActionsBar,{styleOverride:_o.contextualBar},i.a.createElement(eo.ContextualActionItem,{styleOverride:{paddingRight:"20px"},right:!0},h.length>0&&i.a.createElement(eo.DropDown,{itemList:Ru.getItemList(h,T.PROJECT_MODELS_TABLE.status.id),labelName:"STATUS",selectedIndex:m,styleOverride:Ao,onItemSelected:function(t){e.handleFilterChange(f,t,T.PROJECT_MODELS_TABLE.status.id)}})),i.a.createElement(eo.ContextualActionItem,{right:!0},h.length>0&&i.a.createElement(eo.DropDown,{itemList:Ru.getItemList(h,T.PROJECT_MODELS_TABLE.user.id),labelName:"CREATED BY",selectedIndex:g,styleOverride:Ao,onItemSelected:function(t){e.handleFilterChange(f,t,T.PROJECT_MODELS_TABLE.user.id)}})))),h.length?i.a.createElement(Ku,{data:h,kibanaLogIndex:o,kibanaLogURL:s,userFeatureConfiguration:c,filtered:f,featureFlags:l,clientId:r,roles:u,projectId:n,history:a,dispatch:d}):this.renderPlaceholder())}}],[{key:"getDerivedStateFromProps",value:function(e){var t=e.models?e.models.toArray():[];return t.sort((function(e){return e.updated||e.created})),{modelsArray:t=e.models?Yu(t,e.configs):[]}}}]),n}(o.Component);Ju.propTypes={loadingModels:qr.a.bool,models:qr.a.object,configs:qr.a.object,projectId:qr.a.string,clientId:qr.a.string,isAnyDatasetTransformed:qr.a.bool,kibanaLogIndex:qr.a.string,kibanaLogURL:qr.a.string,userFeatureConfiguration:qr.a.object,featureFlags:qr.a.object,dispatch:qr.a.func,history:qr.a.object,roles:qr.a.array};var Xu=Object(Gc.a)(Ju);function Qu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Zu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qu(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var ep=function(e){at()(n,e);var t=$u(n);function n(e){var a;return Qe()(this,n),a=t.call(this,e),h()(tt()(a),"getFillColor",(function(){var e=a.props,t=e.focusedColor,n=e.defaultColor,r=e.disabledColor,o=e.disabled,i=a.state.focus;return o?r:i?t:n})),h()(tt()(a),"getStrokeColor",(function(){return a.props.strokeColor})),a.props=e,a.onFocus=a.onFocus.bind(tt()(a)),a.clearFocus=a.clearFocus.bind(tt()(a)),a.state={focus:!1},a}return $e()(n,[{key:"onFocus",value:function(){this.setState({focus:!0})}},{key:"clearFocus",value:function(){this.setState({focus:!1})}},{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.icon,a=e.height,r=e.width,o=e.padding,s=e.title,c=e.disabled,l=(e.className,e.styleOverride);return i.a.createElement(eo.Button,{onClick:t,type:"flat",styleOverride:Zu({height:"auto",minHeight:"0px",border:"none",padding:o,backgroundColor:"initial",color:"#004C97",":hover":{color:"#003467",boxShadow:"none"},":focus":{outline:"none"}},l),disabled:c,onBlur:this.clearFocus,onFocus:this.onFocus,onMouseEnter:this.onFocus,onMouseOver:this.onFocus,onMouseLeave:this.clearFocus,onMouseOut:this.clearFocus,name:"action-button",title:s,tabIndex:0},i.a.createElement(n,{fill:this.getFillColor(),stroke:this.getStrokeColor(),width:r,height:a}))}}]),n}(o.Component);ep.propTypes={icon:qr.a.func.isRequired,onClick:qr.a.func,width:qr.a.oneOfType([qr.a.number,qr.a.string]),height:qr.a.oneOfType([qr.a.number,qr.a.string]),padding:qr.a.string,focusedColor:qr.a.string,defaultColor:qr.a.string,disabledColor:qr.a.string,title:qr.a.string,disabled:qr.a.bool,styleOverride:qr.a.object},ep.defaultProps={onClick:function(){},width:10,height:10,padding:"1px",focusedColor:Ro,defaultColor:ko,strokeColor:"none",disabledColor:Co,title:"",disabled:!1,styleOverride:{}};var tp=ep;function np(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var ap=T.TAGGING_GUIDE_TABLE,rp=function(e){at()(n,e);var t=np(n);function n(e){var a,r;return Qe()(this,n),(r=t.call(this,e)).props=e,r.getEditorMultiline=r.getEditorMultiline.bind(tt()(r)),r.getStatusIndicator=r.getStatusIndicator.bind(tt()(r)),r.updateStatusForCell=r.updateStatusForCell.bind(tt()(r)),r.handleDeleteIntent=r.handleDeleteIntent.bind(tt()(r)),r.handleCellValueChange=r.handleCellValueChange.bind(tt()(r)),r.timeoutCellStatus=null,r.isModified=!1,r.state={statusDataCell:{},resizedData:{}},r.status={saving:"Saving",failed:"Failed to save",invalid:"Invalid entry"},r.statusIcon=(a={},h()(a,r.status.saving,i.a.createElement(eo.DashedSpinner,{height:"10px",width:"10px"})),h()(a,r.status.failed,i.a.createElement(eo.AlertIcon,{width:"10px",height:"10px",style:{marginTop:"-3px"}})),h()(a,r.status.invalid,i.a.createElement(eo.AlertIcon,{width:"10px",height:"10px",style:{marginTop:"-3px"}})),a),r.localStorage_key=T.LOCALSTORAGE_KEY.INTENTS_TABLE,r}return $e()(n,[{key:"componentDidMount",value:function(){var e={};try{e=JSON.parse(localStorage.getItem(this.localStorage_key))||{}}catch(e){}e=Object.assign({},e),this.isModified=!0,this.setState({resizedData:e})}},{key:"handleCellValueChange",value:function(e,t){var n=this,a=this.props,r=a.dispatch,o=a.userId,i=a.csrfToken,s=a.clientId,c=a.projectId,l=a.validateData,d=this.state.statusDataCell,u=P.a.cloneDeep(this.props.intents),p=t.column.id,h=t.row.id,f=t.index;u[f][p]!==e?l(e,t.column.id)?(u[t.index][p]=e,this.updateStatusForCell(h,p,this.status.saving),r(function(e){e.userId;var t=e.csrfToken,n=e.projectId,a=e.objectId,r=e.values,o=e.clientId;return function(e){return new Promise((function(i,s){e(function(e,t,n){return{type:"TAGGING_GUIDE_REQUEST_TAG_UPDATE",projectId:e,objectId:t,values:n}}(n,a,r));var c=[{op:"REPLACE",path:"/intent",value:r.intent||""},{op:"REPLACE",path:"/rutag",value:r.rutag||""},{op:"REPLACE",path:"/description",value:r.description||""},{op:"REPLACE",path:"/keywords",value:r.keywords||""},{op:"REPLACE",path:"/examples",value:r.examples||""},{op:"REPLACE",path:"/comments",value:r.comments||""}],l=zn(vn,{projectId:n,intentId:a,clientId:o});pt()(l,{credentials:"same-origin",method:"PATCH",headers:{"X-CSRF-TOKEN":t,"Content-Type":"application/json-patch+json"},body:JSON.stringify(c)}).then(Pr.handleErrors).then((function(e){return e.json()})).then((function(t){e(function(e,t,n){return{type:"TAGGING_GUIDE_RECEIVE_TAG_UPDATE",projectId:e,objectId:t,values:n}}(n,a,t)),i()})).catch((function(t){Pr.dispatchError(t,e,er),s(t)}))}))}}({userId:o,csrfToken:i,projectId:c,objectId:h,values:u[f],clientId:s})).then((function(){n.updateStatusForCell(h,p,null)})).catch((function(e){n.updateStatusForCell(h,p,n.status.failed,!1)}))):this.updateStatusForCell(h,p,this.status.invalid,!1):d[h]&&d[h][p]&&d[h][p].indexOf("not saved")&&this.updateStatusForCell(h,p,null)}},{key:"handleDeleteIntent",value:function(e){var t=this.props,n=t.dispatch,a=t.userId,r=t.csrfToken,o=t.clientId;n(function(e){e.userId;var t=e.csrfToken,n=e.projectId,a=e.objectId,r=e.index,o=e.clientId;return function(e){return new Promise((function(i,s){e(function(e,t,n){return{type:"TAGGING_GUIDE_REQUEST_TAG_REMOVE",projectId:e,objectId:t,index:n}}(n,a,r));var c=zn(vn,{projectId:n,intentId:a,clientId:o});pt()(c,{credentials:"same-origin",method:"delete",headers:{"X-CSRF-TOKEN":t}}).then(Pr.handleErrors).then((function(){e(function(e,t,n){return{type:"TAGGING_GUIDE_RECEIVE_TAG_REMOVE",projectId:e,objectId:t,index:n}}(n,a,r)),e(nr($o.tagRemoved)),i()})).catch((function(t){Pr.dispatchError(t,e,er),s(t)}))}))}}({userId:a,csrfToken:r,projectId:t.projectId,objectId:e.row.id,index:e.index,clientId:o}))}},{key:"updateStatusForCell",value:function(e,t,n){var a=P.a.cloneDeep(this.state.statusDataCell);a[e]||(a[e]={}),a[e][t]=n,this.setState({statusDataCell:a})}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeoutCellStatus)}},{key:"getStatusIndicator",value:function(e,t){var n,a=this.state.statusDataCell,r=a[e]?a[e][t]:void 0;return r?(n=r===this.status.saving?"greenText":"redText",i.a.createElement("span",null,this.statusIcon[r],i.a.createElement("span",{className:n,style:{paddingLeft:"5px"}},r))):null}},{key:"getEditorMultiline",value:function(e){var t=this,n=this.props.intents,a=e.column.id,r=e.row.id,o="editable-cell";switch(a){case ap.granularIntent.id:case ap.rollupIntent.id:o+=" single-line"}return i.a.createElement("div",null,i.a.createElement("div",{className:o,contentEditable:!0,suppressContentEditableWarning:!0,onBlur:function(n){t.handleCellValueChange(n.target.innerText,e)},dangerouslySetInnerHTML:{__html:n.length?n[e.index][a]:""}}),this.getStatusIndicator(r,a))}},{key:"columns",get:function(){var e=this,t=this.props.userFeatureConfiguration,n=sc,a=this.state.resizedData,r={Header:ap.count.header,accessor:ap.count.id,minWidth:Ru.getColumnWidth(a,ap.count.id,70)},o={Header:ap.granularIntent.header,accessor:ap.granularIntent.id,minWidth:Ru.getColumnWidth(a,ap.granularIntent.id,100)},s={Header:ap.rollupIntent.header,accessor:ap.rollupIntent.id,minWidth:Ru.getColumnWidth(a,ap.rollupIntent.id,100)},c={Header:ap.description.header,accessor:ap.description.id,minWidth:Ru.getColumnWidth(a,ap.description.id,100)},l={Header:ap.keywords.header,accessor:ap.keywords.id,minWidth:Ru.getColumnWidth(a,ap.keywords.id,100)},d={Header:ap.examples.header,accessor:ap.examples.id,minWidth:Ru.getColumnWidth(a,ap.examples.id,100)},u={Header:ap.comments.header,accessor:ap.comments.id,minWidth:Ru.getColumnWidth(a,ap.comments.id,100)},p={Header:ap.delete.header,accessor:ap.delete.id,sortable:!1,minWidth:Ru.getColumnWidth(a,ap.delete.id,70),Cell:function(t){return i.a.createElement("span",{className:"tooltip-general"},i.a.createElement(tp,{onClick:function(){return e.handleDeleteIntent(t)},icon:eo.TrashIcon,"data-qa":"delete-intents",title:"Delete",width:16,height:16}))},show:!!lc(n.intentGuideDelete,t)};return lc(n.intentGuideUpdate,t)&&(o.Cell=this.getEditorMultiline,s.Cell=this.getEditorMultiline,c.Cell=this.getEditorMultiline,l.Cell=this.getEditorMultiline,d.Cell=this.getEditorMultiline,u.Cell=this.getEditorMultiline),[r,o,s,c,l,d,u,{Header:"id",accessor:"id",show:!1},p]}},{key:"render",value:function(){var e=this,t=this.props.userFeatureConfiguration,n=sc;if(!1===this.isModified)return i.a.createElement(Lu,{message:T.SEARCHING_IN_PROGRESS});var a=this.props.intents,r={maxHeight:"calc(95vh - 225px)",borderLeft:"unset"};return lc(n.intentGuideContextualActionBar,t)||(r.borderTop="unset"),i.a.createElement(eo.Table,{id:"TaggingGuideGrid",style:r,resizable:!0,data:a,columns:this.columns,showPaginaton:!0,defaultPageSize:10,onSortedChange:function(){e.setState({statusDataCell:{}})},onResizedChange:function(t){Ru.handleTableResizeChange(t,e.localStorage_key)},defaultSorted:[{id:ap.count.id,desc:!0}]})}}]),n}(o.Component);rp.propTypes={clientId:qr.a.string.isRequired,projectId:qr.a.string.isRequired,csrfToken:qr.a.string.isRequired,userId:qr.a.string,validateData:qr.a.func,dispatch:qr.a.func},rp.defaultProps={intents:[],validateData:function(){return!0},dispatch:function(){}};var op=Object(l.connect)((function(e){return{csrfToken:e.app.csrfToken,userId:e.app.userId,userFeatureConfiguration:e.app.userFeatureConfiguration}}),(function(e){return{dispatch:e}}))(rp);function ip(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var sp=Lr().DISPLAY_MESSAGES,cp=function(e){at()(n,e);var t=ip(n);function n(e,a){var r;return Qe()(this,n),(r=t.call(this,e,a)).props=e,r.onClickAddTag=r.onClickAddTag.bind(tt()(r)),r.onClickImport=r.onClickImport.bind(tt()(r)),r.onClickExport=r.onClickExport.bind(tt()(r)),r.onClickTaggingGuideTemplate=r.onClickTaggingGuideTemplate.bind(tt()(r)),r.showMissingTagsDialog=r.showMissingTagsDialog.bind(tt()(r)),r.showInvalidTagsDialog=r.showInvalidTagsDialog.bind(tt()(r)),r.getTotalIntentStats=r.getTotalIntentStats.bind(tt()(r)),r.lastImportInfo=r.lastImportInfo.bind(tt()(r)),r.getTagString=r.getTagString.bind(tt()(r)),r.addNewIntent=r.addNewIntent.bind(tt()(r)),r.validateData=r.validateData.bind(tt()(r)),r}return $e()(n,[{key:"validateData",value:function(e,t){return"intent"===t?si.validateTaggingGuideTag(e,!0)&&si.checkField(e):!e||"".concat(e).length<51&&si.checkField(e)}},{key:"addNewIntent",value:function(e){var t=this.props,n=t.dispatch,a=t.userId,r=t.csrfToken,o=t.clientId,i=t.selectedProjectId;n(function(e){e.userId;var t=e.csrfToken,n=e.projectId,a=e.objectId,r=e.values,o=e.clientId;return function(e){return new Promise((function(i,s){e(function(e,t){return{type:"TAGGING_GUIDE_REQUEST_TAG_CREATE",projectId:e,values:t}}(n,a));var c={id:null,intent:r.intent||"",rutag:r.rutag||"",description:r.description||"",examples:r.examples||"",keywords:r.keywords||"",comments:r.comments||""},l=zn(yn,{projectId:n,clientId:o});pt()(l,{credentials:"same-origin",method:"POST",headers:{"X-CSRF-TOKEN":t,"Content-Type":"application/json"},body:JSON.stringify(c)}).then(Pr.handleErrors).then((function(e){return e.json()})).then((function(t){var a=Object.assign({},t,{id:t.id,count:0,percentage:0,intent:t.intent||"",rutag:t.rutag||"",description:t.description||"",examples:t.examples||"",keywords:t.keywords||"",comments:t.comments||""});e(function(e,t,n){return{type:"TAGGING_GUIDE_RECEIVE_TAG_CREATE",projectId:e,objectId:t,values:n}}(n,t.id,a)),i(a)})).catch((function(t){Pr.dispatchError(t,e,er),s(t)}))}))}}({userId:a,csrfToken:r,projectId:i,values:e,clientId:o})).then((function(e){n(nr(sp.tagCreated))})).catch((function(e){n(tr(sp.tagCreateFail))}))}},{key:"onClickAddTag",value:function(){var e=this.props.dispatch;e(rr({header:"Add Intent",dispatch:e,type:T.DIALOGS.ADD_INTENT,onClickAdd:this.addNewIntent,validateData:this.validateData}))}},{key:"onClickImport",value:function(e){var t=this;e&&(0,this.props.dispatch)(rr({type:T.DIALOGS.IMPORT_TAGGING_GUIDE,project:this.props.project,onComplete:function(){t.forceUpdate()}}))}},{key:"onClickExport",value:function(){var e=zn(Tn,{projectId:this.props.selectedProjectId,clientId:this.props.clientId});document.location=e}},{key:"onClickTaggingGuideTemplate",value:function(){var e=Kn(kn);document.location=e}},{key:"lastImportInfo",value:function(){var e=this.props.taggingGuide.lastImportInfo;if(!e||void 0===e.validTagCount)return i.a.createElement(eo.ContextualActionInfo,{label:"Last Tags Import:",value:"none"});var t=e.validTagCount,n=e.importedBy,a=e.missingTags,r=e.invalidTags;return i.a.createElement("div",null,a&&a.length?i.a.createElement(eo.ContextualActionItem,{"data-qa":"lastImportInfoMissingTags",onClickAction:this.showMissingTagsDialog,right:!0},"Missing Tags:"," ",a.length):null,r&&r.length?i.a.createElement(eo.ContextualActionItem,{"data-qa":"lastImportInfoInvalidTags",onClickAction:this.showInvalidTagsDialog,right:!0},"Invalid Tags:"," ",r.length):null,i.a.createElement(eo.ContextualActionInfo,{"data-qa":"lastImportInfoValidTagCount",label:"Last Tags Import:",value:t+this.getTagString(t)}),n?i.a.createElement(eo.ContextualActionInfo,{"data-qa":"lastImportInfoImportedBy",label:"Imported By:",value:n}):null)}},{key:"showMissingTagsDialog",value:function(){var e=this.props,t=e.taggingGuide,n=e.dispatch,a=t.lastImportInfo?t.lastImportInfo.missingTags:null;a&&a.length&&n(rr({type:T.DIALOGS.SIMPLE_DIALOG,header:"Missing Tags",message:i.a.createElement("div",null,a.join(", ")),actions:[io.ACTION_OK],className:"MissingTags"}))}},{key:"showInvalidTagsDialog",value:function(){var e=this.props,t=e.taggingGuide,n=e.dispatch,a=t.lastImportInfo?t.lastImportInfo.invalidTags:null;a&&a.length&&n(rr({type:T.DIALOGS.SIMPLE_DIALOG,header:"Invalid Tags",message:i.a.createElement("div",null,a.join(", ")),actions:[io.ACTION_OK],className:"InvalidTags"}))}},{key:"getTagString",value:function(e){return 1===e?"tag":"tags"}},{key:"getTotalIntentStats",value:function(){var e=this.props,t=e.taggingGuide,n=e.intents,a=t.usedForTaggingRatio,r=n||[],o=Math.round(1e3*a)/10;return"".concat(r.length," ").concat(this.getTagString(r.length)," (").concat(o,"%)")}},{key:"render",value:function(){var e=this,t=this.props,n=t.userFeatureConfiguration,a=t.intents,r=t.clientId,o=t.selectedProjectId,s=sc,c=!0;return!P.a.isNil(a)&&a.length>0&&(c=!1),i.a.createElement("div",{id:"TaggingGuide"},lc(s.intentGuideContextualActionBar,n)?i.a.createElement(eo.ContextualActionsBar,{styleOverride:_o.contextualBar},i.a.createElement(eo.ContextualActionItem,{icon:eo.Plus,onClickAction:this.onClickAddTag},"ADD"),i.a.createElement(eo.ContextualActionItem,{icon:eo.ArrowLeft,onClickAction:function(){return e.onClickImport(c)},disabled:!c},"IMPORT"),i.a.createElement(eo.ContextualActionItem,{icon:eo.ArrowRight,onClickAction:this.onClickExport},"EXPORT"),i.a.createElement(eo.ContextualActionItem,{icon:eo.Download,onClickAction:this.onClickTaggingGuideTemplate},"INTENTS TEMPLATE"),this.lastImportInfo(),i.a.createElement(eo.ContextualActionInfo,{label:"Total Intents:",value:this.getTotalIntentStats()})):null,P.a.isNil(a)||0==a.length?i.a.createElement(Lu,{message:T.TAGS_NOT_AVAILABLE}):i.a.createElement(op,{projectId:o,clientId:r,validateData:this.validateData,intents:a}))}}]),n}(o.Component);cp.defaultProps={intents:[],dispatch:function(){}},cp.propTypes={app:qr.a.object,taggingGuide:qr.a.object,intents:qr.a.array,selectedProjectId:qr.a.string,clientName:qr.a.string,clientId:qr.a.string,validateData:qr.a.func,dispatch:qr.a.func,clientDataLoaded:qr.a.bool};var lp=Object(l.connect)((function(e,t){var n=e.projectListSidebar.selectedProjectId;return{app:e.app,taggingGuide:e.taggingGuide,clientName:e.header.client.name,clientId:e.header.client.id,selectedProjectId:n,clientDataLoaded:e.projectsManager.clientDataLoaded,userFeatureConfiguration:e.app.userFeatureConfiguration,project:$i.ProjectsManager.getProject(n)||{}}}),(function(e){return{dispatch:e}}))(cp);function dp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var up=function(e){at()(n,e);var t=dp(n);function n(e){var a;return Qe()(this,n),a=t.call(this,e),h()(tt()(a),"onTabSelected",(function(e,t){var n="";switch(t){case 0:n=T.UNIVERSAL_TAB;break;case 1:n=T.EACH_NODE_TAB;break;default:n=T.UNIVERSAL_TAB}a.setState({activeNodeLevelTab:n})})),h()(tt()(a),"onClickNavItem",(function(e){a.setState({selectedNavItem:e[0]})})),a.getModelLevelMonitoringSection=a.getModelLevelMonitoringSection.bind(tt()(a)),a.getNodeLevelMonitoringSection=a.getNodeLevelMonitoringSection.bind(tt()(a)),a.getNodeLevelMonitoringTabs=a.getNodeLevelMonitoringTabs.bind(tt()(a)),a.renderUniversalTabItems=a.renderUniversalTabItems.bind(tt()(a)),a.renderEachNodeTabItems=a.renderEachNodeTabItems.bind(tt()(a)),a.onNavItemSelected=a.onNavItemSelected.bind(tt()(a)),a.state={activeNodeLevelTab:T.UNIVERSAL_TAB,selectedNavItem:"Node 1",percentageForADay:"30%",percentageOnConsecutiveDays:"0%"},a}return $e()(n,[{key:"renderUniversalTabItems",value:function(){return i.a.createElement(eo.LegacyRow,null,i.a.createElement("div",{className:"EscalationRate",style:{paddingTop:"15px"}},T.ESCALATION_RATE_TITLE),i.a.createElement("div",{className:"EscalationRateDesc"},T.ESCALATION_RATE_DESCRIPTION),i.a.createElement("div",{className:"Threshold"},T.SET_THRESHOLD_TEXT_FOR_A_DAY,i.a.createElement(eo.TextField,{name:"thresholdValue",defaultValue:this.state.percentageForADay,onChange:function(){},styleOverride:{width:"45px",input:{width:"100%",height:"23px"}}}),T.PERCENTAGE_FOR_A_DAY))}},{key:"onNavItemSelected",value:function(e){if(e)return i.a.createElement("div",null,i.a.createElement("div",{className:"EscalationRate"},T.ESCALATION_RATE_TITLE),i.a.createElement("div",{className:"Threshold"},T.SET_THRESHOLD_TEXT_FOR_A_DAY,i.a.createElement(eo.TextField,{name:"thresholdValue",defaultValue:this.state.percentageForADay,onChange:function(){},styleOverride:{width:"45px",input:{width:"100%",height:"23px"},helpText:{height:"0px"}}}),T.PERCENTAGE_FOR_A_DAY),i.a.createElement("div",{className:"DefaultThreshold"},T.DEFAULT_THRESHOLD))}},{key:"renderEachNodeTabItems",value:function(){var e=this.state.selectedNavItem;return i.a.createElement(eo.LegacyRow,null,i.a.createElement(eo.LegacyColumn,{size:2,styleOverride:{height:"auto",borderRight:"1px solid #CCC",position:"relative"}},i.a.createElement(eo.VerticalNav,{selectedItems:[this.state.selectedNavItem],onSelection:this.onClickNavItem,styleOverride:{boxShadow:"none",overflowY:"auto",padding:"20px 0px",marginLeft:-6}},i.a.createElement(eo.VerticalNavItem,{name:"Node 1"},"Node 1"),i.a.createElement(eo.VerticalNavItem,{name:"Node 2"},"Node 2"))),i.a.createElement(eo.LegacyRow,null,i.a.createElement(eo.LegacyColumn,{size:9,styleOverride:{padding:"25px 0 0 25px",overflowY:"auto"}},this.onNavItemSelected(e))))}},{key:"getNodeLevelMonitoringTabs",value:function(){var e=this.state.activeNodeLevelTab,t=[T.UNIVERSAL_TAB,T.EACH_NODE_TAB],n=[this.renderUniversalTabItems(),this.renderEachNodeTabItems()],a=0;switch(e){case T.UNIVERSAL_TAB:a=0;break;case T.EACH_NODE_TAB:a=1;break;default:a=0}return i.a.createElement("div",{className:"tabs"},i.a.createElement(eo.Tabs,{tabs:t,tabPanels:n,onTabSelected:this.onTabSelected,align:"left",selectedIndex:a,styleOverride:{tabItem:{padding:"23px 20px 21px"},tabContainer:{borderTop:"none"}}}))}},{key:"getModelLevelMonitoringSection",value:function(){return i.a.createElement(eo.LegacyRow,null,i.a.createElement("div",{className:"ModelLevelMonitoringTitle"},T.MODEL_LEVEL_MONITORING_THRESHOLD_TITLE),i.a.createElement("hr",{color:"#bcc1c7"}),i.a.createElement("div",{className:"EscalationRate"},T.ESCALATION_RATE_TITLE),i.a.createElement("div",{className:"Threshold"},T.SET_THRESHOLD_TEXT_FOR_A_DAY,i.a.createElement(eo.TextField,{name:"thresholdValue",defaultValue:this.state.percentageForADay,onChange:function(){},styleOverride:{width:"45px",input:{width:"100%",height:"23px"},helpText:{height:"0px"}}}),T.PERCENTAGE_FOR_A_DAY),i.a.createElement("div",{className:"DefaultThreshold"},T.DEFAULT_THRESHOLD),i.a.createElement("div",{className:"Threshold"},T.SET_THRESHOLD_TEXT_FOR_CONSECUTIVE_DAYS,i.a.createElement(eo.TextField,{name:"thresholdValue",defaultValue:this.state.percentageOnConsecutiveDays,onChange:function(){},styleOverride:{width:"45px",input:{width:"100%",height:"23px"},helpText:{height:"0px"}}}),T.PERCENTAGE_ON_CONSECUTIVE_DAYS))}},{key:"getNodeLevelMonitoringSection",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"NodeLevelMonitoringTitle"},T.NODE_LEVEL_MONITORING_THRESHOLD_TITLE),i.a.createElement("hr",{color:"#bcc1c7",style:{marginBottom:"0px"}}),i.a.createElement("div",null,this.getNodeLevelMonitoringTabs()))}},{key:"render",value:function(){return i.a.createElement("div",{id:"SettingsTab"},i.a.createElement(eo.LegacyRow,null,this.getModelLevelMonitoringSection(),this.getNodeLevelMonitoringSection()))}}]),n}(o.Component),pp=Object(l.connect)((function(e,t){return{}}),(function(e){return{dispatch:e}}))(up);function hp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var fp=function(e){at()(n,e);var t=hp(n);function n(e,a){var r;return Qe()(this,n),r=t.call(this,e,a),h()(tt()(r),"onTabSelected",(function(e,t){var n=r.props,a=n.dispatch,o=n.history,i=n.clientId,s=n.projectId,c="";switch(t){case 0:c="models";break;case 1:c="datasets";break;case 2:c="manage-intents";break;case 3:c="manage-settings";break;default:c="models"}a(pr(Ta,{clientId:i,projectId:s,routeTag:c},o))})),r.props=e,r.onClickTag=r.onClickTag.bind(tt()(r)),r.onClickTagBeta=r.onClickTagBeta.bind(tt()(r)),r.onClickUpload=r.onClickUpload.bind(tt()(r)),r.onClickDatasetTemplate=r.onClickDatasetTemplate.bind(tt()(r)),r.onClickResolveInconsistencies=r.onClickResolveInconsistencies.bind(tt()(r)),r.onClickExportAllDatasets=r.onClickExportAllDatasets.bind(tt()(r)),r.onClickAddVersion=r.onClickAddVersion.bind(tt()(r)),r.state={loadingProject:!1,loadingDatasets:!1,loadingModels:!1,componentMounted:!1},r}return $e()(n,[{key:"componentDidMount",value:function(){this.setState({componentMounted:!0})}},{key:"componentWillUnmount",value:function(){this.setState({loadingProject:!1,loadingDatasets:!1,loadingModels:!1})}},{key:"onClickAddVersion",value:function(e){var t=this.props,n=t.dispatch,a=t.clientId,r=t.projectId,o=t.history;n(rr({header:T.CREATE_NEW_MODEL_HEADER,type:T.DIALOGS.CREATE_VERSION_DIALOG,projectId:r,history:o,isAnyDatasetTransformed:e,clientId:a,dispatch:n}))}},{key:"render",value:function(){var e=this;if(!this.state.componentMounted)return null;var t=this.state.loadingProject,n=this.props,a=n.project,r=n.datasets,o=n.projectId,s=n.match,c=T.ALL_VERSIONS,l=T.DATASETS,d=T.INTENT_GUIDE,u=T.SETTINGS;if(!o)return i.a.createElement(Lu,{message:T.CREATE_NEW_MODEL_MESSAGE});if(t)return i.a.createElement("div",{id:"ReadProject"});if(!a)return i.a.createElement(Lu,{message:T.PROJECT_NOT_FOUND});var p=0;switch(s.path.substr(1)){case"manage-settings":p=3;break;case"manage-intents":p=2;break;case"datasets":p=1;break;case"models":default:p=0}var h=[c,l,d,u],f=[this.renderModelDetails(),this.renderDatasetsDetails(),this.renderIntentDetails(),this.renderSettingsDetails()],g=(r?r.toArray():[]).some((function(e){return e.status&&"COMPLETED"==e.status}));return i.a.createElement("div",{id:"ReadProject"},i.a.createElement(eo.Tabs,{tabs:h,tabPanels:f,onTabSelected:this.onTabSelected,align:"left",selectedIndex:p,styleOverride:{tabItem:{padding:"23px 20px 21px"},tabContainer:{borderTop:"none"}}}),i.a.createElement("span",{className:"add-version"},i.a.createElement(eo.Button,{onClick:function(){e.onClickAddVersion(g)},disabled:!g},"ADD VERSION")))}},{key:"renderSettingsDetails",value:function(){return i.a.createElement(pp,null)}},{key:"renderIntentDetails",value:function(){var e=this.props.intents||[];return i.a.createElement(lp,{intents:e})}},{key:"onClickResolveInconsistencies",value:function(){var e=this.props,t=e.clientId,n=e.projectId;(0,e.dispatch)(pr(Ea,{clientId:t,projectId:n},this.props.history))}},{key:"renderDatasetsDetails",value:function(){var e=this.props,t=e.datasets,n=(e.environment,e.userFeatureConfiguration),a=sc,r=t?t.toArray():[],o=r.some((function(e){return e.status&&"COMPLETED"==e.status}));return i.a.createElement("div",{id:"ReadProjectDatasetsDetails"},i.a.createElement("div",{style:_o},i.a.createElement(eo.ContextualActionsBar,{styleOverride:_o.contextualBar},i.a.createElement(eo.ContextualActionItem,{icon:eo.Tag,onClickAction:o?this.onClickTag:function(){},"data-qa":"dataset-tag-button",disabled:!o,styleOverride:Do},"TAG"),i.a.createElement(eo.ContextualActionItem,{onClickAction:this.onClickUpload,icon:eo.Plus,"data-qa":"dataset-upload-button",styleOverride:Do},"UPLOAD"),lc(a.resolveInconsistencies,n)?i.a.createElement(eo.ContextualActionItem,{onClickAction:o?this.onClickResolveInconsistencies:function(){},icon:eo.Doc,"data-qa":"dataset-inconsistencies-button",disabled:!o,styleOverride:Do},"RESOLVE INCONSISTENCIES"):null,lc(a.datasetExport,n)?i.a.createElement(eo.ContextualActionItem,{onClickAction:o?this.onClickExportAllDatasets:function(){},icon:eo.ArrowRight,"data-qa":"dataset-export-all-datasets",disabled:!o},"EXPORT"):null,lc(a.datasetTemplate,n)?i.a.createElement(eo.ContextualActionItem,{onClickAction:this.onClickDatasetTemplate,icon:eo.Download},"DATASET TEMPLATE"):null)),r.length?i.a.createElement(wu,{data:r,history:this.props.history,clientId:this.props.clientId}):i.a.createElement(Lu,null,i.a.createElement("div",{className:"message-default"},T.UPLOAD_DATASET_MESSAGE),i.a.createElement(eo.Button,{type:"flat",name:"upload-2",onClick:this.onClickUpload},i.a.createElement(eo.ContextualActionItem,{icon:eo.Plus},"UPLOAD NEW DATASET"))))}},{key:"renderModelDetails",value:function(){var e=this.props,t=e.models,n=e.configs,a=e.router,r=e.projectId,o=(e.project,e.clientId),s=e.datasets,c=e.kibanaLogIndex,l=e.kibanaLogURL,d=e.userFeatureConfiguration,u=e.featureFlags,p=e.history,h=e.dispatch,f=e.modelId,g=e.roles,m=this.state.loadingModels,S=(s?s.toArray():[]).some((function(e){return e.status&&e.status==T.STATUS.COMPLETED}));return i.a.createElement(Xu,{models:t,configs:n,router:a,loadingModels:m,projectId:r,clientId:o,roles:g,isAnyDatasetTransformed:S,kibanaLogIndex:c,kibanaLogURL:l,userFeatureConfiguration:d,featureFlags:u,modelId:f,history:p,dispatch:h})}},{key:"onClickTag",value:function(){var e=this.props,t=e.clientId,n=e.projectId;(0,e.dispatch)(pr(aa,{clientId:t,projectId:n},this.props.history))}},{key:"onClickTagBeta",value:function(){var e=this.props,t=e.clientId,n=e.projectId;(0,e.dispatch)(pr(ra,{clientId:t,projectId:n},this.props.history))}},{key:"onClickDatasetTemplate",value:function(){var e=Kn(_n);document.location=e}},{key:"onClickUpload",value:function(){var e=this.props,t=e.project;(0,e.dispatch)(rr({type:T.DIALOGS.CREATE_DATASET,project:t}))}},{key:"onClickExportAllDatasets",value:function(){var e=this.props,t=e.clientId,n=e.projectId,a=zn(Xt,{projectId:n,clientId:t});document.location=a}}]),n}(o.Component),gp=Object(l.connect)((function(e,t){var n=e.projectListSidebar.selectedProjectId;return{environment:e.app.environment,project:$i.ProjectsManager.getProject(n)||null,datasets:$i.ProjectsManager.getDatasetsByProjectId(n,!0)||null,models:$i.ProjectsManager.getModelsByProjectId(n)||null,configs:$i.ProjectsManager.getConfigsByProjectId(n)||null,intents:$i.ProjectsManager.getIntentsByProjectId(n)||null,clientId:e.header.client.id,clientName:e.header.client.name,roles:e.header.client.roles||[],csrfToken:e.app.csrfToken,kibanaLogIndex:e.app.kibanaLogIndex,kibanaLogURL:e.app.kibanaLogURL,userFeatureConfiguration:e.app.userFeatureConfiguration,featureFlags:e.app.featureFlags,projectId:n,clientDataLoaded:e.projectsManager.clientDataLoaded}}),(function(e){return{dispatch:e}}))(fp);function mp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var Sp=function(e){at()(n,e);var t=mp(n);function n(e){var a;return Qe()(this,n),(a=t.call(this,e)).processResults=a.processResults.bind(tt()(a)),a}return $e()(n,[{key:"processResults",value:function(e){var t=P.a.isNil(e)||P.a.isNil(e.body)?[]:e.body.sort();return i.a.createElement("select",this.props.input,i.a.createElement("optgroup",null,t.map((function(e){return i.a.createElement("option",{value:e,key:e},e)}))))}},{key:"render",value:function(){var e=this,t=zn(Nn);return i.a.createElement("div",null,i.a.createElement("label",null,this.props.label),i.a.createElement(yl.a,{url:t,method:"get",accept:"application/json",verbose:!0},(function(t){var n=t.result;return t.loading?i.a.createElement("option",{value:""},"loading..."):e.processResults(n)})))}}]),n}(o.Component);function Ep(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var vp=function(e){var t=e.input,n=e.label,a=e.type,r=e.meta,o=r.touched,s=r.error;return i.a.createElement("div",null,i.a.createElement("label",null,n),i.a.createElement("div",null,i.a.createElement("input",Je()({},t,{placeholder:n,type:a})),o&&s&&i.a.createElement("div",{className:"error",style:{paddingBottom:"5px"}},s)))},Tp=function(e){var t=e.input,n=e.label,a=e.url,r=(e.please,e.dispatch),o=e.meta,s=o.touched,c=o.error;return i.a.createElement("div",null,i.a.createElement("label",null,n),i.a.createElement("select",t,i.a.createElement(yl.a,{url:a,method:"get",accept:"application/json",verbose:!0},(function(e){var t=e.error,n=e.result,a=e.loading;if(t)return Pr.dispatchError(t,r,er),i.a.createElement("option",{value:""},"Error retrieving verticals...");if(a)return i.a.createElement("option",{value:""},"loading...");var o=P.a.isNil(n)||P.a.isNil(n.body)?[]:n.body.sort();return i.a.createElement("optgroup",null,o.map((function(e){return i.a.createElement("option",{value:e,key:e},e)})))}))),s&&c&&i.a.createElement("div",{className:"error"},c))},yp=function(e){at()(n,e);var t=Ep(n);function n(e,a){var r;return Qe()(this,n),(r=t.call(this,e,a)).props=e,r.appState=r.props.app,r.selectStyle={width:"200px"},r.submitBtnStyle={float:"right",width:"130px"},r.submitLabel=T.UPDATE,r.handleSubmit=r.updateProject.bind(tt()(r)),r.onClickCancel=r.onClickCancel.bind(tt()(r)),r}return $e()(n,[{key:"componentDidMount",value:function(){this.handleInitialize()}},{key:"handleInitialize",value:function(){var e=this.props,t=e.projectId,n=e.projectById;e.clientId;this.initData=n[t],this.props.initialize(this.initData)}},{key:"updateProject",value:function(e){var t=this.props,n=t.clientId,a=t.projectId,r=t.history,o=t.dispatch;o(function(e){return function(t,n){var a=e.values,r=a.name,o=a.description,i=a.locale,s=a.vertical,c=e.clientId,l=e.projectId,d=n().projectListSidebar.projectById[l].name,u=[{op:T.OP.REPLACE,path:"/description",value:o||""},{op:T.OP.REPLACE,path:"/locale",value:i||""},{op:T.OP.REPLACE,path:"/vertical",value:s||"NULL"}];r!==d&&u.push({op:T.OP.REPLACE,path:"/name",value:r||""});var p=zn(At,{clientId:c,projectId:l});return new Promise((function(e,a){Za.patch({dispatch:t,getState:n,url:p,headers:{"Content-Type":"application/json-patch+json"},data:u,onApiSuccess:function(e){return ss(e,l)},onApiError:function(e){return cs(e,l)}})}))}}({clientId:n,projectId:a,values:e})),o(is(a,T.STATUS.RUNNING)),o(pr(ia,{clientId:n,projectId:a},r))}},{key:"onClickCancel",value:function(){var e=this.props,t=e.clientId,n=e.projectId,a=e.history;(0,e.dispatch)(pr(ia,{clientId:t,projectId:n},a))}},{key:"render",value:function(){var e=this.props,t=e.error,n=e.handleSubmit,a=e.submitting,r=e.invalid;return i.a.createElement("div",{className:"pageCentered"},i.a.createElement("div",{className:"page"},i.a.createElement(Jr.a,null,i.a.createElement("form",{id:"ProjectForm"},i.a.createElement(El.a,{name:"name",type:"text",component:vp,label:T.PROJECT_NAME}),i.a.createElement(El.a,{name:"description",type:"text",component:vp,label:T.PROJECT_DESCRIPTION}),i.a.createElement(El.a,{name:"vertical",type:"text",component:Tp,label:T.VERTICAL_MARKET,url:"nltools/private/v1/resources/verticals",style:this.selectStyle,dispatch:this.props.dispatch}),i.a.createElement(El.a,{name:"locale",type:"text",component:Sp,label:T.Locale,style:this.selectStyle}),i.a.createElement(El.a,{name:"clientId",component:vp,type:"hidden"}),t&&i.a.createElement("strong",null,t),i.a.createElement(eo.Button,{type:"flat",name:"project-form-cancel-button",onClick:this.onClickCancel},T.CANCEL),i.a.createElement(eo.Button,{type:"primary",name:"project-form-submit-button",onClick:n(this.handleSubmit),disabled:r||a,styleOverride:this.submitBtnStyle},this.submitLabel)))))}}]),n}(o.Component),bp=Object(vl.a)({form:"ProjectForm",validate:function(e){var t={},n=e.name,a=void 0===n?"":n,r=e.vertical,o=void 0===r?"":r;return a.trim()||(t.name="Please provide a name"),o.trim()||(t.vertical="Please provide a vertical"),t}})(yp),Cp=Object(l.connect)((function(e,t){return{projectId:e.projectListSidebar.selectedProjectId,projectById:e.projectListSidebar.projectById,clientId:e.header.client.id,app:e.app}}),(function(e){return{dispatch:e}}))(Object(Gc.a)(bp)),Ip=["height","width","version"];function Op(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var Rp=function(e){at()(n,e);var t=Op(n);function n(){return Qe()(this,n),t.apply(this,arguments)}return $e()(n,[{key:"render",value:function(){var e=this.props,t=e.height,n=e.width,a=e.version,r=Ie()(e,Ip),o="USE-Large ".concat(a);return i.a.createElement("svg",Je()({xmlns:"http://www.w3.org/2000/svg",id:"icon_tensorflow",width:n,height:t,version:"1.1",viewBox:"-10 -15 50 90"},r),i.a.createElement("g",{transform:"translate(-77.943 -177)"},i.a.createElement("g",{fillOpacity:"1"},i.a.createElement("path",{fill:"#e55b2d",d:"M360.049 687.873v18.898l32.73 18.899V706.77zm-65.463 18.898v18.899l16.365 9.447v-18.896zm49.096 9.45l-16.366 9.449v56.691l16.366 9.45v-37.795l16.367 9.449v-18.899l-16.367-9.449z",transform:"scale(.26458)"}),i.a.createElement("path",{fill:"#ed8e24",d:"M360.049 687.873l-49.098 28.348v18.896l32.73-18.896v18.896l16.368-9.447zm49.097 9.45l-16.367 9.448v18.899l16.367-9.45zm-32.732 37.794l-16.365 9.45v18.898l16.365-9.45zm-16.365 28.348l-16.367-9.45v37.796l16.367-9.45z",transform:"scale(.26458)"}),i.a.createElement("path",{fill:"#f8bf3c",d:"M360.049 668.977l-65.463 37.794 16.365 9.45 49.098-28.348 32.73 18.898 16.367-9.449zm0 56.693l-16.367 9.447 16.367 9.45 16.365-9.45z",transform:"scale(.26458)"}))),i.a.createElement("text",{x:"1",y:"43",fontSize:"5.8",fill:"#333333",fontWeight:"bold"},"TensorFlow"),i.a.createElement("text",{x:"-1",y:"56",fontSize:"5.8",fill:"#6b6b6b",fontWeight:"normal"},o))}}]),n}(o.PureComponent);Rp.defaultProps={width:"230px",height:"250px"},Rp.propTypes={width:qr.a.oneOfType([qr.a.number,qr.a.string]),height:qr.a.oneOfType([qr.a.number,qr.a.string])};var kp=Rp,Dp=["height","width"];function _p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var Ap=function(e){at()(n,e);var t=_p(n);function n(){return Qe()(this,n),t.apply(this,arguments)}return $e()(n,[{key:"render",value:function(){var e=this.props,t=e.height,n=e.width,a=Ie()(e,Dp);return i.a.createElement("svg",Je()({id:"prefix__layer",xmlns:"http://www.w3.org/2000/svg",width:n,height:t,viewBox:"-40 -70 700 1100",xmlSpace:"preserve"},a),i.a.createElement("style",null,".prefix__st1{fill:#231f20}"),i.a.createElement("path",{d:"M457 274.4h-71.9v-30.3h108.7V273l-62.1 126.2h-38.4L457 274.4z",fill:"#f38b00"}),i.a.createElement("path",{className:"prefix__st1",d:"M74.9 364.6l60.3-54.2c3.3-3 6.3-6.2 9.2-9.5 3-3.4 4.7-7.8 4.6-12.3.2-4.8-2-9.4-5.8-12.3-3.8-3-8.5-4.6-13.4-4.5-5.4-.3-10.6 1.8-14.4 5.7-3.4 3.9-5.4 8.8-5.6 14L77 289.2c.2-7.3 2-14.4 5-21 2.8-5.7 6.7-10.8 11.6-14.8 5-4 10.8-7 16.9-8.8 6.9-2 14-3 21.2-3 6.7 0 13.4 1 19.7 3 5.9 1.8 11.3 4.8 16 8.8 4.6 4 8.3 9 10.7 14.6 2.6 6.5 3.9 13.4 3.7 20.4.1 4.5-.4 9.1-1.5 13.5-.9 3.9-2.4 7.6-4.3 11.1-1.8 3.3-4 6.3-6.5 9.1-2.6 2.9-5.3 5.6-8.1 8.1l-47.1 40.4h68.9v28.9H74.9v-34.9zM466.2 389.8c0-1.4.3-2.8.8-4.1.5-1.3 1.3-2.4 2.2-3.4 1-1 2.1-1.7 3.4-2.2 2.6-1.1 5.6-1.1 8.2 0 1.3.5 2.4 1.3 3.4 2.2 1 1 1.7 2.1 2.2 3.4 1.1 2.6 1.1 5.6 0 8.2-.5 1.3-1.3 2.4-2.2 3.4-1 1-2.1 1.7-3.4 2.2a10.6 10.6 0 01-8.2 0c-1.3-.5-2.4-1.3-3.4-2.2-1-1-1.7-2.1-2.2-3.4-.5-1.3-.8-2.7-.8-4.1zM556.7 389.7h-.3c-2.6 4.1-6.3 7.2-10.8 9.1-7.9 3.2-16.6 3.6-24.8 1.2-3.3-1-6.3-2.5-9-4.6-2.6-2-4.7-4.6-6.2-7.6-1.6-3.3-2.3-6.9-2.3-10.5-.1-4 .7-7.9 2.5-11.5 1.6-3.1 4-5.7 6.8-7.8 3-2.1 6.3-3.7 9.8-4.8 3.7-1.2 7.6-2 11.4-2.5 3.9-.5 7.9-.9 11.8-1h10.9c.2-4-1.6-7.8-4.6-10.3-3.1-2.5-7-3.8-10.9-3.7-3.8 0-7.6.8-10.9 2.5-3.4 1.7-6.4 4.1-8.8 6.9l-13-13.3c4.6-4.2 10-7.5 15.9-9.5 6-2.1 12.4-3.2 18.8-3.2 6-.2 11.9.7 17.6 2.7 4.4 1.6 8.2 4.3 11.1 7.9 2.8 3.6 4.8 7.9 5.8 12.4 1.1 5.7 1.7 11.6 1.6 17.4v40h-22.3v-9.9h-.1zm-6-24.6c-1.8 0-4.1 0-6.9.2-2.7.2-5.4.6-7.9 1.4-2.4.7-4.6 1.8-6.5 3.4-1.8 1.6-2.8 3.9-2.7 6.3-.1 2.7 1.3 5.2 3.7 6.5 2.4 1.4 5.1 2.1 7.8 2.1 2.3 0 4.6-.3 6.9-1 2.1-.6 4.1-1.5 5.9-2.7 1.8-1.2 3.2-2.7 4.3-4.5 1.1-2 1.6-4.2 1.5-6.5v-5.2h-6.1zM592.6 296c0-7.8 6.3-14.1 14.1-14.1s14.1 6.3 14.1 14.1c0 3.7-1.5 7.3-4.1 9.9-5.5 5.5-14.4 5.5-19.9 0-2.7-2.5-4.2-6.1-4.2-9.9zm2 24.8h24.3v78.8h-24.3v-78.8zM267.1 368.3h-68.7v-27.6l48.5-96.5h51.8v96.5h20v27.6h-20v31.1h-31.6v-31.1zm-.9-86.9h-1.5l-29.5 59.4h31.9l-.9-59.4zM329.1 244.2h35.6v155.1h-35.6v-10.5h20V254.7h-20v-10.5zM56.4 254.7h-20v134.2h20v10.5H20.8V244.2h35.6v10.5z"}),i.a.createElement("text",{x:"180",y:"635",fontSize:"70",fill:"#333333",fontWeight:"bold"},"n-grams"),i.a.createElement("text",{x:"-110",y:"800",fontSize:"70",fill:"#6b6b6b",fontWeight:"normal"},"Proprietary 247 Technology"))}}]),n}(o.PureComponent);Ap.defaultProps={width:"220px",height:"200px"},Ap.propTypes={width:qr.a.oneOfType([qr.a.number,qr.a.string]),height:qr.a.oneOfType([qr.a.number,qr.a.string])};var Np=Ap;function Lp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function jp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lp(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var wp=function(e){at()(n,e);var t=Pp(n);function n(e){var a;return Qe()(this,n),a=t.call(this,e),h()(tt()(a),"getTensorFlowIcon",(function(){var e=a.props.preferences.latestTechnology,t=e&&e.version||"";return i.a.createElement(kp,{version:t,width:180,height:200})})),a.getStoredTechnology=a.getStoredTechnology.bind(tt()(a)),a.getConfirmationDialog=a.getConfirmationDialog.bind(tt()(a)),a.onClickConfirm=a.onClickConfirm.bind(tt()(a)),a.onClickCancel=a.onClickCancel.bind(tt()(a)),a.onClickCheckbox=a.onClickCheckbox.bind(tt()(a)),a.onChange=a.onChange.bind(tt()(a)),a.getTensorFlowTile=a.getTensorFlowTile.bind(tt()(a)),a.onClickTensorFlowTile=a.onClickTensorFlowTile.bind(tt()(a)),a.getNGramTile=a.getNGramTile.bind(tt()(a)),a.onClickNGramTile=a.onClickNGramTile.bind(tt()(a)),a.onClickNavItem=a.onClickNavItem.bind(tt()(a)),a.props=e,a.state={selectedNavItem:T.NAV_MODEL_TECHNOLOGIES,previousTechnology:T.MODEL_TECHNOLOGY.N_GRAM,currentTechnology:"",showDialog:!1,isChecked:!1,componentMounted:!1,localUpdate:!1,percentageInADay:32},a}return $e()(n,[{key:"componentDidMount",value:function(){this.setState({componentMounted:!0})}},{key:"componentDidUpdate",value:function(e,t){var n=e.preferences.clientId,a=this.props.preferences.clientId,r=t.componentMounted,o=this.state.componentMounted;if(n!==a||r!==o){var i=this.props.preferences.clientId;this.props.getVectorizer(),this.props.getTechnology({clientId:i||this.props.header.client.id})}}},{key:"onClickNavItem",value:function(e){this.setState({selectedNavItem:e[0]})}},{key:"getStoredTechnology",value:function(){var e=this.state,t=e.currentTechnology,n=e.localUpdate,a=this.props.preferences.technology;a&&""!==a&&a!==t&&!n&&this.setState({previousTechnology:t,currentTechnology:a,localUpdate:!1})}},{key:"onClickConfirm",value:function(){var e=this.props.header.client.id,t=this.state,n=t.currentTechnology,a=t.previousTechnology,r=t.isChecked;this.props.addOrUpdateTechnology({clientId:e,technologyValue:n,updateExistingModels:r}),this.setState({showDialog:!1,isChecked:!1,previousTechnology:a!==n?n:a})}},{key:"onClickCancel",value:function(){var e=this.state.previousTechnology;this.setState({showDialog:!1,isChecked:!1,currentTechnology:e,localUpdate:!1})}},{key:"onClickCheckbox",value:function(e){this.setState({isChecked:e.checked})}},{key:"onChange",value:function(e){var t=e.target.value;this.setState({percentageInADay:t})}},{key:"getConfirmationDialog",value:function(){var e,t=this,n=this.state,a=n.showDialog,r=n.isChecked;return a&&(e=i.a.createElement(eo.Dialog,{isOpen:!0,headerChildren:T.SAVE_DIALOG_TITLE,size:"small",closeIconVisible:!1,okChildren:"CONFIRM",cancelChildren:"CANCEL",onClickOk:this.onClickConfirm,onClickCancel:this.onClickCancel},i.a.createElement("div",{style:{textAlign:"left",lineHeight:"25px",fontSize:"14px",paddingBottom:"25px"}},T.SAVE_DIALOG_CONTENT),i.a.createElement(eo.Checkbox,{checked:r,value:!0,label:T.SAVE_DIALOG_CHECKBOX,onChange:function(e){return t.onClickCheckbox(e.target)}}))),e}},{key:"onClickTensorFlowTile",value:function(){var e=this.state.currentTechnology;this.setState({previousTechnology:e,currentTechnology:T.MODEL_TECHNOLOGY.USE,localUpdate:!0})}},{key:"onClickNGramTile",value:function(){var e=this.state.currentTechnology;this.setState({previousTechnology:e,currentTechnology:T.MODEL_TECHNOLOGY.N_GRAM,localUpdate:!0})}},{key:"getTensorFlowTile",value:function(){var e=this.state.currentTechnology===T.MODEL_TECHNOLOGY.USE?{border:"2px solid #000000"}:{border:"2px solid #dedede"};return i.a.createElement(tp,{onClick:this.onClickTensorFlowTile,icon:this.getTensorFlowIcon,height:200,width:180,styleOverride:jp({marginRight:"25px",borderRadius:"5px",":hover":{border:"2px solid #004c97"}},e)})}},{key:"getNGramTile",value:function(){var e=this.state.currentTechnology===T.MODEL_TECHNOLOGY.N_GRAM?{border:"2px solid #000000"}:{border:"2px solid #dedede"};return i.a.createElement(tp,{onClick:this.onClickNGramTile,icon:Np,height:200,width:180,styleOverride:jp({borderRadius:"5px",":hover":{border:"2px solid #004c97"}},e)})}},{key:"onNavItemSelected",value:function(e){var t,n=this;switch(e){case T.NAV_MODEL_TECHNOLOGIES:this.getStoredTechnology(),t=i.a.createElement("div",null,i.a.createElement("div",{style:{color:"#333333",fontSize:"15px",lineHeight:"30px",fontWeight:"bold",marginBottom:"4px"}},T.MODEL_TECHNOLOGY_TITLE),i.a.createElement("div",{style:{color:"#9B9B9B",fontSize:"14px",lineHeight:"13px",fontWeight:"normal"}},T.MODEL_TECHNOLOGY_DESCRIPTION),i.a.createElement("hr",null),this.getTensorFlowTile(),this.getNGramTile(),i.a.createElement("div",{style:{paddingLeft:"800px",paddingTop:"40px"}},i.a.createElement(eo.Button,{type:"primary",name:"save-as-default-button",onClick:function(){n.setState({showDialog:!0})},styleOverride:{paddingLeft:"25px",paddingRight:"25px"}},"SAVE AS DEFAULT")),i.a.createElement("hr",null));break;case T.NAV_MODEL_MONITORING:t=i.a.createElement("div",null,i.a.createElement("div",{style:{color:"#333333",fontSize:"15px",lineHeight:"30px",fontWeight:"bold",marginBottom:"4px"}},T.MODEL_MONITORING_CONFIG_TITLE),i.a.createElement("div",{style:{color:"#9B9B9B",fontSize:"14px",lineHeight:"13px",fontWeight:"normal"}},T.MODEL_MONITORING_DESCRIPTION),i.a.createElement("hr",null),i.a.createElement("div",{style:{color:"#333333",fontSize:"15px",lineHeight:"30px",fontWeight:"bold",marginBottom:"4px"}},T.ESCALATION_RATE_TITLE),i.a.createElement("div",{className:"Threshold",style:{color:"#4A4A4A",fontSize:"15px",lineHeight:"13px",fontWeight:"normal"}},T.SET_THRESHOLD_TEXT_FOR_A_DAY,i.a.createElement("input",{name:"thresholdValue",type:"number",min:"1",max:"100",value:this.state.percentageInADay,onChange:this.onChange,ref:"input"}),T.PERCENTAGE_IN_A_DAY),i.a.createElement("br",null),i.a.createElement("hr",null),i.a.createElement("div",{style:{paddingLeft:"800px",paddingTop:"20px"}},i.a.createElement(eo.Button,{type:"primary",name:"save-item",styleOverride:{paddingLeft:"25px",paddingRight:"25px"}},"SAVE")))}return t}},{key:"render",value:function(){var e=this.state.selectedNavItem;return i.a.createElement("div",{id:"Settings"},i.a.createElement(eo.LegacyRow,null,i.a.createElement(eo.LegacyColumn,{size:2,styleOverride:{height:"calc(100vh - 101px)",borderRight:"1px solid #CCC",position:"relative"}},i.a.createElement(eo.VerticalNav,{selectedItems:[this.state.selectedNavItem],onSelection:this.onClickNavItem,styleOverride:{boxShadow:"none",overflowY:"auto",padding:"20px 0px",marginLeft:-6,marginTop:"-20px"}},i.a.createElement(eo.VerticalNavItem,{styleOverride:{lineHeight:"60px",fontSize:"15px"},name:T.NAV_MODEL_TECHNOLOGIES},"Model Technologies"),i.a.createElement(eo.VerticalNavItem,{styleOverride:{lineHeight:"60px",fontSize:"15px"},name:T.NAV_MODEL_MONITORING},"Model Monitoring"))),i.a.createElement(eo.LegacyRow,null,i.a.createElement(eo.LegacyColumn,{size:9,styleOverride:{padding:"25px 0 0 25px",overflowY:"auto"}},this.onNavItemSelected(e)),this.getConfirmationDialog())))}}]),n}(o.Component),Mp=Object(l.connect)((function(e){return{preferences:e.preferences,header:e.header}}),(function(e){return{getTechnology:function(t){var n=t.clientId;e(So({clientId:n}))},addOrUpdateTechnology:function(t){var n,a=t.clientId,r=t.technologyValue,o=t.updateExistingModels;e((n={clientId:a,technologyValue:r,updateExistingModels:o},function(e,t){var a=ze.getState(),r=a.preferences,o=r.isClientAvailable,i=void 0!==o&&o,s=r.clientLevelPreference,c=void 0===s?{}:s,l=r.allPreferences,d=void 0===l?[]:l,u=a.projectListSidebar.projectById,p=Object.keys(u),h=n.technologyValue,f=void 0===h?"":h,g=n.updateExistingModels,m=void 0!==g&&g,S=c.id,E=void 0===S?"":S,v=c.type,y=void 0===v?"":v,b=!1,C=d.filter((function(e){return e.level===T.LEVEL.MODEL})),I=[];if(C.length>0?(b=!0,p.forEach((function(e){C.find((function(t){return t.attribute===e}))||I.push(e)}))):I=p,i)if(y===f){m&&b?(I.length>0&&e(mo({modelsResponse:I,technologyValue:f})),e(uo({technologyValue:f,modelsResponse:C}))):m&&I.length>0&&e(mo({modelsResponse:I,technologyValue:f}));var O=(y===T.MODEL_TECHNOLOGY.USE?T.TENSORFLOW:T.N_GRAM)===T.TENSORFLOW?T.TECHNOLOGY.DIGITAL_TENSORFLOW:T.TECHNOLOGY.DIGITAL_NGRAM;e(nr(T.SETTINGS_NOTIFICATION_MESSAGE(O)))}else m&&b?(e(uo({technologyValue:f,modelsResponse:C})),e(fo({id:E,technologyValue:f})),I.length>0&&e(mo({modelsResponse:I,technologyValue:f}))):(m&&I.length>0&&e(mo({modelsResponse:I,technologyValue:f})),e(fo({id:E,technologyValue:f})));else""!==f&&(b&&e(uo({technologyValue:f,modelsResponse:C})),m&&I.length>0&&e(mo({modelsResponse:I,technologyValue:f})),e(go({technologyValue:f})))}))},getVectorizer:function(){e(Eo())},dispatch:e}}))(wp),xp=function(e){return{type:"CONSISTENCY_REPORT_SET_PROJECT_ID",projectId:e}},Bp=function(e){return{type:"CONSISTENCY_REPORT_SET_FILTER",datasets:e.datasets,onlyConflicts:e.onlyConflicts}},Up=function(e){return{type:"CONSISTENCY_REPORT_REQUEST_SEARCH_SUCCESS",results:e.results,startIndex:e.startIndex}},Gp=function e(t,n){var a=t.projectId,r=t.query,o=t.filter,i=t.sort,s=t.startIndex,c=t.limit,l=t.delay;return function(t,d){var u,p=new Promise((function(u,p){var h=d(),f=h.app,g=(f.userId,f.csrfToken),m=h.header.client.id,S=zn(Mt,{projectId:a,startIndex:s,limit:c,sortProperty:i.property,sortDirection:i.direction,clientId:m}),E={onlyTagged:!0};E.onlyConflicts=o.onlyConflicts,o.datasets&&o.datasets.length&&(E.datasetIds=o.datasets),setTimeout((function(){fetch(S,{credentials:"same-origin",method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":g},body:JSON.stringify({configId:"0",filter:E})}).then(Pr.handleErrors).then((function(e){return e.json()})).then((function(l){var d=l.transcriptionList||[];if(d.forEach((function(e,t){e._rowIndex=t})),!d.length&&s>0){var h=l.total,f=(Math.max(Math.floor(h/c)+(h%c?1:0),1)-1)*c;t(e({projectId:a,query:r,filter:o,sort:i,startIndex:f,limit:c},!0)).then((function(e){t(Up({results:e,startIndex:f})),u(e)})).catch((function(e){p(e)}))}else n||t(Up({results:l,startIndex:s})),u(l)})).catch((function(e){t({type:"CONSISTENCY_REPORT_REQUEST_SEARCH_ERROR",error:{error:e}.error}),Pr.dispatchError(e,t,er),p(e)}))}),l||0)}));return n||t({type:"CONSISTENCY_REPORT_REQUEST_SEARCH_REQUEST",promise:(u={promise:p,projectId:a,query:r,filter:o,sort:i,startIndex:s,limit:c}).promise,projectId:u.projectId,query:u.query,filter:u.filter,sort:u.sort,startIndex:u.startIndex,limit:u.limit}),p}};function Fp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var Vp,Hp,qp=function(e){at()(n,e);var t=Fp(n);function n(e){var a;return Qe()(this,n),(a=t.call(this,e)).handleToggleControls=a.handleToggleControls.bind(tt()(a)),a.handleStartIndexChange=a.handleStartIndexChange.bind(tt()(a)),a.handleLimitChange=a.handleLimitChange.bind(tt()(a)),a.onChangeExactPage=a.onChangeExactPage.bind(tt()(a)),a.onChangeResultPerPage=a.onChangeResultPerPage.bind(tt()(a)),a.onClickShowHideSearchControls=a.onClickShowHideSearchControls.bind(tt()(a)),a.onClickNextBtn=a.onClickNextBtn.bind(tt()(a)),a.onClickPrevBtn=a.onClickPrevBtn.bind(tt()(a)),a}return $e()(n,[{key:"componentWillReceiveProps",value:function(e){this.props=e}},{key:"componentDidMout",value:function(){var e=this.props.resultsPerPageOptions;-1==e.indexOf(this.props.limit)&&this.handleLimitChange(e[0])}},{key:"handleToggleControls",value:function(e){var t=this.props,n=t.startIndex,a=t.limit,r=t.onChange;r&&r({startIndex:n,limit:a,showControls:e})}},{key:"handleLimitChange",value:function(e){var t=this.props,n=t.startIndex,a=t.showControls,r=t.onChange;r&&r({startIndex:n,limit:e,showControls:a})}},{key:"handleStartIndexChange",value:function(e){var t=this.props,n=t.limit,a=t.showControls,r=t.onChange;r&&r({startIndex:e,limit:n,showControls:a})}},{key:"onChangeExactPage",value:function(e){var t=this.props.limit,n=(Number(e.target.value)-1)*t;this.handleStartIndexChange(n)}},{key:"onChangeResultPerPage",value:function(e){var t=Number(e.target.value);this.handleLimitChange(t)}},{key:"onClickShowHideSearchControls",value:function(){var e=this.props.showControls;this.handleToggleControls(!e)}},{key:"onClickNextBtn",value:function(){var e=this.props,t=e.total,n=e.limit,a=e.startIndex,r=Math.max(Math.floor(t/n)+(t%n?1:0),1),o=Math.floor(a/n)+1;o<r&&this.handleStartIndexChange(o*n)}},{key:"onClickPrevBtn",value:function(){var e=this.props,t=e.limit,n=e.startIndex,a=Math.floor(n/t)+1;a>1&&this.handleStartIndexChange((a-2)*t)}},{key:"resultsPerPageOptions",get:function(){var e=this.props.resultsPerPageOptions,t=[];return e.forEach((function(e){t.push(i.a.createElement("option",{key:"option-".concat(e),value:e},e))})),t}},{key:"exactPageOptions",get:function(){var e,t=this.props,n=t.total,a=t.limit,r=[],o=Math.max(Math.floor(n/a)+(n%a?1:0),1);for(e=1;e<=o;e++)r.push(i.a.createElement("option",{key:"option-".concat(e),value:e},e));return r}},{key:"pagesButtons",get:function(){var e,t=this,n=this.props,a=n.total,r=n.limit,o=n.startIndex,s=Math.max(Math.floor(a/r)+(a%r?1:0),1),c=Math.floor(o/r)+1,l=[],d=[];for(l.push(i.a.createElement("button",{className:"pagerBtn",key:"btn-prev",disabled:c<=1,onClick:this.onClickPrevBtn},"Prev")),e=1;e<=s;e++)(e<=3||e>=s-2||e>=c-2&&e<=c+2)&&d.push(e);var u=0;return d.forEach((function(e){e-1>u&&l.push(i.a.createElement("span",{key:"dots-".concat(u)},"...")),l.push(i.a.createElement("button",{className:"pagerBtn".concat(e==c?" active":""),key:"btn-".concat(e),onClick:function(){t.handleStartIndexChange((e-1)*r)}},e)),u=e})),l.push(i.a.createElement("button",{className:"pagerBtn",key:"btn-next",disabled:c>=s,onClick:this.onClickNextBtn},"Next")),l}},{key:"render",value:function(){var e=this.props,t=e.controls,a=e.showControls,r=e.limit,o=e.startIndex,s=Math.floor(o/r)+1;return i.a.createElement(Jr.a,{className:"TaggerGridPager",flex:!0,direction:"row"},t&n.CONTROLS.TOGGLE_CONTROLS?i.a.createElement(Jr.a,{className:"TaggerGridPagerSegment"},i.a.createElement("div",{className:"toggleBtn ".concat(a?"expandBtn":"contractBtn"),title:"Show/Hide Search Controls",onClick:this.onClickShowHideSearchControls})):null,t&n.CONTROLS.RESULTS_PER_PAGE?i.a.createElement(Jr.a,{className:"TaggerGridPagerSegment"},i.a.createElement("div",{className:"ResultsPerPage"},"Results per Page:",i.a.createElement("select",{onChange:this.onChangeResultPerPage,value:r},this.resultsPerPageOptions))):null,t&n.CONTROLS.CHOOSE_EXACT_PAGE?i.a.createElement(Jr.a,{className:"TaggerGridPagerSegment"},i.a.createElement("div",{className:"ChooseExactPage"},"Choose Exact Page:",i.a.createElement("select",{onChange:this.onChangeExactPage,value:s},this.exactPageOptions))):null,t&n.CONTROLS.PAGE_BUTTONS?i.a.createElement(Jr.a,{className:"TaggerGridPagerSegment"},i.a.createElement("div",{className:"PagesButtons"},this.pagesButtons)):null)}}]),n}(o.Component);qp.CONTROLS={TOGGLE_CONTROLS:1,RESULTS_PER_PAGE:2,CHOOSE_EXACT_PAGE:4,PAGE_BUTTONS:8},qp.propTypes={total:qr.a.number,startIndex:qr.a.number,limit:qr.a.number,showControls:qr.a.bool,resultsPerPageOptions:qr.a.array,onChange:qr.a.func,controls:qr.a.number},qp.defaultProps={startIndex:0,limit:50,showControls:!0,resultsPerPageOptions:[10,25,50,100,250,500],controls:qp.CONTROLS.TOGGLE_CONTROLS+qp.CONTROLS.RESULTS_PER_PAGE+qp.CONTROLS.CHOOSE_EXACT_PAGE+qp.CONTROLS.PAGE_BUTTONS};var Wp={ARROW_LEFT:"ARROW_LEFT",ARROW_RIGHT:"ARROW_RIGHT",BARCHART:"BARCHART",CHECKMARK:"CHECKMARK",DOC:"DOC",FILTER:"FILTER",PENCIL:"PENCIL",PLUS:"PLUS",TAG:"TAG",XMARK:"XMARK",NEXT:"NEXT",DELETE_TRASH:"DELETE_TRASH",FAILED:"FAILED",QUEUED:"QUEUED",COMPLETED:"COMPLETED",PROCESSING:"PROCESSING"},Kp=(Vp={},h()(Vp,Wp.ARROW_LEFT,"".concat("/images/actions","/arrowLeft.svg")),h()(Vp,Wp.ARROW_RIGHT,"".concat("/images/actions","/arrowRight.svg")),h()(Vp,Wp.BARCHART,"".concat("/images/actions","/barChart.svg")),h()(Vp,Wp.CHECKMARK,"".concat("/images/actions","/checkmark.svg")),h()(Vp,Wp.DOC,"".concat("/images/actions","/doc.svg")),h()(Vp,Wp.FILTER,"".concat("/images/actions","/filter.svg")),h()(Vp,Wp.PENCIL,"".concat("/images/actions","/pencil.svg")),h()(Vp,Wp.PLUS,"".concat("/images/actions","/plus.svg")),h()(Vp,Wp.TAG,"".concat("/images/actions","/tag.svg")),h()(Vp,Wp.XMARK,"".concat("/images/actions","/xmark.svg")),h()(Vp,Wp.NEXT,"".concat("/images/icons","/next.svg")),h()(Vp,Wp.DELETE_TRASH,"".concat("/images/actions","/deleteTrash.svg")),h()(Vp,Wp.FAILED,"".concat("/images/icons","/failed.svg")),h()(Vp,Wp.QUEUED,"".concat("/images/icons","/queued.svg")),h()(Vp,Wp.COMPLETED,"".concat("/images/icons","/completed.svg")),h()(Vp,Wp.PROCESSING,"".concat("/images/icons","/processing.svg")),Vp),zp="CREATE",Yp="CONSISTENCY",Jp="DELETE",Xp="ADD",Qp="IMPORT",Zp="REPORTS",$p="TAG",eh="FILTER",th="EXPORT",nh="INTENTS",ah="APPLY_SUGGESTED",rh="BULK_TAG",oh="BULK_UNTAG",ih="MODEL_CREATION_NEXT",sh="DELETE_BATCH_TEST",ch="FAILED_BATCH_TEST",lh="QUEUED_BATCH_TEST",dh="COMPLETED_BATCH_TEST",uh="INPROGRESS_BATCH_TEST",ph=(Hp={},h()(Hp,zp,Kp[Wp.PENCIL]),h()(Hp,Yp,Kp[Wp.DOC]),h()(Hp,Jp,Kp[Wp.XMARK]),h()(Hp,Xp,Kp[Wp.PLUS]),h()(Hp,Qp,Kp[Wp.PLUS]),h()(Hp,Zp,Kp[Wp.BARCHART]),h()(Hp,$p,Kp[Wp.TAG]),h()(Hp,eh,Kp[Wp.filter]),h()(Hp,th,Kp[Wp.ARROW_RIGHT]),h()(Hp,nh,Kp[Wp.DOC]),h()(Hp,ah,Kp[Wp.TAG]),h()(Hp,rh,Kp[Wp.TAG]),h()(Hp,oh,Kp[Wp.XMARK]),h()(Hp,ih,Kp[Wp.NEXT]),h()(Hp,ch,Kp[Wp.FAILED]),h()(Hp,sh,Kp[Wp.DELETE_TRASH]),h()(Hp,lh,Kp[Wp.QUEUED]),h()(Hp,dh,Kp[Wp.COMPLETED]),h()(Hp,uh,Kp[Wp.PROCESSING]),Hp),hh=function(e){return ph[e]},fh=n(713),gh=n.n(fh),mh=n(714),Sh=n.n(mh);function Eh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var vh=function(e){at()(n,e);var t=Eh(n);function n(e){var a;return Qe()(this,n),(a=t.call(this,e)).props=e,a}return $e()(n,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.className,a=e.config,r=e.style;return i.a.createElement("div",{id:t,className:"TaggerGrid".concat(n?" ".concat(n):""),style:r},i.a.createElement(q.Grid,Je()({},a,{data:this.props.data})))}}]),n}(o.Component);function Th(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}vh.propTypes={config:qr.a.object.isRequired,id:qr.a.string,className:qr.a.string,data:qr.a.array,style:qr.a.object},vh.defaultProps={};var yh=Lr().DISPLAY_MESSAGES,bh=function(e){at()(n,e);var t=Th(n);function n(e){var a;return Qe()(this,n),(a=t.call(this,e)).props=e,a.handleApplySuggestedClick=a.handleApplySuggestedClick.bind(tt()(a)),a.handleBulkTagClick=a.handleBulkTagClick.bind(tt()(a)),a.handleBulkUnTagClick=a.handleBulkUnTagClick.bind(tt()(a)),a.handleOnClickOk=a.handleOnClickOk.bind(tt()(a)),a.state={selectedIndexes:[],selectedTranscriptionHashes:[],selectedConflictRowsWithSuggestedIntent:[],selectedSuggestedIntents:[],bulkTagFormVisible:!1},a}return $e()(n,[{key:"componentWillReceiveProps",value:function(e){this.props=e;var t=this.props,n=t.onTagsChange,a=t.dispatch,r=this.props.consistencyReport,o=r.projectId,i=r.searchResults,s=r.showBulkTag,c=r.updateBulkTag;if(i.length){var l=this.getSelectedIndexes(),d=[],u=[],p={};l.forEach((function(e){var t=void 0!==i[e]?i[e]:{};t.transcriptionHash&&(d.push(t.transcriptionHash),t.intentConflict&&t.suggestedIntent&&(u.push(t),p[t.suggestedIntent]=!0))})),this.setState({selectedIndexes:l,selectedTranscriptionHashes:d,selectedConflictRowsWithSuggestedIntent:u,selectedSuggestedIntents:Object.keys(p),bulkTagFormVisible:s&&d.length}),s&&!d.length&&a({type:"HIDE_BULK_TAG_CELL"}),s&&d.length&&c&&a(ud({projectId:o,hashList:d,intent:c,isUpdate:!0})).then((function(){a({type:"HIDE_BULK_TAG_CELL"}),n&&n()}))}else this.setState({selectedIndexes:[],selectedTranscriptionHashes:[],selectedConflictRowsWithSuggestedIntent:[],selectedSuggestedIntents:[],bulkTagFormVisible:!1})}},{key:"handleOnClickOk",value:function(e){var t,n=this.props,a=n.dispatch,r=n.onTagsChange,o=n.consistencyReport.projectId,i=[];for(t in e)e.hasOwnProperty(t)&&i.push(a(ud({projectId:o,hashList:e[t],intent:t,isUpdate:!0})));Promise.all(i).then((function(){r&&r()})).catch((function(){})),a(rr(null))}},{key:"getSelectedIndexes",value:function(){var e=this.props.selection.get(this.config.stateKey);if(e){var t=e.toJS();if(t.indexes)return N()(t.indexes)}return[]}},{key:"handleApplySuggestedClick",value:function(){var e=this,t=this.props.dispatch,n=this.state.selectedConflictRowsWithSuggestedIntent,a={},r=0,o="";n.length&&(n.forEach((function(e){e.suggestedIntent&&e.transcriptionHash&&(a[e.suggestedIntent]||(a[e.suggestedIntent]=[],r++,o=e.suggestedIntent),a[e.suggestedIntent].push(e.transcriptionHash))})),t(rr({type:T.DIALOGS.SIMPLE_DIALOG,header:"Apply Suggested Intents",message:i.a.createElement("div",null,i.a.createElement("div",null,"You are about to tag"," ",i.a.createElement("b",null,n.length)," ","of transcriptions with",r<2?i.a.createElement("span",null," ",'tag "',o,'".'):i.a.createElement("span",null,i.a.createElement("b",null," ",r)," ","corresponding suggested tags.")),i.a.createElement("p",null,"Are you sure?")),actions:[io.ACTION_OK,io.ACTION_CANCEL],className:"ConsistencyReportConfirmApplySuggested",onOk:function(){return e.handleOnClickOk(a)}})))}},{key:"handleBulkTagClick",value:function(){this.state.selectedIndexes.length&&this.props.dispatch({type:"SHOW_BULK_TAG_CELL"})}},{key:"handleBulkUnTagClick",value:function(){var e=this.props,t=e.consistencyReport,n=e.onTagsChange,a=e.dispatch,r=this.state,o=r.selectedTranscriptionHashes,i=r.selectedIndexes,s=t.projectId;i.length&&a(pd({projectId:s,hashlist:o})).then((function(){n&&n()})).catch((function(){}))}},{key:"render",value:function(){var e=this.props.paddingTop,t=this.state,n=t.selectedIndexes,a=t.selectedConflictRowsWithSuggestedIntent,r=t.selectedSuggestedIntents,o=t.bulkTagFormVisible,s=this.props.consistencyReport,c=s.isSearching,l=s.isError,d=s.projectId,u={};(c||l)&&(u.display="none"),e&&(u.paddingTop="".concat(e,"px"));return i.a.createElement("div",{id:"ConsistencyReportGridContainer",style:u},i.a.createElement("div",{id:"ConsistencyReportGridActions",direction:"row",style:{}},i.a.createElement("div",{className:"ActionsContainer",direction:"row"},o?i.a.createElement("div",{className:"bulkTagLabelCellContainer"},i.a.createElement("span",{className:"bulkTagLabel"},"Bulk Tag: "),i.a.createElement(Ud,{cellData:{column:null,value:0,row:{manualTag:""},key:0,index:0},projectId:d,suggestedIntents:r})):i.a.createElement(eo.ContextualActionsBar,null,i.a.createElement(eo.ContextualActionItem,{onClickAction:this.handleApplySuggestedClick,icon:eo.Tag,disabled:!a.length,styleOverride:{paddingLeft:"20px"}},"APPLY SUGGESTED"),i.a.createElement(eo.ContextualActionItem,{disabled:!n.length,onClickAction:this.handleBulkTagClick,icon:eo.Tag},"BULK TAG"),i.a.createElement(eo.ContextualActionItem,{disabled:!n.length,onClickAction:this.handleBulkUnTagClick,icon:eo.Xmark},"BULK UNTAG")))),i.a.createElement("div",null,i.a.createElement(vh,{id:"ConsistencyReportGrid",className:"ConsistencyReportGrid",config:this.config})))}},{key:"config",get:function(){var e=this.props.dispatch,t=function(t,n,a){var r=ze.getState(),o=a?a.sort:r.consistencyReport.sort,i=r.consistencyReport,s=i.projectId,c=i.query,l=i.filter,d=i.startIndex,u=i.limit;return new Promise((function(t,n){e(Gp({projectId:s,query:c,filter:l,sort:o,startIndex:d,limit:u})).then((function(){var e=ze.getState();t({data:e.consistencyReport.searchResults,total:e.consistencyReport.total})})).catch((function(e){n(e)}))}))};return{stateKey:"ConsistencyReportGridState-v1",height:"",stateful:!0,columns:[{name:"Count",width:"5%",dataIndex:"documentCount",sortable:!0,hideable:!0,resizable:!1,hidden:!0},{name:"Has Conflict",width:"3%",dataIndex:"intentConflict",sortable:!0,hideable:!0,resizable:!1,renderer:function(e){e.column;var t=e.value;e.row;return t?i.a.createElement("span",{className:"HasConflictIconContainer"},i.a.createElement(gh.a,null)):i.a.createElement("span",{className:"NoConflictIconContainer"},i.a.createElement(Sh.a,null))}},{name:"Text String",width:"20%",dataIndex:"textStringForTagging",sortable:!0,hideable:!1},{name:"Normalized Form",width:"15%",dataIndex:"normalizedForm",sortable:!0,hideable:!0},{name:"Group",width:"10%",dataIndex:"normalizedFormGroup",sortable:!0,hideable:!0},{name:"Original Intent",width:"15%",dataIndex:"intent",sortable:!0,hideable:!0,renderer:function(t){t.column,t.value;var n=t.row,a=ze.getState().consistencyReport,r=a.projectId;return i.a.createElement(ou,{stateKey:"ConsistencyReport",value:n.intent,rowIndex:n._rowIndex,columnIndex:0,maxRowIndex:a.searchResults?a.searchResults.length-1:0,maxColumnIndex:0,stopClickPropagation:!0,projectId:a.projectId,highlightTags:n.suggestedIntent?[n.suggestedIntent]:[],activateNextCellOnEnter:!1,onChange:function(t){t.length?e(ud({projectId:r,hashList:[n.transcriptionHash],intent:t,isUpdate:!0})).then((function(){e(nr(yh.tagUpdated))})):e(pd({projectId:r,hashList:[n.transcriptionHash]})).then((function(){e(nr(yh.tagRemoved))}))}})}},{name:"Suggested Intent",width:"15%",dataIndex:"suggestedIntent",sortable:!0,hideable:!0},{name:"Other Intents With Same Form",width:"20%",dataIndex:"intents",sortable:!0,hideable:!0,renderer:function(e){e.column;var t=e.value;e.row;return t&&t.length?t.join(", "):""}}],plugins:{COLUMN_MANAGER:{resizable:!0,moveable:!0,minColumnWidth:8,sortable:{enabled:!0,method:"remote",sortingSource:t}},GRID_ACTIONS:{iconCls:"action-icon",menu:[]},SELECTION_MODEL:{enabled:!0,mode:"checkbox-multi",allowDeselect:!0}},dataSource:t,emptyDataMessage:"No Search Results",events:{}}}}]),n}(o.Component),Ch=Object(l.connect)((function(e){return{app:e.app,consistencyReport:e.consistencyReport,selection:e.selection}}),(function(e){return{dispatch:e}}))(bh);function Ih(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var Oh=function(e){at()(n,e);var t=Ih(n);function n(e,a){var r;return Qe()(this,n),(r=t.call(this,e,a)).controlsEl=null,r.cellEditableStateKey="ConsistencyReport",r.performSearch=r.performSearch.bind(tt()(r)),r.onChangeRadioButton=r.onChangeRadioButton.bind(tt()(r)),r.onChangeMultipleCheckboxFilter=r.onChangeMultipleCheckboxFilter.bind(tt()(r)),r.onClickConsistencyReportRun=r.onClickConsistencyReportRun.bind(tt()(r)),r.onChangeTaggerGridPager=r.onChangeTaggerGridPager.bind(tt()(r)),r.completedDatasetsCount=0,r.initialized=!1,r.radios={labels:["Show All","Show Transcriptions With Different Suggested Tags"],values:[!1,!0]},r.props=e,r.state={loadingProject:!1,loadingDatasets:!1,runPressed:!1,selectedRadioGroupValue:e.consistencyReport.filter.onlyConflicts||!1},r}return $e()(n,[{key:"componentWillReceiveProps",value:function(e){var t=this,n=this.props.consistencyReport,a=e.selectedProjectId,r=e.datasets;if(n.projectId&&a&&n.projectId!==a||!n.projectId&&a||n.projectId&&!a?(this.props=e,this.initiate()):(n.showControls!=e.consistencyReport.showControls&&setTimeout((function(){t.forceUpdate()}),100),this.props=e,this.props.consistencyReport.doSearch&&this.performSearch(this.props.consistencyReport.delay)),r){var o=this.props.consistencyReport.filter.datasets,i=!1,s=[];r.forEach((function(e){e.id&&e.status&&"COMPLETED"==e.status&&e.name&&s.push(e.id)})),s.length!=this.completedDatasetsCount&&(this.completedDatasetsCount=s.length,i=!0),!o.length&&s.length&&(i=!1,setTimeout((function(){t.props.dispatch(Bp({datasets:s}))}),100)),i&&setTimeout((function(){t.forceUpdate(),t.initialized||(t.setState({runPressed:!0}),t.initialized=!0)}),100)}}},{key:"componentDidMount",value:function(){this.completedDatasetsCount=0,this.setState({loadingProject:!1,loadingDatasets:!1,runPressed:!1});var e=this.props.dispatch;e(yd({stateKey:this.cellEditableStateKey})),e(Od({stateKey:this.cellEditableStateKey})),this.initiate()}},{key:"initiate",value:function(){var e=this.props,t=e.consistencyReport,n=e.datasets,a=e.selectedProjectId,r=e.dispatch;if(a){if(a!==t.projectId&&(r(xp(a)),n&&!t.filter.datasets.length)){var o=[];n.forEach((function(e){e.id&&e.status&&"COMPLETED"==e.status&&e.name&&o.push(e.id)})),r(Bp({datasets:o}))}}else r(xp(null))}},{key:"componentWillUnmount",value:function(){var e=this.props.dispatch;e({type:"CONSISTENCY_REPORT_RESET"}),e(q.Actions.GridActions.setData({data:[],stateKey:"ConsistencyReportGridState-v1"})),e(bd({stateKey:this.cellEditableStateKey})),e(Rd({stateKey:this.cellEditableStateKey}))}},{key:"currentPage",get:function(){var e=this.props.consistencyReport,t=e.startIndex,n=e.limit;return Math.floor(t/n)+1}},{key:"maxPage",get:function(){var e=this.props.consistencyReport,t=e.total,n=e.limit;return Math.max(Math.floor(t/n)+(t%n?1:0),1)}},{key:"performSearch",value:function(e){var t=this,n=this.props.consistencyReport,a=n.projectId,r=n.query,o=n.filter,i=n.sort,s=n.startIndex,c=n.limit,l=this.props.dispatch;l({type:"CELL_EDITABLE_STATE_RESET",stateKey:{stateKey:this.cellEditableStateKey}.stateKey}),l(function(e){return{type:"CELL_EDITABLE_MANUAL_TAG_SUGGEST_STATE_RESET",stateKey:e.stateKey}}({stateKey:this.cellEditableStateKey})),l(Gp({projectId:a,query:r,filter:o,sort:i,startIndex:s,limit:c,delay:e})).then((function(){l(q.Actions.GridActions.setData({data:t.props.consistencyReport.searchResults,stateKey:"ConsistencyReportGridState-v1"}))}))}},{key:"onClickConsistencyReportRun",value:function(){this.state.runPressed?this.performSearch():this.setState({runPressed:!0})}},{key:"onChangeRadioButton",value:function(e){var t=!1,n=this.props.dispatch;"false"===e?t=!1:"true"===e&&(t=!0),this.setState({selectedRadioGroupValue:t}),n(Bp({onlyConflicts:t}))}},{key:"onChangeMultipleCheckboxFilter",value:function(e){(0,this.props.dispatch)(Bp({datasets:e}))}},{key:"onChangeTaggerGridPager",value:function(e,t,n){var a;(0,this.props.dispatch)({type:"CONSISTENCY_REPORT_SET_PAGER_SETTINGS",startIndex:(a={startIndex:e,limit:t,showControls:n}).startIndex,limit:a.limit,showControls:a.showControls})}},{key:"render",value:function(){var e=this,t=this.props,n=t.consistencyReport,a=t.project,r=t.datasets,o=n.filter,s=n.isSearching,c=n.isError,l=n.showControls,d=n.limit,u=n.startIndex,p=n.total,h=n.isUpdatingTags,f=this.state,g=f.loadingProject,m=f.loadingDatasets,S=f.runPressed;if(g||m)return i.a.createElement("div",{id:"ConsistencyReport"});if(!a)return i.a.createElement("div",{id:"ConsistencyReport"},i.a.createElement("p",null,"Requested project is not found."));if(!r||!this.completedDatasetsCount)return i.a.createElement("div",{id:"ConsistencyReport"},i.a.createElement("p",null,"Requested project does not have transformed datasets."));var E=0;l&&this.controlsEl&&this.controlsEl.boxContainerRef&&this.controlsEl.boxContainerRef.offsetHeight&&(E+=this.controlsEl.boxContainerRef.offsetHeight);var v=s||h?"Loading...":c?"There was error processing your request.":"",T=[];return r.forEach((function(e){e.id&&e.status&&"COMPLETED"==e.status&&e.name&&T.push({value:e.id,label:e.name})})),i.a.createElement("div",{id:"ConsistencyReport"},l?i.a.createElement("div",{id:"ConsistencyReportControls",className:"TaggerGridControls",direction:"column",ref:function(t){e.controlsEl=t}},i.a.createElement(ic,{label:"Datasets Filter:",className:"DatasetsFilter",options:T,value:o.datasets,onChange:this.onChangeMultipleCheckboxFilter,allowEmpty:!1}),i.a.createElement("div",{className:"searchContainer",direction:"row"},i.a.createElement("div",{className:"filters",direction:"column"},i.a.createElement("div",{className:"filtersBlock"},i.a.createElement(eo.RadioGroup,{displayType:"stacked",onChange:this.onChangeRadioButton,values:this.radios.values,labels:this.radios.labels,value:this.state.selectedRadioGroupValue}))),i.a.createElement("div",{className:"actions",direction:"column"},i.a.createElement(eo.Button,{name:"consistency-run",id:"ConsistencyReportRun",onClick:s||h?null:this.onClickConsistencyReportRun,icon:hh(Yp),"data-qa":"consistency-run"},"RUN")))):null,s||h||c?i.a.createElement("div",{className:"GridMessage",style:{paddingTop:E}},v):null,S&&!h?i.a.createElement(Ch,{paddingTop:E,maxPage:this.maxPage,currentPage:this.currentPage,total:p,onTagsChange:function(){e.performSearch(3e3)}}):null,s||h?null:i.a.createElement(qp,{onChange:function(t){var n=t.startIndex,a=t.limit,r=t.showControls;return e.onChangeTaggerGridPager(n,a,r)},total:p,limit:d,startIndex:u,showControls:l,controls:qp.CONTROLS.TOGGLE_CONTROLS+(S?qp.CONTROLS.RESULTS_PER_PAGE:0)+(S?qp.CONTROLS.CHOOSE_EXACT_PAGE:0)+(S&&this.maxPage>2?qp.CONTROLS.PAGE_BUTTONS:0)}))}}]),n}(o.Component),Rh=Object(l.connect)((function(e,t){return{consistencyReport:e.consistencyReport,projectsManager:e.projectsManager,selectedProjectId:e.projectListSidebar.selectedProjectId,project:$i.ProjectsManager.getProject(e.projectListSidebar.selectedProjectId)||null,datasets:$i.ProjectsManager.getDatasetsByProjectId(e.projectListSidebar.selectedProjectId,!0)||null}}),(function(e){return{dispatch:e}}))(Oh),kh=(n(401),n(715)),Dh=n.n(kh),_h=n(183),Ah=n(123);function Nh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var Lh=function(e){at()(n,e);var t=Nh(n);function n(e){var a;return Qe()(this,n),(a=t.call(this,e)).props=e,a.onClickOk=a.onClickOk.bind(tt()(a)),a.onClickCancel=a.onClickCancel.bind(tt()(a)),a.getIcon=a.getIcon.bind(tt()(a)),a}return $e()(n,[{key:"onClickCancel",value:function(){this.props.onCancel()}},{key:"onClickOk",value:function(){this.props.onOk()}},{key:"getIcon",value:function(e){return i.a.createElement(_h.a,{src:e})}},{key:"render",value:function(){var e=this.props,t=e.icon,n=e.title,a=e.children,r=e.okString,o=e.visible,s=e.onOk,c=e.cancelString,l=e.onCancel,d=e.okDisabled,u=e.size,p=void 0===u?null:u;return i.a.createElement(Ah.c,{isOpen:o,toggle:this.toggle,size:p},i.a.createElement(Ah.f,{toggle:this.toggle},t?i.a.createElement("span",{className:"dialog-title-icon","data-qa":"dialog-title"},this.getIcon(t)):"",i.a.createElement("span",{className:"dialog-title-text"},n)),i.a.createElement(Ah.d,null,a),i.a.createElement(Ah.e,null,i.a.createElement("div",{className:"dialog-cancel-container"},this.props.showCancel&&i.a.createElement(eo.Button,{name:"cancel-dialog",type:"flat",onClick:l,styleOverride:{":focus":{outline:"none"}}},c||"CANCEL")),i.a.createElement("div",{className:"dialog-ok-container"},this.props.showOk&&i.a.createElement(eo.Button,{name:"ok-dialog",onClick:s,disabled:d},r.toUpperCase()))))}}]),n}(o.Component);Lh.defaultProps={showCancel:!0,showOk:!0,okString:"OK"},Lh.propTypes={icon:qr.a.string,visible:qr.a.bool,title:qr.a.string,children:qr.a.element.isRequired,okString:qr.a.string,cancelString:qr.a.string,onOk:qr.a.func,onCancel:qr.a.func,className:qr.a.string,showCancel:qr.a.bool,showOk:qr.a.bool,okDisabled:qr.a.bool,customClassName:qr.a.string};var jh=n(725),Ph=["speechConfigs","modelType"];function wh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Mh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wh(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var Bh=Lr().DISPLAY_MESSAGES,Uh=function(e){var t=e.configs,n=e.models,a=e.tuneModelId,r=e.viewModelId,o=e.selectedConfig,i=e.existingListItems,s=void 0===i?[]:i,c=$i.ModelConfigManager.getDefaultConfig(t),l=P.a.isNil(n)?[]:n.toArray();l=P.a.orderBy(l,["updated"],["desc"]);var d=N()(s);d.length||(c&&d.push(Object.assign({},c,{modelType:T.DIGITAL_MODEL})),l.forEach((function(e){var t={key:"-1",id:e.configId,name:"Version ".concat(e.version,"-cfg"),description:"",modelType:e.modelType};d.push(t)})));var u=c;if(a){var p=P.a.find(l,{id:a});u=P.a.find(d,{id:p.configId})}else if(r){var h=P.a.find(l,{id:r});u=P.a.find(d,{id:h.configId})}return P.a.isNil(o)||(u=o),{configsArray:d,selectedConfig:u}},Gh=function(e,t,n,a,r){if(!(P.a.isNil(e)||P.a.isNil(e.name)&&P.a.isNil(e.description)))return e;var o=n||a||null;if(!P.a.isNil(o)){var i=P.a.isNil(t)?[]:t.toArray();return P.a.find(i,{id:o})}if(!P.a.isNil(r)){var s=r.name,c=void 0===s?"":s;return Object.assign({},e,{name:c})}return{}},Fh=function(e){at()(n,e);var t=xh(n);function n(e){var a;Qe()(this,n),(a=t.call(this,e)).onDescriptionChange=a.onDescriptionChange.bind(tt()(a)),a.onDescriptionBlur=a.onDescriptionBlur.bind(tt()(a)),a.onConfigSelected=a.onConfigSelected.bind(tt()(a)),a.getConfigSelect=a.getConfigSelect.bind(tt()(a)),a.configUploadCustomRequest=a.configUploadCustomRequest.bind(tt()(a)),a.addUploadedConfig=a.addUploadedConfig.bind(tt()(a)),a.getDatasetsLabel=a.getDatasetsLabel.bind(tt()(a)),a.configUploadSuccess=a.configUploadSuccess.bind(tt()(a)),a.configUploadError=a.configUploadError.bind(tt()(a)),a.onLeave=a.onLeave.bind(tt()(a)),a.isValidated=a.isValidated.bind(tt()(a)),a.isDatasetValid=a.isDatasetValid.bind(tt()(a)),a.isNameValid=a.isNameValid.bind(tt()(a)),a.parseConfigFile=a.parseConfigFile.bind(tt()(a)),a.saveModelChanges=a.saveModelChanges.bind(tt()(a)),a.onClickRadioButton=a.onClickRadioButton.bind(tt()(a)),a.onClickCheckbox=a.onClickCheckbox.bind(tt()(a)),a.getDefaultText=a.getDefaultText.bind(tt()(a)),a.getCheckbox=a.getCheckbox.bind(tt()(a)),a.getDefaultTechnology=a.getDefaultTechnology.bind(tt()(a));var r=a.props,o=r.model,i=r.configs,s=r.config,c=r.models,l=r.tuneModelId,d=r.viewModelId,u=r.datasets,p=r.dispatch,h=r.project;a.uploaderProps={multiple:!1,beforeUpload:function(){p({type:"CONFIG_UPLOAD"})},onStart:function(e){},customRequest:a.configUploadCustomRequest,onSuccess:a.configUploadSuccess,onProgress:function(e,t){},onError:a.configUploadError};var f=tc(u),g=Gh(o,c,l,d,h),m=Uh({configs:i,models:c,selectedConfig:null,config:s,tuneModelId:l,viewModelId:d,existingListItems:[]}),S=m.configsArray,E=m.selectedConfig;P.a.isNil(e.onNewConfigSelect)||e.onNewConfigSelect(E);var v=nc(f,g,null);return a.isActive=!0,P.a.isNil(e.registerCallbacks)||e.registerCallbacks({tabName:e.tabName,onLeave:a.onLeave}),a.state={selectedDatasets:v,configsArray:S,selectedConfig:E,datasetsOptions:f,model:g,showNameErrorMessage:!1,showDatasetErrorMessage:!1,config:s,uploadedConfigFile:"",showCheckbox:!1},a}return $e()(n,[{key:"shouldComponentUpdate",value:function(e,t){return!!e.isCurrentTab}},{key:"componentDidMount",value:function(){this.isValidated()}},{key:"saveModelChanges",value:function(){var e=this.props.saveModelChanges,t=this.state,n=t.model,a=t.selectedDatasets,r=Object.assign({},n);r.datasetIds=a,e(r)}},{key:"onLeave",value:function(){this.saveModelChanges()}},{key:"addUploadedConfig",value:function(e){var t=this.props,n=t.saveConfigChanges,a=t.onNewConfigSelect,r=this.state,o=r.configsArray,i=r.uploadedConfigFile,s=this.parseConfigFile(e),c=(s.speechConfigs,s.modelType,Ie()(s,Ph)),l="".concat(T.UPLOADED_CONFIG_NAME),d={key:"-1",id:"uploaded",name:l,description:c.description};c.name=l;var u=o.slice(0);if(i){var p=P.a.findLastIndex(u,(function(e){return"uploaded"===e.id}));u.splice(p,1,d)}else u.push(d);this.setState({configsArray:u,selectedConfig:d,config:c,uploadedConfigFile:e},(function(){n(c),a(d)}))}},{key:"parseConfigFile",value:function(e){var t={};try{t=JSON.parse(e)}catch(e){throw new Error(Bh.invalidConfigFile)}return t}},{key:"configUploadCustomRequest",value:function(e){var t=this,n=this.props,a=n.reportSuccess,r=n.reportError,o=n.dispatch,i=new FileReader;i.addEventListener("loadend",(function(){try{var n=new TextDecoder("utf-8").decode(new Uint8Array(i.result));t.addUploadedConfig(n),a(Bh.configFileUploaded(e.file.name)),o({type:"CONFIG_UPLOAD_SUCCESS"})}catch(e){r(e),o({type:"CONFIG_UPLOAD_FAIL"})}})),i.readAsArrayBuffer(e.file)}},{key:"configUploadSuccess",value:function(e,t,n){var a=this.props,r=a.reportSuccess;(0,a.dispatch)({type:"CONFIG_UPLOAD_SUCCESS"}),r(Bh.configFileUploaded(t.name))}},{key:"configUploadError",value:function(e,t,n){var a=this.props,r=a.dispatch,o=a.reportError;r({type:"CONFIG_UPLOAD_FAIL"}),o(e)}},{key:"isNameValid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=!0;return e=e.trim(),(P.a.isNil(e)||P.a.isEmpty(e))&&(t=!1),t}},{key:"isDatasetValid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.props,n=t.project,a=t.dispatch,r=t.tuneModelId,o=t.viewModelId,i=this.state.datasetId,s=void 0===i?-1:i,c=n.id,l=!0;return(r||o)&&e.length&&-1==s?e.map((function(e){a(ql({projectId:c,datasetId:e}))})):-1!==s&&-1===e.indexOf(s)?(a(Vl(s)),0===e.length&&(l=!1)):0===e.length?l=!1:-1!==s&&a(ql({projectId:c,datasetId:s})),l}},{key:"isValidated",value:function(){var e=this.props,t=e.setValidModel,n=e.saveModelChanges,a=this.state,r=a.model,o=void 0===r?{}:r,i=a.selectedDatasets,s=void 0===i?[]:i,c=this.isNameValid(o.name),l=this.isDatasetValid(s);c&&l?(o.datasetIds=s,n(o),t(!0)):t(!1)}},{key:"onDescriptionChange",value:function(e){e.preventDefault(),this.setState({model:Object.assign({},this.state.model,{description:e.target.value})})}},{key:"onDescriptionBlur",value:function(e){var t=this;e.preventDefault();var n=Object.assign({},this.state.model);n.description=e.target.value.trim(),this.setState({model:n},(function(){t.saveModelChanges()}))}},{key:"getDatasetsLabel",value:function(){var e=sc,t=this.props.userFeatureConfiguration;return i.a.createElement("div",{style:{color:"#727272"}},"Datasets*",this.state.showDatasetErrorMessage?i.a.createElement("div",{className:"validation-error"},"Please select at least one dataset"):null,i.a.createElement("div",{className:"help-text overflow-wrap"},'Select datasets with these properties to enable "Create Version":',i.a.createElement("ul",{className:"indentation"},lc(e.granularMessage,t)?i.a.createElement("li",null,"Granular intents mapped to Rollup intents in Tagging Guide"):null,i.a.createElement("li",null,"Tagged with at least two Rollup intents"),i.a.createElement("li",null,"Contains multiple transcriptions per Rollup intents"))))}},{key:"onConfigSelected",value:function(e){var t=this,n=e.label,a=this.props,r=a.saveConfigChanges,o=a.fetchConfigById,i=a.onNewConfigSelect,s=this.state,c=s.configsArray,l=s.uploadedConfigFile,d=P.a.find(c,{name:n});this.setState({selectedConfig:d},(function(){if(0!==d.name.indexOf(T.UPLOADED_CONFIG_NAME))o(d);else{var e=t.addUploadedConfig(l);r(e)}i(d)}))}},{key:"getConfigSelect",value:function(e){var t=this.state,n=t.configsArray,a=void 0===n?[]:n,r=t.selectedConfig,o=0;if(0===a.length)return null;var s=this.props.modelViewReadOnly,c=[];return a.filter((function(e){return e.modelType==T.DIGITAL_MODEL})).map((function(e,t){var n=e.name;c.push({label:n,value:n}),r&&r.name&&r.name===n&&(o=t)})),i.a.createElement(jh.a,{name:"model-config-select",placeholder:"Select model configuration",isDisabled:s,options:c,onChange:this.onConfigSelected,isSearchable:!0,clearable:!1,isMulti:!1,value:c[o],defaultValue:c[o]})}},{key:"onClickRadioButton",value:function(e){var t=this;if(this.props.modelViewReadOnly){var n=Object.assign({},this.state.model);n.modelTechnology=e,this.setState({model:n},(function(){t.saveModelChanges()}))}else{var a=Object.assign({},this.state.model);a.toDefault=void 0,a.modelTechnology=e,this.setState({model:a,showCheckbox:!0},(function(){t.saveModelChanges()}))}}},{key:"onClickCheckbox",value:function(e){var t=this,n=Object.assign({},this.state.model);n.toDefault=!!e.checked&&e.value,this.setState({model:n},(function(){t.saveModelChanges()}))}},{key:"getCheckbox",value:function(e){var t=this,n=this.getDefaultTechnology(),a=this.state,r=a.model,o=a.showCheckbox,s=r.modelTechnology,c=void 0===s?"":s,l=r.toDefault,d=void 0!==l&&l,u={};if(c===T.MODEL_TECHNOLOGY.USE?u={paddingRight:"200px",paddingLeft:"5px"}:c===T.MODEL_TECHNOLOGY.N_GRAM&&(u={paddingLeft:"210px"}),o&&c===n&&this.setState({showCheckbox:!1}),o||c!==n&&!e)return i.a.createElement(eo.Checkbox,{checked:d,value:!0,label:i.a.createElement("span",{style:{color:"#333333"}},T.CHECKBOX_LABEL),onChange:function(e){return t.onClickCheckbox(e.target)},styleOverride:u,disabled:e})}},{key:"getDefaultTechnology",value:function(){var e=this.props.currentType;return Object.keys(e).length>0?e.type:T.MODEL_TECHNOLOGY.N_GRAM}},{key:"getDefaultText",value:function(){var e=this,t=this.getDefaultTechnology(),n=T.DEFAULT_TEXT,a={tensorflow:"",n_gram:""},r=this.state.model,o=r.modelTechnology,i=void 0===o?"":o,s=r.vectorizerTechnology;return""===i&&(r.modelTechnology=s||t,this.setState({model:r},(function(){e.saveModelChanges()}))),t===T.MODEL_TECHNOLOGY.USE?a.tensorflow=n:t===T.MODEL_TECHNOLOGY.N_GRAM&&(a.n_gram=n),a}},{key:"render",value:function(){var e=this,t=this.props,n=t.isCurrentTab,a=t.modelViewReadOnly,r=t.onClickDownloadConfig,o=t.userFeatureConfiguration,s=t.project,c=(t.currentType,t.latestTensorflowVersion),l=sc;if(!n)return null;var d={};!0===a&&(d={pointerEvents:"none",opacity:.5});var u=c&&c.version||"",p=this.state.model,h=void 0===p?{}:p,f=this.getDefaultText(),g=h.description,m=void 0===g?"":g,S=h.modelTechnology,E=h.vectorizerTechnology,v=S||E,y=s&&s.name||"";return i.a.createElement("div",{id:"NewModel"},i.a.createElement("ul",{className:"form-fields"},i.a.createElement("li",null,i.a.createElement("label",null,"Model"),i.a.createElement("div",{style:{color:"#313f54"}}," ",y)),i.a.createElement("li",null,i.a.createElement("label",null,"Version Description"),i.a.createElement(eo.Textarea,{type:"text",name:"modelDescription",placeholder:"Enter a description",defaultValue:m,onBlur:this.onDescriptionBlur,onChange:this.onDescriptionChange,styleOverride:{width:"100%"},disabled:a})),i.a.createElement("li",null,i.a.createElement("label",null,"Technology"),i.a.createElement("div",{style:Mh({whiteSpace:"break-spaces"},d)},i.a.createElement(eo.RadioGroup,{displayType:"horizontal",values:[T.MODEL_TECHNOLOGY.USE,T.MODEL_TECHNOLOGY.N_GRAM],labels:[i.a.createElement("span",{key:"tensorflow",style:{color:"#333333"}},T.MODEL_TECHNOLOGY.TENSORFLOW_LABEL(u,f.tensorflow)),i.a.createElement("span",{key:"ngram",style:{color:"#333333"}},T.MODEL_TECHNOLOGY.N_GRAM_LABEL(f.n_gram))],value:v,onChange:this.onClickRadioButton})),this.getCheckbox(a)),i.a.createElement("li",null,i.a.createElement("label",{className:"configuration-label"},"Configuration*"),!a&&i.a.createElement("div",{className:"upload-configuration"},i.a.createElement(Dl.a,Je()({},this.uploaderProps,{component:"a"}),i.a.createElement(eo.Button,{type:"flat",name:"config-upload-btn",onClick:null,styleOverride:{height:"auto",color:"#004c97",":hover":{color:"#003467",boxShadow:"none"},":focus":{outline:"none"}}},"Upload")),lc(l.modelConfigDownload,o)?i.a.createElement("span",null,i.a.createElement(eo.PrimaryDivider,{fill:"#727272",height:12}),i.a.createElement(eo.Button,{type:"flat",name:"config-download-btn",onClick:r,styleOverride:{height:"auto",color:"#004c97",":hover":{color:"#003467",boxShadow:"none"},":focus":{outline:"none"}}},"Download")):null),i.a.createElement("div",{className:"config-select"},this.getConfigSelect())),i.a.createElement("li",null,i.a.createElement(ic,{label:this.getDatasetsLabel(),className:"DatasetsFilter",options:this.state.datasetsOptions,value:this.state.selectedDatasets,onChange:function(t,n){e.setState({selectedDatasets:t,datasetId:n},(function(){e.saveModelChanges(),e.isValidated()}))},disabled:a,showAsGrid:!1}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.datasets,a=e.configs,r=e.models,o=e.model,i=e.tuneModelId,s=e.viewModelId,c=e.config,l=e.project,d=P.a.isNil(t.model)?o:t.model;d=Gh(d,r,i,s,l);var u=P.a.isNil(c)?t.config:c,p=tc(n),h=nc(p,d,t.selectedDatasets),f=Uh({configs:a,models:r,selectedConfig:t.selectedConfig,config:u,tuneModelId:i,viewModelId:s,existingListItems:t.configsArray});return{configsArray:f.configsArray,datasetsOptions:p,selectedConfig:f.selectedConfig,model:d,config:u,selectedDatasets:h}}}]),n}(o.Component);Fh.defaultProps={datasets:{},configs:null,model:{},project:{},models:null,config:{},currentType:{},newModelConfig:function(){},setValidModel:function(){},saveConfigChanges:function(){},saveModelChanges:function(){},fetchConfigById:function(){},tuneModelId:null,viewModelId:null,modelViewReadOnly:!1,latestTensorflowVersion:{}},Fh.propTypes={datasets:qr.a.object,configs:qr.a.object,currentType:qr.a.object,model:qr.a.object,models:qr.a.object,project:qr.a.object,config:qr.a.object,newModelConfig:qr.a.func,setValidModel:qr.a.func,saveConfigChanges:qr.a.func,saveModelChanges:qr.a.func,fetchConfigById:qr.a.func,tuneModelId:qr.a.string,viewModelId:qr.a.string,reportError:qr.a.func,reportSuccess:qr.a.func,registerCallbacks:qr.a.func,isCurrentTab:qr.a.bool,modelViewReadOnly:qr.a.bool,latestTensorflowVersion:qr.a.object};var Vh=Fh,Hh=n(247),qh=n.n(Hh),Wh=n(716),Kh=n.n(Wh);n(631);function zh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Yh=function(e,t,n){var a=Array.from(e),r=a.splice(t,1),o=Kh()(r,1)[0];return a.splice(n,0,o),a},Jh=function(){window.open("https://regex101.com/","_blank").focus()},Xh=function(e){return e?"#f6f7f8":"white"},Qh=function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zh(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({userSelect:"none",background:Xh(e)},t)},Zh=function(e){return{background:Xh(e),overflowY:"auto",maxHeight:"calc(100vh - 300px)"}},$h=function(e,t){var n={};return t-1===e&&(n.borderBottom="none"),n},ef=n(122);function tf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var nf=function(e){at()(n,e);var t=tf(n);function n(){return Qe()(this,n),t.apply(this,arguments)}return $e()(n,[{key:"render",value:function(){var e=this.props,t=e.errorMsg,n=e.styleOverride,a=Object.assign({},{border:"1px solid #C81919",padding:"10px",fontSize:"15px",color:"#C81919",borderRadius:"3px"},n);return i.a.createElement("div",{style:a},i.a.createElement(eo.AlertIcon,null)," ",t)}}]),n}(o.PureComponent);function af(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}nf.propTypes={errorMsg:qr.a.string.isRequired,styleOverride:qr.a.object},nf.defaultProps={styleOverride:{}};var rf=n(647),of=function(e){at()(n,e);var t=af(n);function n(e){var a;Qe()(this,n),(a=t.call(this,e)).props=e,a.newTransformationData={name:"",comment:"",typeId:null},a.receivedDatasets={},a.validate=a.validate.bind(tt()(a)),a.onOK=a.onOK.bind(tt()(a)),a.onNameBlur=a.onNameBlur.bind(tt()(a)),a.onNameChange=a.onNameChange.bind(tt()(a)),a.onNameKeyPress=a.onNameKeyPress.bind(tt()(a)),a.onCommentBlur=a.onCommentBlur.bind(tt()(a)),a.onCommentKeyPress=a.onCommentKeyPress.bind(tt()(a)),a.onSelect=a.onSelect.bind(tt()(a)),a.getPopupContainer=a.getPopupContainer.bind(tt()(a)),a.getTransformationList=a.getTransformationList.bind(tt()(a)),a.getUrlList=a.getUrlList.bind(tt()(a)),a.onSelectTransform=a.onSelectTransform.bind(tt()(a));var r,o=e.transformations?(r=e.transformations,Vi.map((function(e){if(e.supportMultiple||P.a.isNil(r)||!r.find((function(t){if("string"==typeof t)return e.id===t;var n=t[Object.keys(t)[0]];return n.hasOwnProperty("type")?n.type===e.id:void 0})))return{name:e.displayName,id:e.id}})).filter((function(e){return e}))):[],i=!0;return o.length&&(i=!1,a.newTransformationData.typeId=o[0].id),a.state={showNameComment:!1,okDisabled:i,displayData:o,urlTransformation:!1,urlTransformationSelect:null,errorMessage:null},a}return $e()(n,[{key:"validate",value:function(){return!0}},{key:"getPopupContainer",value:function(e){return e.parentNode}},{key:"onOK",value:function(e){var t,n,a=this,r=this.props,o=r.transformations,i=(r.dispatch,this.validate()),s=rf.urlTransforms,c=!1;if(i)if(this.state.urlTransformation&&(t=s.find((function(e){return e.name===a.state.urlTransformationSelect}))||s[0],this.newTransformationData.name=t.name,o.forEach((function(e){"object"===Cu()(e)&&e[t.name]&&(c=!0,n=T.ALERT_TRANSFORMATION(t.name))}))),c)this.setState({errorMessage:n});else{var l=Qi(this.newTransformationData);this.props.onOK(l)}}},{key:"onNameKeyPress",value:function(e){"Enter"!==e.key&&"Tab"!==e.key||(e.preventDefault(),this.onNameBlur(e))}},{key:"validateName",value:function(){}},{key:"onNameBlur",value:function(e){this.onNameChange(e)}},{key:"onNameChange",value:function(e){var t=!0,n=e.target.value;si.checkField(n,T.TRANSFORMATION_ITEM_NAME_REGEX)&&n.length<T.TRANSFORMATION_ITEM_NAME_LIMIT&&(t=!1),this.newTransformationData.name=n,this.setState({okDisabled:t})}},{key:"onCommentKeyPress",value:function(e){"Enter"!==e.key&&"Tab"!==e.key||(e.preventDefault(),this.onCommentBlur(e))}},{key:"onCommentBlur",value:function(e){this.newTransformationData.comment=e.target.value}},{key:"getUrlList",value:function(){var e=rf.urlTransforms,t=[];return e.forEach((function(e){t.push(i.a.createElement("option",{value:e.name,key:e.name},e.name))})),t}},{key:"onSelect",value:function(e){var t=T.TRANSFORMATION_TYPES;this.newTransformationData.typeId=e.target.value;var n,a=(n=e.target.value,!(Hi(n)===Ui)),r=!1;e.target.value===t.TRANSFORMATION_URL&&(a=!1,r=!0);var o=a;this.setState({showNameComment:a,okDisabled:o,urlTransformation:r,urlTransformationSelect:void 0})}},{key:"onSelectTransform",value:function(e){var t;null!==e.target.value&&(t=e.target.value),this.setState({urlTransformationSelect:t})}},{key:"getTransformationList",value:function(){var e=this.state.displayData,t=[];return e.forEach((function(e){t.push(i.a.createElement("option",{value:e.id,key:e.id},e.name))})),t}},{key:"getNameCommentIfNeeded",value:function(){return this.state.showNameComment?i.a.createElement("div",{className:"add-transformation-name-comment-container"},i.a.createElement(ef.Row,null,i.a.createElement("label",null,"Name*")),i.a.createElement(ef.Row,null,i.a.createElement(eo.TextField,{onBlur:this.onNameBlur,onChange:this.onNameChange,onKeyPress:this.onNameKeyPress,tabIndex:"2"})),i.a.createElement(ef.Row,null,i.a.createElement("label",null,"Comment")),i.a.createElement(ef.Row,null,i.a.createElement(eo.TextField,{onBlur:this.onCommentBlur,onKeyPress:this.onCommentKeyPress,tabIndex:"3"}))):this.state.urlTransformation?i.a.createElement("div",{id:"AddTransformationDialog"},i.a.createElement(ef.Row,null,i.a.createElement(Ah.b,null,"Select url transformation"),i.a.createElement(Ah.a,{type:"select",onChange:this.onSelectTransform},this.getUrlList()))):""}},{key:"render",value:function(){var e=this.state.errorMessage;return i.a.createElement(Lh,{title:"Add New Transformation",visible:this.props.showDialog,okString:"Add",onCancel:this.props.onCancel,onOk:this.onOK,okDisabled:this.state.okDisabled},i.a.createElement("div",{id:"AddTransformationDialog"},e&&i.a.createElement(nf,{errorMsg:e,styleOverride:{marginBottom:"10px"}}),i.a.createElement(ef.Row,null,i.a.createElement(Ah.b,null,"Select a transformation type"),i.a.createElement(Ah.a,{type:"select",onChange:this.onSelect},this.getTransformationList())),this.getNameCommentIfNeeded()))}}]),n}(o.Component);of.propTypes={showDialog:qr.a.bool,onCancel:qr.a.func,onOK:qr.a.func,transformations:qr.a.array,dispatch:qr.a.func};var sf=of,cf=n(722),lf=n.n(cf),df=[{name:"apostrophe-regex",id:"apostrophe",getMethod:function(){var e={type:T.TRANSFORMATION_TYPES.REGEX_REPLACE,mappings:{}};return e.mappings[/[`|‘|’]/i]="'",e}},{name:"class_number",id:"classNumber",getMethod:function(){var e={type:T.TRANSFORMATION_TYPES.WORDCLASS_SUBST_REGEX,mappings:{}};return e.mappings={"/\\b[0-9]+(?:\\s*[\\.,]\\s*[0-9]+)*(?:\\s*(?:nd|th|rd|st))?\\b/i":"_class_number","/\\b(?:zero|one|two|three|four|five|six|seven|eight|nine|hundred|ten|eleven|twelve|thirteen|fourteen|fifteen|sixteen|seventeen|eighteen|nineteen|twenty|thirty|forty|fifty|sixty|seventy|eighty|ninety)'?s\\b/i":"_class_number","/#(?=[^a-zA-Z0-9])/i":"_class_number_ref"},e}},{name:"class_percentage",id:"classPercentage",getMethod:function(){var e={type:T.TRANSFORMATION_TYPES.WORDCLASS_SUBST_REGEX,mappings:{}};return e.mappings={"/[0-9]+\\.[0-9]*\\s?(?:%|percent(?:age|ile)?)/i":"_class_percentage","/[0-9]+\\s?(?:%|percent(?:age|ile)?)/i":"_class_percentage","/(?:one(?:\\s|-))?hundred\\s?(?:%|percent(?:age|ile)?)/i":"_class_percentage","/(?:\\b(?:twenty|thirty|forty|fifty|sixty|seventy|eighty|ninety)(?:(?:\\s|-)?(?:one|two|three|four|five|six|seven|eight|nine))?)\\s?(?:%|percent(?:age|ile)?)/i":"_class_percentage","/\\b(?:zero|one|two|three|four|five|six|seven|eight|nine|hundred|ten|eleven|twelve|thirteen|fourteen|fifteen|sixteen|seventeen|eighteen|nineteen|twenty|thirty|forty|fifty|sixty|seventy|eighty|ninety)\\s?(?:%|percent(?:age|ile)?)/i":"_class_percentage"},e}},{name:"class_time",id:"classTime",getMethod:function(){var e={type:T.TRANSFORMATION_TYPES.WORDCLASS_SUBST_REGEX,mappings:{}};return e.mappings={"/d{1,2}s*(?:(?:am|pm)|(?:s:sd{1,2})s*(?:am|pm)?)/i":"_class_time"},e}},{name:"date-regex",id:"dateRegex",getMethod:function(){var e={type:T.TRANSFORMATION_TYPES.WORDCLASS_SUBST_REGEX,mappings:{}};return e.mappings={"/(?:\\d{1,2}\\s*[\\s/\\.-]\\s*\\d{1,2}\\s*[\\s/\\.-]\\s*(?:\\d{4}|\\d{2}))/i":"_class_date","/(?:(?:monday|tuesday|wednesday|thursday|friday|saturday|sunday|mon|tue|wed)\\s*(?:[\\s,/\\.-]|of)\\s*)?(?:(?:(?:\\d{4}|\\d{1,2}(?:nd|th|rd|st)?)\\s*(?:[\\s,/\\.-]|of)\\s*(?:\\d{4}|\\d{1,2}(?:nd|th|rd|st)?)\\s*(?:[\\s,/\\.-]|of)\\s*\\b(?:january|february|march|april|may|june|july|august|september|october|november|december|jan|feb|mar|apr|jun|jul|aug|sept|sep|oct|nov|dec)\\b)|(?:(?:\\d{4}|\\d{1,2}(?:nd|th|rd|st)?)\\s*(?:[\\s,/\\.-]|of)\\s*\\b(?:january|february|march|april|may|june|july|august|september|october|november|december|jan|feb|mar|apr|jun|jul|aug|sept|sep|oct|nov|dec)\\b\\s*(?:[\\s,/\\.-]|of)\\s*(?:\\d{4}|\\d{1,2}(?:nd|th|rd|st)?))|(?:\\b(?:january|february|march|april|may|june|july|august|september|october|november|december|jan|feb|mar|apr|jun|jul|aug|sept|sep|oct|nov|dec)\\b\\s*(?:[\\s,/\\.-]|of)\\s*(?:\\d{4}|\\d{1,2}(?:nd|th|rd|st)?)\\s*(?:[\\s,/\\.-]|of)\\s*(?:\\d{4}|\\d{1,2}(?:nd|th|rd|st)?)))(?:\\s*(?:[\\s,/\\.-]|of)\\s*(?:monday|tuesday|wednesday|thursday|friday|saturday|sunday|mon|tue|wed))?/i":"_class_date","/(?:(?:monday|tuesday|wednesday|thursday|friday|saturday|sunday|mon|tue|wed)\\s*(?:[\\s,/\\.-]|of)\\s*)?(?:(?:(?:\\d{4}|\\d{1,2}(?:nd|th|rd|st)?)\\s*(?:[\\s,/\\.-]|of)?\\s*(?:january|february|march|april|may|june|july|august|september|october|november|december|jan|feb|mar|apr|jun|jul|aug|sept|sep|oct|nov|dec)\\s*(?:[\\s,/\\.-]|of)?\\s*(?:\\d{4}|\\d{1,2}(?:nd|th|rd|st)?))|(?:(?:january|february|march|april|may|june|july|august|september|october|november|december|jan|feb|mar|apr|jun|jul|aug|sept|sep|oct|nov|dec)(?:\\d{4}|\\d{1,2}(?:nd|th|rd|st)?))|(?:(?:\\d{4}|\\d{1,2}(?:nd|th|rd|st)?)(?:january|february|march|april|may|june|july|august|september|october|november|december|jan|feb|mar|apr|jun|jul|aug|sept|sep|oct|nov|dec)))(?:\\s*(?:[\\s,/\\.-]|of)\\s*(?:monday|tuesday|wednesday|thursday|friday|saturday|sunday|mon|tue|wed))?/i":"_class_date","/(?:(?:monday|tuesday|wednesday|thursday|friday|saturday|sunday|mon|tue|wed)\\s*(?:[\\s,/\\.-]|of)\\s*)?(?:(?:(?:\\d{4}|\\d{1,2}(?:nd|th|rd|st)?)\\s*(?:[\\s,/\\.-]|of)\\s*\\b(?:january|february|march|april|may|june|july|august|september|october|november|december|jan|feb|mar|apr|jun|jul|aug|sept|sep|oct|nov|dec)\\b)|(?:\\b(?:january|february|march|april|may|june|july|august|september|october|november|december|jan|feb|mar|apr|jun|jul|aug|sept|sep|oct|nov|dec)\\b\\s*(?:[\\s,/\\.-]|of)\\s*(?:\\d{4}|\\d{1,2}(?:nd|th|rd|st)?)))(?:\\s*(?:[\\s,/\\.-]|of)\\s*(?:monday|tuesday|wednesday|thursday|friday|saturday|sunday|mon|tue|wed))?/i":"_class_date","/(?:\\d{1,2}\\s*[/]\\s*(?:\\d{4}|\\d{2}))|(?:\\d{1,2}\\s*[\\.]\\s*\\d{4})/i":"_class_date","/\\b(?:january|february|march|april|june|july|august|september|october|november|december|jan|feb|mar|jun|jul|aug|sept|sep|oct|nov|dec)\\b/i":"_class_date","/\\b(?:monday|tuesday|wednesday|thursday|friday|saturday|sunday|mon|tue|wed)\\b/i":"_class_date"},e}},{name:"email-regex",id:"emailRegex",getMethod:function(){var e={type:T.TRANSFORMATION_TYPES.WORDCLASS_SUBST_REGEX,mappings:{}};return e.mappings={"/(([\\w_\\.-])+@([\\d\\w\\.-])+\\.([a-z\\.]){2,6})/i":"_class_email"},e}},{name:"html-encoding",id:"htmlEncoding",getMethod:function(){var e={type:T.TRANSFORMATION_TYPES.REGEX_REMOVAL,mappings:{},list:["/%[0-9]+/"]};return e}},{name:"non-breaking-space",id:"nonBreakingSpace",getMethod:function(){var e={type:T.TRANSFORMATION_TYPES.REGEX_REPLACE,mappings:{}};return e.mappings[/\xao/i]=" ",e}},{name:"phone_number",id:"phoneNumber",getMethod:function(){var e={type:T.TRANSFORMATION_TYPES.WORDCLASS_SUBST_REGEX,mappings:{}};return e.mappings={"/\\(?([0-9]{3})?[-.\\s)]*[0-9]{3}[-.\\s]*[0-9]{4}\\b/":"_class_phone_number","/\\b[0-9]{5}[\\s\\.-]?[0-9]{5}\\b/":"_class_phone_number"},e}},{name:"punctuation-normalization",id:"punctuationNormalization",getMethod:function(){var e={type:T.TRANSFORMATION_TYPES.REGEX_REPLACE,mappings:{}};return e.mappings={'/(\\-|\\.|\\,|\\?|\\!|\\*|\\$|\\\\|\\%|\\&|\\#|\\@|\\:|\\||"|\\/|\\)|\\()/i':" "},e}},{name:"rx-remove-dup-words",id:"removeDupWords",getMethod:function(){var e={type:T.TRANSFORMATION_TYPES.REGEX_REPLACE,mappings:{}};return e.mappings[/\\b(\\w+)(\\s\\1\\b)+/i]="$1",e}},{name:"sentence-marker",id:"sentenceMarker",getMethod:function(){var e={type:T.TRANSFORMATION_TYPES.REGEX_REPLACE,mappings:{}};return e.mappings[/^/i]="_class_ss",e.mappings[/$/]="_class_se",e}},{name:"synonyms-set1",id:"synonymsSet1",getMethod:function(){return{type:"regex-replace",mappings:{"/\\b(beneficiar\\S*|ben.?fitiar\\S*|inherit\\S*|heir\\S*|legatee\\S*|asset recipient)\\b/i":"Beneficiary","/\\b(book|books|textbook\\S*|text.?book\\S*|coursebook\\S*|coursenote\\S*|course note\\S*|novel|novels|((class\\S*|course\\S*|read\\S*|school\\S* ) && (material\\S*|book\\S*|note\\S*)))\\b/i":"Book","/\\b(addres\\S*|adres\\S*|location)\\b/i":"Address","/\\b(depart\\S*|takeoff\\S*|take.?off\\S*|((tak\\S*|took) && off\\S*)|launch\\S*|embark\\S*|(set\\S* && (out\\S*|forth\\S*)))\\b/i":"Depart ","/\\b((person\\S*|my) && (info\\S*|data|detail\\S*))\\b/i":"PersonalInformation","/\\b(phone\\S*|telephon\\S*|cell\\S*|mobile\\S*|smartphone\\S*|smart.?phone\\S*|mobil\\S*  devic\\S*|iphone\\S*|i.?phone\\S*|android\\S*|nexus\\S*|blackberr\\S*|black.?berr\\S*|motorola\\S*|samsung\\S*|LG|Sony|HTC)\\b/i":"Phone","/\\b(plan|plans|scheme\\S*|arrangement\\S*|program\\S*|strateg\\S*|system\\S*|project\\S*)\\b/i":"Plan","/\\b(police\\S*|policing|cop|cops|constable\\S*|mounty|mounties|detectiv\\S*|law enfor\\S*|officer|officers|patrol\\S*|authorities|fuzz|narc )\\b/i":"Police","/\\b(positiv\\S*|good|great\\S*|well|ok|okay|right\\S*|correct\\S*|ideal\\S*|perfect\\S*|fantastic\\S* )\\b/i":"Positive ","/\\b(pre.?author\\S* pay\\S*|preauthor\\S* pay\\S*|pre.?approv\\S* pay\\S*|preapprov\\S* pay\\S*|pap|p.?a.?p.?|pad|p.?a.?d.?|papp|p.?a.?p.?p.?|auto.?withdraw\\S*|autowithdraw\\S*|auto.?pay|auto\\S* pay\\S*|autopay\\S*|auto.?debit\\S*|auto\\S* debit\\S* autodebit\\S*|direct.?withdraw\\S*|direct.?pay\\S*|directpay\\S*|directdebit\\S*|direct.?debit\\S*|((pre.?author\\S*|preauthor\\S*|pre.?approv\\S*|preapprov\\S*|direct\\S*|auto\\S*) && (pay\\S*|debit\\S*|pay\\S* plan\\S*|withdraw\\S*)))\\b/i":"PreAuthorizedPayment","/\\b(promo\\S*|incentiv\\S*|deal\\S*|special\\S*|bonus\\S* )\\b/i":"Promotion","/\\b(protec\\S*|safe\\S*|safeguard\\S*|safe.?guard\\S*|guard\\S*|shelter\\S*|preserv\\S*|as.?lum\\S*|refuge\\S*|sanctu\\S*|secur\\S* )\\b/i":"Protect","/\\b(rank\\S*|ordin.?nc\\S*|order\\S*|place\\S*|standing\\S*|position\\S*|hierarch\\S*|pedigree\\S*|stature\\S*)\\b/i":"Rank","/\\b(realestate|real.?estate|realtor\\S*)\\b/i":"RealEstate","/\\b(redeem\\S*|redem\\S*|cash\\S* in|cashed)\\b/i":"Redeem","/\\b(special health servic\\S*|special servic\\S*|profes\\S* servic\\S*|massag\\S*|masag\\S*|rmt\\S*|nat.?r.?path\\S*|nat.?rpath\\S*|ch.?rop\\S*|acupun\\S*|homeopath\\S*|ps.?chol.?g\\S*|ps.?chia\\S*|coun.?.?l\\S*|therap\\S*|rehab\\S*)\\b/i":"SpecialHealthServices","/\\b(specific\\S*|certain\\S*|particul.?r\\S*|set|definite\\S*|finite\\S*|distinct\\S*|exact\\S*|explic.?t\\S*|precis\\S*|fixed|decided|established )\\b/i":"Specific","/\\b(spous\\S*|spouc\\S*|partner\\S*|wife\\S*|wiv\\S*|husban\\S*|hubby\\S*|partner\\S*|domestic partner\\S*|common  law\\S*|commonlaw|common.?law  partner\\S* )\\b/i":"Spouse","/\\b(opt.?in|(opt\\S* && in)|participat\\S*)\\b/i":"OptIn","/\\b(alter\\S*|chang\\S*|edit|editing|exchang\\S*|((find\\S*|found|pick\\S*|switch\\S*) && another)|make\\S* change\\S*|modif\\S*|revis\\S*|switch\\S*|up date|updat\\S*|up.?dat\\S*|upgrad\\S*|convert\\S*|conversion)\\b/i":"Modify","/\\b(claim\\S*|claim form\\S*)\\b/i":"Claim","/\\b(sport\\S*|athlet\\S*|athelet\\S*|game\\S*|team\\S*|coach\\S*|archery\\S*|badm.?nt.?n\\S*|baseball\\S*|base.?ball\\S*|basket.?ball\\S*|basketball\\S*|bowling|crosscountry\\S*|cross.?country\\S*|equestri.?n\\S*|fencing\\S*|fishing|field.?hockey\\S*|fieldhockey\\S*|foot.?ball\\S*|football\\S*|golf\\S*|gymnastic\\S*|handball\\S*|hockey\\S*|ice.?hockey\\S*|icehockey\\S*|l.?cros\\S*|rifle\\S*|rowing\\S*|rugby\\S*|ski|skiing\\S*|socc.?r\\S*|softball\\S*|squash\\S*|swim\\S*|sync\\S* swim\\S*|tenn.?s\\S*|(track\\S* && ( field\\S*|indoor\\S*|outdoor\\S* ) )|volleyball\\S*|volley.?ball\\S*|waterpolo\\S*|water.?polo\\S*|wrestling\\S*|quidditch\\S*)\\b/i":"Sports","/\\b(person|persons|people\\S*|human\\S*|citizen\\S*|individual\\S*|somebod\\S*|some.?body\\S*|anybody\\S*|any.?bod\\S*|anyone\\S*|any.?one\\S*|someone\\S*|some.?one\\S*|everybod\\S*|every.?bod\\S*|everyone\\S*|every.?one\\S*|fr.?.?nd\\S*|frind\\S*|buddy\\S*|buds|buddies|chum\\S*|pal|pals|pal.?s|companion\\S*|male\\S*|female\\S*)\\b/i":"Person","/\\b(provid\\S*|provis\\S*|offer\\S*|ofer|g.?ve|given|giving)\\b/i":"Provide","/\\b(purchas\\S*|buy\\S*|order\\S*|reorder\\S*|bought\\S*)\\b/i":"Purchase","/\\b(s.?.?ol.?r.?.?ip\\S*|s.?.?oll.?r.?.?ip\\S*|((student\\S*|financ\\S*) && award\\S*)|bursar\\S*|grant|grants )\\b/i":"Scholarship","/\\b(school\\S*|uni|universit\\S*|coll.?ge\\S*|col.?ge\\S*|institution\\S*|campus\\S*|high.?school\\S*)\\b/i":"School","/\\b((school|term|midterm\\S*|mid.?term\\S*|reading\\S*|spring\\S*|summer\\S*|winter\\S*|fall\\S*|march\\S*|feb\\S*|december\\S*|dec) && ( break\\S*|holiday\\S*|vacation\\S*|week\\S* ) )\\b/i":"SchoolBreak","/\\b(season\\S*|spring\\S*|summer\\S*|fall|autum\\S*|winter\\S* )\\b/i":"Seasons","/\\b(sell\\S*|sold|peddl\\S*|pitch\\S*|vend\\S*|retail\\S*|resell\\S*|resal\\S*|re.?sell\\S*|re.?sal\\S*|merchan\\S*)\\b/i":"Sell","/\\b(senior\\S*|senior.?cit\\S*|6.?.?year\\S*|7.?.?year\\S*|((old\\S*|retire\\S*|elder\\S*) && (people|person|man|men|gentlem.?n\\S*|gentle.?m.?n\\S*|wom.?n|lady|ladies))|elder\\S*|geezer\\S*|retiree\\S*|over.?6.?|over.?7.?|over.?sixty\\S*|over.?seventy\\S* )\\b/i":"SeniorCitizen","/\\b((s.?rv\\S* lev.?l (agr\\S*|commit\\S*))|SLA|S.L.A.|SLAS|SLA.?S )\\b/i":"ServiceLevelAgreement","/\\b(test)\\b/i":"Test","/\\b(before\\S*|ahead\\S*|ahead.?of|in.?advance\\S*|pri.?r.?to\\S*|precede|precedes|preceding|sooner.?th.?n|previous\\S*|previous.?to|early|earli\\S*|pre.?matur\\S*|prematur\\S*|advance)\\b/i":"Before","/\\b(begin\\S*|commenc\\S*|comenc\\S*|start\\S*|initia\\S*|launch\\S*|get\\S* going|kickoff\\S*|kick.?off\\S*|kick\\S* off|set\\S* forth\\S*|onset\\S*|boot\\S*|reboot\\S*|power\\S* on|activat\\S*|introduc\\S* )\\b/i":"Begin","/\\b(borrow\\S*|rent\\S*|lease\\S*|leasing )\\b/i":"Borrow","/\\b(brochure\\S*|pamfl\\S*|pamphl\\S*|cat.?l.?g\\S*|leaflet\\S*|booklet\\S*|flyer\\S*|flier\\S*|newsletter\\S*|news.?letter\\S*|bull.?tin\\S*|press.?release\\S*)\\b/i":"Brochure","/\\b(browser\\S*|netscape|internet explorer|ie|i.e.\\S*|microsoft net\\S* sca\\S*|aol|mozilla\\S*|firefox\\S*|fire.?fox\\S*|safari\\S*|chrome\\S*|microsoft edge|ms edge|edge)\\b/i":"Browser","/\\b(cable|cablevision|cable.?vision|cable.?tv|tv\\S*|t.v.|television\\S*|cabletv|cable.?telev\\S* )\\b/i":"CableTV","/\\b(call|calls|called|calling|ring|rings|ringing|dial\\S*|phone\\S*|phoning)\\b/i":"Call ","/\\b(canada\\S*|canadi.?n\\S*|cdn|candi.?n\\S*)\\b/i":"Canada","/\\b(charit\\S*|not.?for.?profit\\S*|nfp\\S*|non.?profit\\S*|nonprofit\\S*|philanth\\S*|donat\\S*|donor\\S*|endow\\S* )\\b/i":"Charity","/\\b(cheque\\S*|check|checks|cheqs|cheqeu|cheqeus|chq\\S*|chk\\S*|chequing|checking )\\b/i":"Cheque ","/\\b(club\\S*|alianc\\S*|allianc\\S*|association\\S*|asociation\\S*|faction\\S*|league\\S*|societ\\S*|union\\S*)\\b/i":"Club","/\\b(code\\S*|coding)\\b/i":"Code","/\\b(combin\\S*|consol\\S*|merg\\S*|unite\\S*|uniting|unif\\S*|blend\\S*|mix\\S*|pool\\S*|amalg\\S* )\\b/i":"Combine ","/\\b(company\\S*|companies|busines\\S*|b.?snes\\S*|buisnes\\S*|biz|agenc\\S*|firm\\S*|organi.?ation\\S*|org|corporat\\S*|association\\S*|guild\\S*|enterpri.?\\S*|commercial\\S* )\\b/i":"Company","/\\b(complet\\S*|whole\\S*|entir\\S*|all|full\\S*|total\\S* )\\b/i":"Complete","/\\b(connect\\S*|hook\\S* up|hook.?up\\S*|hookup\\S*|( ( turn\\S*|connect\\S*|get\\S* ) && ( back on|on again ) )|reconnect\\S*|recconnect\\S*|re.?connect\\S*|reconect\\S*|re.?conec\\S*|((switch\\S*|turn\\S* ) && on)|start\\S* up)\\b/i":"ConnectReconnect","/\\b(contact\\S*|communica\\S*|comunica\\S*|reach\\S*|talk\\S*|speak\\S*|((speak\\S*|talk\\S*|communicat\\S*|connect\\S*) && (to|with))|in.?touch|touch.?base|inform|informs|informed|informing|advise\\S*|advising|tell\\S*|told )\\b/i":"Contact","/\\b(contract\\S*|agreement\\S*|contrct\\S*|rider\\S*)\\b/i":"Contract","/\\b(copay\\S*|co.?pay\\S* )\\b/i":"CoPay","/\\b(cours\\S*|coars\\S*|cors\\S*|subject\\S*|class|classes|clas|calss\\S*)\\b/i":"Course","/\\b(creat\\S*|mak\\S*|made|establish\\S*|build\\S*|generate\\S*|generating\\S*|produce\\S*|producing|construc\\S*|invent\\S* )\\b/i":"Create","/\\b(credit.?card\\S*|credit\\S*|visa|mastercard|master card|amex|american express|diners club|diners card|discover|mbna|tang.?rine )\\b/i":"CreditCard","/\\b(download\\S*|down.?load\\S*|down load\\S*|dl|d.l. )\\b/i":"Download ","/\\b(freshm.?n\\S*|frosh\\S*|first.?year\\S*|firstyear\\S*|freshie\\S*|((first.?year\\S*|firstyear\\S*) && student\\S*) )\\b/i":"StudentFreshman","/\\b(((second\\S*|vacation\\S*|vacay|temp\\S*|rent\\S*) && (home\\S*|hous\\S*|propert\\S*))|cottag\\S*|chalet\\S*|cabin\\S*|RV|rec\\S* vehicl\\S*|mobil\\S* home\\S*|trailer\\S*)\\b/i":"SecondaryHome","/\\b(bank\\S* machine\\S*|bank.?machine\\S*|bankmachine\\S*|ATM\\S*|A.T.M\\S*|ATM machine\\S*|auto\\S* teller\\S*|auto\\S* teller\\S* machine\\S*|ABM\\S*|A.B.M\\S*|ABM machine\\S*|auto\\S* bank\\S* machine\\S*|cash\\S* machine\\S*|cash.?machine\\S*|cash\\S* d.?spens.?r\\S*|cash.?d.?spens.?r\\S*|green.?machine\\S* )\\b/i":"BankMachine","/\\b(big\\S*|huge\\S*|gigant\\S*|giant\\S*|enormous\\S*|hum.?ngous\\S*|large\\S*|long\\S*|considerabl\\S*|heavy|heavi\\S*)\\b/i":"Big","/\\b(choos\\S*|pick\\S*|select|selects|selected|selecting|decid\\S*|declar\\S*|elect\\S*|chose)\\b/i":"Choose","/\\b(((grad\\S*|master\\S*) && (student\\S*|scholar|scholars|school\\S*|program\\S*))|grad|master\\S*|phd\\S*|ph.?d|doctorate\\S*|post.?doc\\S*|MA|MS|MBA|LLB|MD)\\b/i":"StudentGrad","/\\b(((undergrad\\S*|under.?grad\\S*) && student\\S*)|undergrad\\S*|under.?grad\\S*|soph\\S*|juni.?r\\S*|seni.?r\\S*|((1st|first|2nd|second|3rd|third|4th|fourth) && year\\S*)|1st.?year\\S*|2nd.?year\\S*|3rd.?year\\S*|4th.?year\\S*)\\b/i":"StudentUndergrad","/\\b(submi\\S*|send\\S*|sent|submit\\S*|file|filing|((send\\S*|sent|hand\\S*) &&  (in|over))|drop.?off|drop\\S*  off|deliver\\S* )\\b/i":"SubmitSend","/\\b(summar\\S*|sumar\\S*|report\\S*|abstract\\S*|prospect.?s\\S*|synops\\S*|spec|specs)\\b/i":"Summary ","/\\b(survey\\S*|audit|audits|auditing\\S*|audited|poll|polls|polling|polled )\\b/i":"Survey","/\\b(tablet\\S*|surface\\S*|microsoft.?surface\\S*|e.?book\\S*|ebook\\S*|electronic.?book\\S*|eread\\S*|e.?read\\S*|Kindle\\S*|Nook\\S*|Kobo\\S*|ipad\\S*|ipod\\S*|vtech|samsung tab\\S* )\\b/i":"Tablet","/\\b(tax\\S*|duty|duties|levy|levies|tariff\\S*|excise\\S*|harmon\\S* sale\\S* tax\\S*|HST\\S*|H.?S.?T\\S*|(good\\S* && servic\\S* && tax\\S*)|GST\\S*|G.?S.?T\\S* )\\b/i":"Tax","/\\b(teacher\\S*|educat.?r\\S*|instruct.?r\\S*|tutor|tutors|train.?r\\S*|prof|profs|profess.?r\\S*|proffes.?r\\S*|profes.?r\\S*|facult\\S* )\\b/i":"Teacher","/\\b(ticket\\S*|pass|passes|invitation\\S*|token\\S* )\\b/i":"Ticket","/\\b(time.?off|timeoff|sabbatical\\S*|sabatical\\S*|(leave of && (absen\\S*|abcen\\S*))|((stat\\S*|paid|official|recognize\\S*) && (((time\\S*|day\\S*) && off)|leave\\S*|holiday\\S*)))\\b/i":"TimeOff","/\\b(max|maxim\\S*|most)\\b/i":"Maximum"}}}},{name:"synonyms-set2",id:"synonymsSet2",getMethod:function(){return{type:"regex-replace",mappings:{"/\\b(warr.?nty|warr.?nties|war.?nty|war.?nties|garant\\S*|g.?.?rant\\S*|protect\\S* plan\\S*|protectionplan\\S*|protection.?plan\\S*)\\b/i":"Warranty","/\\b(youth\\S*|child\\S*|kid\\S*|teen\\S*|youngster\\S*|boy\\S*|girl\\S* )\\b/i":"Youth","/\\b(deductible\\S*|dedutible\\S*|deduc\\S*|pay\\S* out of pocket|policy payment\\S*)\\b/i":"Deductible","/\\b(defer\\S*|put\\S*off\\S*|delay\\S*|layover\\S*|lay\\S* over\\S*|prolong\\S*|protract\\S*|postpon\\S*|post.?pon\\S* )\\b/i":"Defer","/\\b(deposit\\S*|contrib\\S*|put\\S* in|add\\S* to )\\b/i":"Deposit","/\\b(( ( turn\\S*|shut\\S*) && ( off\\S*|down ) )|disabl\\S*|disconnect\\S*|dis.?connect\\S*|unconnect\\S*|un.?connect\\S*|unplug\\S*|shutdown\\S*|shut\\S* down\\S*|shut\\S* off\\S* )\\b/i":"Disconnect","/\\b(limit\\S*|cap|capping\\S*|caps\\S*|capped\\S*|bound\\S*|ceiling\\S*|floor\\S*|cut.?off\\S*|cutoff\\S*|cut\\S* off\\S*|allow.?nce\\S*|alow.?nce\\S* )\\b/i":"Limit","/\\b(link\\S*|join\\S*|add|adds|added|adding|attach\\S*|attatch\\S*|coupl\\S*|relat\\S*|conjoin\\S*)\\b/i":"Link","/\\b(mail\\S*|snailmail\\S*|snail.?mail\\S*|post|postage|maling )\\b/i":"Mail","/\\b(insur\\S*|cover\\S*|protect\\S* )\\b/i":"Insure","/\\b(inter.?st|intr.?st)\\b/i":"Interest","/\\b(timeframe\\S*|time.?frame\\S*|how long does it take|how many days|timeline|duration\\S*)\\b/i":"Timeframe","/\\b(transfer\\S*|trasfer\\S*|move\\S*|moving|relocat\\S*|re.?locat\\S*)\\b/i":"Transfer","/\\b(maintain\\S*|keep\\S*|kept|save\\S*|saving\\S*|retain\\S*|continue\\S*|sustain\\S*|uph.?ld\\S*|upkeep\\S*|up.?keep\\S*|care\\S* for|caring for )\\b/i":"Maintenance","/\\b(many|multipl\\S*|numerous\\S*|several\\S*|more|extra|extras|supplement\\S*|suplement\\S*|addition\\S*|adition\\S*|another|lots|(a && (lot|few|couple))|alot|more  th.?n|one more|more th.?n one|2|3|4|5|6|7|8|9|10|two|three|four|five|six|seven|eight|nine|ten|2nd|3rd|4th|5th|6th|7th|8th|9th|10th|second|third|fourth|forth|fifth|sixth|seventh|eighth|ninth|tenth)\\b/i":"Many","/\\b(mar.?juan\\S*|pot|weed|420|toke|toking|bong|splif\\S*|hash|thc|cann.?bis\\S*|can.?bis\\S*|ganja\\S*|stoner|stoned|g.?t.?high)\\b/i":"Marijuana","/\\b(med\\S* practi\\S*|doctor\\S*|PCP|P.C.P.|physician\\S*|primary care physician\\S*|dr|DR.?|DR.?s|physician\\S*|family doctor\\S*|family practitioner\\S*|general practitioner\\S*|family physician\\S*|nurse|nurses|nursing|gen\\S* practi\\S*|GP|GPs|GP.?s|G.P. )\\b/i":"MedicalPractitioners","/\\b(medication\\S*|pr.?scri\\S*|meds|perscri.?\\S*|drug\\S*|pharm\\S*|med.?cin\\S*|script|scripts|pill|pills )\\b/i":"Medication ","/\\b(messag\\S*|((text\\S*|txt) && (messag\\S*|msg\\S*))|text\\S*|txt\\S*|msg\\S*|sms\\S*|mms\\S*|bbm\\S*|imessag\\S*|i.?messag\\S*|whatsapp\\S*|whats.?app\\S*|what.?s.?app\\S*|slack)\\b/i":"Messaging ","/\\b(meter\\S*|metre\\S*|mter\\S*|metter\\S*|meater\\S*|meeter\\S*|gauge\\S*|guage\\S*)\\b/i":"Meter","/\\b(microsoft suite|microsoft\\S*|((ms|microsoft|micro.?soft) && (office|word|excel|exel|ecxel|ecsel|ecel|onedrive|one.?drive|powerpoint\\S*|power.?point\\S*|ppt\\S*|onenote|one.?note|outlook))|spread sheet\\S*|spread.?sheet\\S*|excel.?|exel.?|ecxel.?|ecsel.?|ecel.?|word|msword|word  process\\S*|office|onedrive|one.?drive|powerpoint\\S*|power.?point\\S*|ppt\\S*|slideshow\\S*|slide.?show\\S*|onenote|one.?note|outlook)\\b/i":"MicrosoftSuite","/\\b(min|minim\\S*|least)\\b/i":"Minimum","/\\b(mobile.?app\\S*|phone.?app\\S*|app|apps )\\b/i":"MobileApp","/\\b(money\\S*|monies|doll.?r\\S*|dol.?r\\S*|fund\\S*|cash\\S*|curenc\\S*|currenc\\S*|wealth\\S*|legal tender|dough|dolla billz|bucks|buck|coin|coins )\\b/i":"Money","/\\b(municipal\\S*|city\\S*|cities|town\\S*|villag\\S*|metro\\S*|urban\\S*|suburb\\S*|county\\S*|counties)\\b/i":"Municipality","/\\b(mutu.?l fund\\S*|money.?market\\S*|MF|bond fund\\S*|invest\\S* fund\\S*|close\\S* end fund\\S*|stock\\S* fund\\S*|hedge fund\\S* )\\b/i":"MutualFund","/\\b(name\\S*|naming|firstname\\S*|first.?name\\S*|lastname\\S*|last.?name\\S*|surname\\S* )\\b/i":"Name","/\\b(inter.?st rate\\S*|rate\\S* of inter.?st|rate\\S*|APR|A.P.R\\S*)\\b/i":"InterestRate","/\\b(no|nothing\\S*|none\\S*|nada\\S*|zero|not|aren.?t|arent|daren.?t|darent|didn.?t|didnt|doesn.?t|doesnt|does not|don.?t|dont|did not|hasn.?t|hasnt|haven.?t|havent|hadn.?t|hadnt|is not|isn.?t|isnt|mayn.?t|maynt|mightn.?t|mightnt|mustn.?t|mustnt|needn.?t|neednt|oughtn.?t|oughtnt|shan.?t|shant|shouldn.?t|shouldnt|wasn.?t|wasnt|weren.?t|werent|won.?t|wont|wouldn.?t|wouldnt|will not|neither|nor|never)\\b/i":"Negative","/\\b(number\\S*|no.|numer\\S*|digit|digits)\\b/i":"Number","/\\b(online\\S*|on.?line\\S*|internet\\S*|internt\\S*|net|web\\S*|virtual\\S* )\\b/i":"Online","/\\b(fee|fees|dues|pen.?lt\\S*|pen.?li\\S*|fine\\S*|retribution\\S*|toll|tolls )\\b/i":"Fee","/\\b((financ\\S* && (software\\S*|soft.?ware|program\\S*))|quicken|quickbooks|turbotax|turbo.?tax)\\b/i":"FinancialSoftware","/\\b(financing|finance\\S*|fundrais\\S*|debtleverag\\S*|debt.?leverag\\S*)\\b/i":"Financing","/\\b(Foreign\\S* Exchang\\S*|Forex|For.?Ex|FX\\S*|AFX\\S*|((exchang\\S*|conver\\S*) && rate\\S*))\\b/i":"ForeignExchange","/\\b(fraud\\S*|fruad|scam\\S*|ponzi|scam artist\\S*|phish\\S*|suspicious\\S*|extort\\S*|swindl\\S*|embezzl\\S*|counterf\\S*|fake\\S*|false|falsified|ingenuine\\S*|phony|bogus|imitat\\S*|spurious|ersatz|feign\\S*|sham|forge\\S*|phonies|falsify)\\b/i":"Fraud","/\\b(free|no.?charge|compl.?ment.?r\\S*|on.?the.?house|no.?cost|gratis|no.?fee\\S*|without charge\\S*|without fee|without fees|toll.?free)\\b/i":"Free","/\\b( front.?desk\\S*|frontdesk\\S*|k.?osk\\S*|k.?.?osk\\S*|reception\\S*|booth\\S*|counter|counters )\\b/i":"FrontDesk","/\\b(function\\S*|work\\S*|operat\\S*|perform\\S*|behav\\S*|produc\\S* result\\S*|respond\\S*)\\b/i":"Function","/\\b(hotel\\S*|resort\\S*|motel\\S*|inn\\S*|accoma\\S*|accomi\\S*|accomo\\S*|accommo\\S*|acoma\\S*|acomi\\S*|acomo\\S*|lodg\\S*|villa|villas|chalet\\S*|chatea\\S*|bed\\S* breakfast\\S*|bed\\S* .? breakfast\\S*|hostel\\S*|airbnb\\S*|air.?bnb\\S*|bnb|B .? B)\\b/i":"Hotel","/\\b(hours|((hour\\S*|time\\S*) && (busines\\S*|buisnes\\S*|biz|bus.?|operat\\S*|offic\\S*|open\\S*|clos\\S*)))\\b/i":"Hours","/\\b(illness|ill|sick\\S*|nause\\S*|heartburn|indigestion|upset stomach|diarrhea\\S*|diarrhoea\\S*|under.?the.?weather|flu|flue|influenz\\S*|( ( stomach|tummy|belly) && ach\\S* )|migrain\\S*|vomit\\S*|unwell|ailing|ailment\\S*|diseas\\S*|a.?cold|cough\\S*|malaria\\S*|tetan.?s\\S*|tetn.?s\\S*|chickenpox|chicken.?pox|shingles|infect\\S*|ear.?infect\\S*|fever\\S*|allerg\\S*|measle\\S*|mumps\\S*|rubella\\S*|pneumonia\\S*|neumonia\\S*|diabet\\S* )\\b/i":"Illness ","/\\b(imm.?gr.?nt\\S*|im.?gr.?nt\\S*|imm.?gr.?t\\S*|im.?gr.?t\\S*)\\b/i":"Immigrant","/\\b(agree\\S*|acquies\\S*|assent\\S*|comply\\S*|conced\\S*|concur\\S*|consent\\S*)\\b/i":"Agree","/\\b(airport\\S*|airpl\\S*|plane\\S*|terminal\\S*|air\\S* craft\\S*|aircraft\\S*|flight\\S*)\\b/i":"AirTravel","/\\b(alc.?h.?l\\S*|beer\\S*|booz\\S*|liqu.?r\\S*|cocktail\\S*)\\b/i":"Alcohol","/\\b(acces\\S*|acess\\S*|retr.?.?v\\S*|(g.?t\\S* && (into|onto|in|on|in.?to|on.?to))|enter\\S*|entry\\S* )\\b/i":"Access","/\\b(account\\S*|acount\\S*|accont\\S*|accoutn\\S*|acoutn\\S*|a.?c|accnt\\S*|acnt\\S*|acct)\\b/i":"Account","/\\b(acquir\\S*|obtain\\S*|get|getting|geting|gets|got|rec.?.?v\\S*|earn\\S*|grab\\S*|procur\\S*|ach.?.?v\\S*|attain\\S*)\\b/i":"Acquire","/\\b(admit\\S*|admmit\\S*|addmit\\S*|admis\\S*|admmis\\S*|addmis\\S*|g.?t\\S* in)\\b/i":"Admit","/\\b(adult\\S*|mature\\S*|grown.?up\\S*|((over|more.?th.?n|older.?th.?n) && (18|eighteen|21|twenty.?one|twentyone)))\\b/i":"Adult ","/\\b(advant\\S*|ben.?fit\\S*|gain\\S*|plus\\S*|pros|perk\\S*|priv.?l\\S*|privl\\S*)\\b/i":"Advantage","/\\b(after|afterward\\S*|following|subsequent\\S*|behind\\S*|later|succeeding|below\\S*|ensuing|next )\\b/i":"After ","/\\b(agent\\S*|expert\\S*|advis.?r\\S*|rep|reps|representative\\S*|csr\\S*|cxr\\S*)\\b/i":"Agent","/\\b(assign\\S*|del.?gate\\S*|designat\\S*|appoint\\S*|nominat\\S*|tag\\S* )\\b/i":"Assign","/\\b(attend\\S*|atend\\S*|presenc\\S*|participat\\S*|((go|goes|going|gone|went) && (to|somewhere))|show\\S* up )\\b/i":"Attend","/\\b(avail\\S*|vacan\\S*|open\\S*|on hand|on.?hand|unoccu\\S*|unocu\\S*|access.?bl\\S*|acces.?bl\\S*|handy\\S*|ready\\S*)\\b/i":"Available","/\\b(averag\\S*|medi.?n\\S*|avg )\\b/i":"Average","/\\b(alumn\\S*|alum|((class of|graduat\\S* in ) && (19.?.?|20.?.?)) )\\b/i":"Alumni","/\\b(America\\S*|united states|united states of america|usa|u.s.a.|us|u.s.|states|the states|murica\\S*|.?murica\\S*)\\b/i":"America","/\\b(Amount\\S*|quantit\\S*|volume\\S*|length\\S*|weight\\S*|total\\S*|size\\S*)\\b/i":"Amount","/\\b(antivirus|anti.?virus|sophos|mcaf\\S*|norton\\S*|symant.?c|trend microsystem\\S*|kapersky\\S*|kapersk\\S* lab\\S*|Malwarebyte\\S*|mal.?ware.?byte\\S*| ADW Cleaner|Rogue Killer|Junkware Removal tool\\S*|JRT|CCleaner|CC cleaner|c cleaner)\\b/i":"Antivirus","/\\b((Apple && Pay\\S*)|Appl.?Pay\\S*|Apple.?Pay\\S* )\\b/i":"ApplePay","/\\b(apply\\S*|applic\\S*|aply\\S*|appy|aplic\\S* )\\b/i":"Apply","/\\b(appointment\\S*|apointment\\S*|appt\\S*|meet\\S*|see|visit\\S*|check.?up\\S*|checkup\\S* )\\b/i":"Appointment","/\\b(bag\\S*|box|boxes|cargo|luggage\\S*|lugguage\\S*|laugage\\S*|lougage\\S*|suitcase\\S*|suit.?case\\S*|backpack\\S*|back.?pack\\S*|duffle.?bag\\S*|case\\S*|trunk\\S*|carry\\S* on|carry.?on|check.?in lug\\S*|check\\S* in lug\\S*|check.?in bag\\S*)\\b/i":"Baggage","/\\b(bal.?nc\\S*|bal|owe|owes|owed|owing )\\b/i":"Balance","/\\b(bank\\S* branch\\S*|branch\\S*|financial\\S* center\\S*|financial\\S* centre\\S*|teller\\S* )\\b/i":"BankBranch","/\\b(bill\\S*|invoic\\S*|iou\\S*|i.?o.?u\\S*|william)\\b/i":"Bill","/\\b((credit\\S* && (rating\\S*|histor\\S*|bureau\\S*|b.?rrow\\S*|report\\S*|scor\\S*))|equ.?fax\\S*|mogo)\\b/i":"CreditRating","/\\b(immediat\\S*|imediat\\S*|now|instant\\S*|promp\\S*|straightaway\\S*|straight.?away\\S*|right.?away\\S*|pressing\\S*|urgent\\S* )\\b/i":"Immediately ","/\\b(debit\\S* card\\S*|debit.?card\\S*|debitcard\\S*|debit\\S*|bank\\S* card\\S*|bankcard\\S*|access.?card\\S*|accesscard\\S*|acess.?card\\S*|acesscard\\S*|ATM card\\S*|ABM card\\S*|cash machine\\S* card\\S*|bank machine\\S* card\\S*|conv\\S* card\\S*|client card\\S*|client.?card\\S*)\\b/i":"DebitCard","/\\b(employ|employment|employs|employed|work\\S*|job\\S*|career\\S*|becom\\S* an employ\\S*|work\\S* for|work\\S* with|work\\S* at|recruit\\S*|hir\\S*|CV|C.V.|( ( position\\S*|opening\\S* ) && avail\\S* )|placement\\S*|resume\\S*|hr|hum.?n\\S* resourc\\S*|position\\S*)\\b/i":"Employment","/\\b(deadline\\S*|dead.?line\\S*|due|due.?date\\S*|((final\\S*|last\\S*|latest) && (hour\\S*|day\\S*|week\\S*|month\\S*|year\\S*|date\\S*|time\\S* )))\\b/i":"Deadline","/\\b(chang\\S*|lower\\S*|decre.?s\\S*|drop\\S*|go\\S* down\\S*|reduc\\S*|diminish\\S*|shrink\\S*|abat\\S*|low|less|small\\S*|minim\\S*)\\b/i":"Decrease","/\\b(educate\\S*|education\\S*|teach|teaches|teaching|taught|tutor|tutors|tutoring|train|trains|trained|training|instruct|instruction\\S*|edu|ed|learn\\S*|schooling|studies|tutelag\\S*|learn\\S* )\\b/i":"Education","/\\b(eligib\\S*|criteri\\S*|qualif\\S* )\\b/i":"Eligibility ","/\\b(email\\S*|e.?mail\\S*|gmail|outlook|hotmail|yahoo\\S*)\\b/i":"Email","/\\b(exam|exams|exam.?s|exam.?nation\\S*|mid.?term\\S*|midterm\\S*|test|tests|test.?s|testing|final|finals|quiz|asses\\S*|asess\\S*)\\b/i":"ExamTest","/\\b(exchang\\S*|trad\\S* in|trade\\S*|trading|barter\\S*|swap\\S*|bunz )\\b/i":"Exchange","/\\b(exempt\\S*|absolv\\S*|except\\S*|free.?of|immun\\S*|let.?off|(not && (liab\\S*|responsib\\S*|subject\\S*))|void.?of|writ\\S* off)\\b/i":"Exempt","/\\b(expir\\S*|conclus\\S*|culminat\\S*|finish\\S*|done|run\\S* out|perish\\S*)\\b/i":"Expire","/\\b(fax\\S*|facs\\S*)\\b/i":"Fax","/\\b(infant\\S*|baby\\S*|babe|babies|toddler\\S*|new.?born\\S*|newborn\\S*|just.?born)\\b/i":"Infant ","/\\b(info\\S*|data\\S*|datum|detail\\S*|descrip\\S*|describ\\S*|defin\\S* )\\b/i":"Information","/\\b(insur.?n.?e\\S*|plan|plans|policy\\S*|policies\\S*|cover\\S*|health\\S* ben.?f\\S*|ben.?fic\\S*|( ( health|med\\S*|group\\S*|insur\\S* ) && ( plan|plans|scheme\\S*|arrangement\\S*|program\\S*|ben.?f.?t\\S*|package\\S*|cover\\S*|polic\\S* ) ))\\b/i":"InsurancePolicy","/\\b(gym|gyms|g.?mnasium\\S*|gym.?s|fitnes\\S*|work\\S* out\\S*|workout\\S*|work.?out\\S*|exer.?i.?e\\S*|( (fitn.?s\\S*|recreation\\S*|rec ) && ( center\\S*|centre\\S*|complex\\S*|building\\S*|facil\\S* ) ))\\b/i":"Fitness","/\\b(fix\\S*|repair\\S*|correct\\S*|adjust\\S*|.?mend\\S*|patch\\S*|restor\\S*|mend\\S*|revamp\\S*|tune\\S*)\\b/i":"Fix","/\\b(foreclos\\S*|fore.?clos\\S*)\\b/i":"Foreclosure"}}}},{name:"synonyms-set3",id:"synonymsSet3",getMethod:function(){return{type:"regex-replace",mappings:{"/\\b(gen\\S* equiv\\S* dipl\\S*|general\\S* edu\\S* degree\\S*|GED\\S*|general\\S* edu\\S* dev\\S*|HSED\\S*|.?SED|GDE|( ( highschool\\S*|high.?school\\S*|gen.?r.?l\\S* ) && (edu\\S*|equiv\\S* ) && (degree\\S*|diploma\\S*|dev\\S* ) ))\\b/i":"GeneralEduDiploma","/\\b(grade\\S*|grading\\S*|mark|marks\\S*|marking\\S*|score\\S*|result\\S*)\\b/i":"Grade","/\\b(graduation\\S*|graduate|graduates|conv.?cat\\S*|commenc\\S*|comenc\\S*|((grad\\S*|conv.?cat\\S*|commenc\\S*|comenc\\S*) && (cer.?mon\\S*|celebrat\\S*|event\\S*)))\\b/i":"Graduation","/\\b(health care provider\\S*|hcp|health provider\\S*|healthcare provider\\S*|provider\\S*)\\b/i":"HealthCareProvider","/\\b((health\\S* && ( clin\\S*|cent\\S*|building\\S* ) )|hospi\\S*|clinic\\S*)\\b/i":"HealthClinic","/\\b(help\\S*|assist\\S*|aid\\S*|support\\S*|suport\\S*|guid\\S*|how.?to|walk.?through\\S*|walkthrough\\S*|walk\\S* through|advice\\S*|troubleshoot\\S*|trouble.?shoot\\S* )\\b/i":"Help","/\\b(highschool\\S*|high.?school\\S*|high school\\S*|second.?r\\S* school\\S*|( grade\\S* && (twel\\S*|eleven\\S*|ten\\S*|nin\\S* ) ))\\b/i":"HighSchool","/\\b(fast|faster|quick|speed\\S*|rapid\\S*|brisk\\S*|hast\\S*|swift\\S*|accelerat\\S*|soon|expedit\\S*)\\b/i":"Fast","/\\b(evening\\S*|night\\S*|nite\\S*|dusk\\S*|midnight \\S*|bed.?time|bedtime|dark)\\b/i":"Evening","/\\b(assignment\\S*|homework\\S*|home.?work\\S*|project|projects|take.?home work\\S*)\\b/i":"Homework","/\\b(identi\\S*|idente\\S*|identa\\S*|ID|I.?D.?|I.?D )\\b/i":"Identity ","/\\b(internation\\S*|foreign\\S*|for.?.?gn\\S*|another countr\\S*|diff\\S* countr\\S*|other countr\\S*|oversea\\S*|abroad|world\\S*|glob\\S*)\\b/i":"International","/\\b(interview\\S*|try\\S* out|tryout\\S*|try.?out\\S*|walk\\S* on\\S*|walkon\\S*|walk.?on\\S*|audition\\S*)\\b/i":"Interview","/\\b(invest\\S* )\\b/i":"Investment","/\\b(((did not|didn.?t\\S*|do\\S* not|don.?t\\S*|does not\\S*|doesn.?t\\S* ) && have)|((is not|isn.?t\\S*|are not|aren.?t\\S*|arne.?t\\S*|arn.?t\\S*) && there)|has not|hasn.?t\\S*|have not|haven.?t\\S*|lack\\S*|without|nonexist\\S*|non.?exist\\S*|short.?of)\\b/i":"Lacking","/\\b(late|tardy|belate\\S*|behind\\S*|lag|lags|lagging|overdue\\S*|over.?due\\S*|held.?up )\\b/i":"Late","/\\b(month\\S*|january\\S*|jan|jan.?|february\\S*|febuary\\S*|feb|feb.?|march\\S*|mar|april\\S*|apr|apr.?|may|may.?|may.?s|june\\S*|jun|jun.?|july\\S*|jul|jul.?|august|aug|aug.?|september\\S*|sep|sept|sep.?|sept.?|october\\S*|oct|oct.?|november\\S*|nov|nov.?|december\\S*|dec|dec.? )\\b/i":"Months","/\\b(leave\\S*|leaving\\S*|left\\S*|abandon\\S*|desert\\S*|ditch\\S*|quit\\S*|resign\\S*|exit\\S*)\\b/i":"Leave","/\\b(librar\\S*|libar\\S*|bookmobil\\S*|book.?mobil\\S*|archiv\\S*)\\b/i":"Library","/\\b(licen\\S*|lisen\\S*|perm.?t|perm.?ts|perm.?t.?s )\\b/i":"License","/\\b(operat\\S* sys\\S*|os|osx|os x|((Window\\S*|win) && (95|98|2000|XP\\S*|Vista\\S*|7|8|8.?1|81|10))|windows|mac|macs|mac.?nt.?sh\\S*|linux\\S*|apple\\S*|unix\\S*)\\b/i":"OperatingSystem","/\\b(option\\S*|choice\\S*|selection\\S*|alternativ\\S*)\\b/i":"Option ","/\\b(opt.?out|opt\\S*  out|waiv\\S* )\\b/i":"OptOut","/\\b(paperless|paper.?less|paper.?free|paperfree|( ( paperless|paper.?less|paper.?free|paperfree ) && ( record\\S*|record.?keeping ) ) )\\b/i":"Paperless","/\\b(paper\\S*|paper.?work\\S*|doc|docs|document\\S*|form|forms|file\\S*|slip|slips )\\b/i":"Paperwork","/\\b(parking\\S*|park|parked|parking.?lot|parkinglot|carpark\\S*|car.?park\\S*|parking.?garage\\S*)\\b/i":"Parking","/\\b(mand.?tor\\S*|require\\S*|necessar\\S*|necesar\\S*|compuls.?r\\S*|essenti.?l\\S*|esenti.?l\\S*|obligat\\S*|requis.?t\\S*|((have|has|had|having|need\\S*) && to)|need\\S*|factor\\S*  consider\\S*|must|should)\\b/i":"Need","/\\b(password\\S*|pass.?word\\S*|passcode|pass.?code\\S*|passkey\\S*|pass.?key\\S*|passwrd\\S*|pw|pwd)\\b/i":"Password","/\\b(pay\\S*|paid|pay\\S* out\\S*|paid out\\S*|pay\\S* off|paid\\S* off|pay\\S* up|paid\\S* up|pay.?off\\S*|paid.?off\\S*|paying.?off\\S*|pymt\\S*|put\\S* money on\\S*|installment\\S*|instalment\\S* )\\b/i":"Payment","/\\b(paypal\\S*|pay.?pal\\S* )\\b/i":"PayPal","/\\b(percent\\S*|ratio|ratios|weigh\\S*|proportion\\S*|distribut\\S* )\\b/i":"Percentage","/\\b(price\\S*|pricing|cost\\S*|((how much) && (is|are|was|will))|charge\\S*|rate\\S*|cheap\\S*|expens\\S*|fare|fares|worth\\S*|valu\\S* )\\b/i":"Price ","/\\b(process|processes|procedure\\S*|method\\S*|routin\\S*|operation\\S*|action|actions|step|steps|way to|ways to)\\b/i":"Process","/\\b(area\\S*|region\\S*|section\\S*|sector\\S*|territor\\S*|vicinit\\S*|zone\\S*|district\\S* )\\b/i":"Region","/\\b(remov\\S*|delet\\S*|elim\\S*|eras\\S*|extrac\\S*|((take|taking|took) && (out\\S*|away))|drop\\S*|withdr\\S*|with.?dr\\S*|withdrw\\S*|with.?dr.?w\\S*|wd|g.?t\\S* rid of|dispos\\S* of|clean\\S*|clear\\S*|scrub\\S*|sweep\\S*)\\b/i":"Remove","/\\b(home\\S*|propert\\S*|hous\\S*|houseing\\S*|housing\\S*|apartment\\S*|apt\\S*|apts|condo|condos|cond.?min\\S*)\\b/i":"Home","/\\b(req|reqs|pre.?req\\S*|prereq\\S*|co.?req\\S*|coreq\\S*|requisit\\S*)\\b/i":"Prerequisite","/\\b(repeat\\S*|retak\\S*|re.?tak\\S*|redo|re.?do|do over|do.?over\\S*|do again|duplicat\\S* )\\b/i":"Repeat","/\\b(request\\S*|ask\\S*|ask\\S* for|.?nquir\\S*|demand\\S*|query|queri\\S*|would like|want|wants|wanting|desir\\S*|wish\\S*)\\b/i":"Request","/\\b(reserv\\S*|book\\S*|secure|secured|securing|hold\\S*|held|layaway\\S*|lay.?away\\S*|set\\S* asid\\S*  )\\b/i":"Reserve","/\\b(safe\\S* deposit box\\S*|sdb\\S*|S.?D.?B\\S*|deposit box\\S*|safe\\S* box\\S*|safe\\S* deposit\\S*|vault\\S*|locker\\S*|secur\\S* box\\S*|safe|safes)\\b/i":"SafeDepositBox","/\\b(schedul\\S*|s.?edul\\S*|sheldul\\S*|sked\\S*|timetable\\S*|time.?table\\S*|agenda\\S*)\\b/i":"Schedule","/\\b(serv\\S*|sevric\\S* )\\b/i":"Service","/\\b(share\\S*|sharing|joint|communal\\S*|collectiv\\S*|mutu.?l\\S*|coop|co.?op|cooperat\\S*|co.?operat\\S*|collaborat\\S*|collab|common|spousal)\\b/i":"Share","/\\b(show|shows|showed|showing|shown|depict\\S*|demonstra\\S*|proof\\S*|prove\\S*|proove\\S*|proving|prooving|exhibit\\S*|display\\S*|present\\S*|reveal\\S*|illustrat\\S*|disclos\\S*|explain\\S*|indicat\\S*)\\b/i":"Show ","/\\b(sign.?in|login|log.?in|((log\\S*|sign\\S*) && (in|on))|((start\\S*|begin\\S*|open\\S*|initiat\\S*) && session\\S*))\\b/i":"SignIn","/\\b(sign.?off|sign.?out|logoff|log.?off|logout|log.?out|((log\\S*|sign\\S*) && (out|off))|((end\\S*|stop\\S*|clos\\S*) && session\\S*))\\b/i":"SignOff","/\\b(simil\\S*|equiv.?l.?nt\\S*|equal\\S*|interchang\\S*|inter.?chang\\S*|is like|was like|are like|like each other|be like|were like|the same|same as|alike\\S*|comp.?r.?bl\\S*|compr.?bl\\S*|compat.?bl\\S* )\\b/i":"Similar","/\\b(skip\\S*|avoid\\S*|miss\\S*|forget\\S*|omit\\S*|absen\\S*|default\\S*|bypass\\S*|abstain\\S*|avert\\S*|circumv\\S*|deflect\\S*|desist\\S*|elud\\S*|evad\\S*|shirk\\S*|sidestep\\S*|side.?step\\S*|bail\\S*|cop.?out|skip\\S* out\\S* on)\\b/i":"SkipAvoid","/\\b(smok\\S*|tobacco\\S*|cigar\\S*|shisha\\S*|hookah\\S*|(smok\\S* && (pipe\\S*|chain\\S*))|vape|vaped|vapori\\S*|vaping|ejuice\\S*|e.?juice\\S*|pipe|cigaret\\S* )\\b/i":"Smoking","/\\b(social.?media|youtube\\S*|you.?tube|twitter\\S*|instagr.?m\\S*|insta.?gram\\S*|facebook\\S*|face.?book\\S*|.?log\\S*|tumblr\\S*|snapchat\\S*|snap.?chat\\S*|tweet\\S*|pinterest\\S*|linkedin|linked.?in|google.?)\\b/i":"SocialMedia","/\\b(software\\S*|soft.?ware\\S*|program\\S*|software licen\\S*|app|apps )\\b/i":"Software","/\\b(special\\S* need\\S*|disabl\\S*|disabil\\S*|paraly\\S*|parali\\S*|handicap\\S*|handi.?cap\\S*|blind|deaf|wheel.?chair\\S*|wheelchair\\S*|((phys\\S*|mental\\S* ) && disab\\S*) )\\b/i":"SpecialNeeds","/\\b(status\\S*|state|states|condition\\S*|currently at)\\b/i":"Status ","/\\b(stol\\S*|steal\\S*|steel\\S*|robbed|robed|robs|rob|burgl\\S*|break\\S* in\\S*|broke\\S* in\\S*|rip\\S* off|lifted|pick.?pocket\\S*|pickpocket\\S*|theft|thief\\S*|theif \\S*|thiev\\S*|theiv\\S*|crook|pirat\\S*|((someone|somebody|some.?one|some.?body) && (took|take\\S*)))\\b/i":"Stolen","/\\b(stop\\S*|end|ends|ending|ended|conclud\\S*|conclus\\S*|put\\S* a stop to|put\\S* an end to|halt\\S*|pause\\S*|pausi\\S*|cease\\S*|ceasing  )\\b/i":"Stop","/\\b(stud.?nt\\S*|schol.?r|schol.?rs|pup.?l\\S*)\\b/i":"StudentGeneral","/\\b(Weekday\\S*|week.?day\\S*|week|weeks|weekly|Monday\\S*|Mon|Mon.?|Tuesday\\S*|Tue|Tue.?|Tues.?|Wednesday\\S*|Wensday\\S*|Wed|Wed.?|Thursday\\S*|Thur|Thur.?|Thurs.?|Friday\\S*|Fri|Fri.? )\\b/i":"Weekdays","/\\b(weekend\\S*|week.?end\\S*|saturday\\S*|sat|sat.?|sunday\\S*|sun|sun.? )\\b/i":"Weekend","/\\b(wireles\\S*|wire.?les\\S*|wifi\\S*|wi.?fi\\S* )\\b/i":"Wireless","/\\b(can not|can.?t|cant|cannot|canot|couldn.?t|could not|unable|not able|.?ncap.?ble|inable\\S*|inabil\\S*|un.?able\\S*|unabil\\S*|.?nadequat\\S*|helpless\\S*|powerless\\S*|unfit\\S*|incompetent\\S*|unqualif\\S* )\\b/i":"Unable","/\\b(unavailab\\S*|close\\S*|closing\\S*|occupy|occupi\\S*|.?naccess\\S*|taken|absen\\S*|omit\\S*|busy|engaged )\\b/i":"Unavailable","/\\b(use|uses|using|usage\\S*|run|runs|running|operat\\S*|ut.?l.?z\\S*|ut.?l.?s\\S* )\\b/i":"Use","/\\b(user\\S*|end.?user\\S*|customer\\S*|client\\S*|caller\\S*|member\\S*|buyer\\S*|purchaser\\S* )\\b/i":"User","/\\b(((secur\\S*|secret\\S*) && (question\\S*|queston\\S*|answer\\S*|respons\\S*))|answer to the question|((fav\\S*|title) && (book|books|movie\\S*|food\\S*))|mother\\S* maid\\S* name\\S*|((pet|pet.?s|dog|dog.?s|cat|cat.?s) && (name|first|1st|1 st))|(city && born))\\b/i":"SecurityQuestion","/\\b(knowledge.?base\\S*|kb|content manag\\S* system\\S*|CMS)\\b/i":"KnowledgeBase","/\\b(certific.?t\\S* )\\b/i":"Certificate","/\\b(backup\\S*|back.?up\\S*|back\\S* up\\S*)\\b/i":"Backup","/\\b(clean\\S*|sanit\\S*|wash\\S*|clear\\S*|scrub\\S*|wipe\\S*)\\b/i":"Clean","/\\b(brit\\S*|england\\S*|GB|great brit\\S*|north\\S* irel.?nd|scotl.?nd|uk|u.?k\\S*|united.?kingdom|wales|brexit\\S*)\\b/i":"Britain","/\\b(list\\S*|record\\S*|checklist\\S*|check.?list\\S*|directory\\S*|directories|catalog\\S*|index\\S*|tall.?\\S* )\\b/i":"List","/\\b(gov\\S*|gvmt|gvmnt|gov.?t|congress\\S*|parl.?.?m.?nt\\S*|parl.?m.?nt\\S*)\\b/i":"Government","/\\b(image\\S*|screenshot\\S*|screen.?shot\\S*|screen.?view\\S*|screen|screens|screencap\\S*|screen.?cap\\S*|picture|screen.?pic\\S* )\\b/i":"Image","/\\b(hard.?drive\\S*|hard disk|hard disk drive\\S*|hdd|hd|harddrive\\S*)\\b/i":"HardDrive","/\\b(((parent\\S*|matern\\S*|patern\\S*|mat) && (leave|time.?off|absen\\S*))|maternity|paternity)\\b/i":"ParentalLeave","/\\b(photocop\\S*|photo\\S* cop\\S*|copy|copies\\S*|xer\\S*|print\\S* cop\\S*|scan\\S*)\\b/i":"Photocopy","/\\b(pos|p.o.s\\S*|point\\S* of sale\\S*|point.?of.?sale\\S*)\\b/i":"PointOfSale","/\\b(storag\\S*|storing|repositor\\S*|cache|depositor\\S*|depot\\S*)\\b/i":"Storage","/\\b(vacation\\S*|vacay|vaca|trip|trips|getaway\\S*|get.?away\\S*|travel\\S*|voyage\\S*|excursion\\S*|sight.?see\\S*|sightsee\\S*|tour\\S*)\\b/i":"Vacation ","/\\b(vaccine\\S*|vacin\\S*|shots|shot|immuni.?\\S*|imuni.?\\S*|inoculat\\S*|innoculat\\S*|flu.?jab\\S*|flujab\\S*)\\b/i":"Vaccine ","/\\b(verif\\S* by visa\\S*|verifiedbyvisa\\S*|VBV|V.?B.?V.?|VB Visa|V.?B.? Visa|VBVisa)\\b/i":"VerifiedVisa","/\\b(view\\S*|see|sees|saw|seeing|look\\S*|observ\\S*|watch\\S*|check.?out  )\\b/i":"View","/\\b(virus\\S*|spy.?ware\\S*|spyware\\S*|adaware\\S*|spybot\\S*|hack\\S*|malware\\S*|mal.?ware\\S*|bot|bots|webcrawl\\S*|web.?crawl\\S*|junkware\\S*|junk.?ware\\S*)\\b/i":"VirusSpyware","/\\b(stream\\S*|netflix\\S*|cravetv|crave.?tv|amazon.?prime\\S*|amazon\\S* prime\\S*|amazon\\S* instant\\S* video\\S*|hulu\\S*|hulu plus|sling|slingbox|sling.?box\\S*|playstation vue\\S*|hbo now|youtub\\S*|you.?tub\\S*|(netflix && chill))\\b/i":"StreamingService","/\\b(holiday\\S*|((New Year\\S*|Islander|Family|Louis Riel|St Patrick\\S*|St George\\S*|Victoria|National Patriotes|National Aboriginal|St Jean Baptiste|Discovery|Canada|Memorial|Nunavut|Labour|labor|Remembrance|Boxing|memorial|columbus|Martin Luther King|MLK|snowflake) && day)|Good Friday|Easter Monday|Easter|F.?te Nationale|Civic Holiday\\S*|Thanksgiving\\S*|Christmas\\S*|x.?mas|xmas|hanukka\\S*|hanuka\\S*|chanukka\\S*|chanuka\\S*|new year\\S*|july\\S* 4\\S*|may 24\\S*|pres\\S* day|prez day|washington\\S* birthday|long weekend\\S*|bank\\S* holiday)\\b/i":"Holidays","/\\b(print\\S*)\\b/i":"Print","/\\b(natur\\S* disast\\S*|avalan.?h\\S*|landslid\\S*|tornado\\S*|.?.?unami\\S*|flood\\S*|hurrican\\S*|earthquak\\S*|earth.?quake\\S*|volcan\\S*|tidal.?wav\\S*|sinkhol\\S*|blizz.?rd\\S*)\\b/i":"NaturalDisaster","/\\b(foreign\\S* languag\\S*|languag\\S*|dialect\\S*|english\\S*|eng|arabic\\S*|chines\\S*|mandarin\\S*|canton\\S*|germ.?n\\S*|greek\\S*|french\\S*|itali.?n\\S*|japanes\\S*|korean\\S*|latin\\S*|languag\\S*|portug.?s\\S*|portug.?.?s\\S*|russian\\S*|spanish\\S*|ukranian\\S*|vietnames\\S*|anglais\\S*|fran.?ais\\S*|espa.?ol\\S*|klingon)\\b/i":"Languages","/\\b(manager\\S*|supervis.?r\\S*|boss\\S*|superi.?r\\S*|direct.?r|direct.?rs|employ.?r\\S*|superintend.?nt\\S*|team.?lead\\S*|kelly)\\b/i":"Manager","/\\b(configur\\S*|setup\\S*|set.?up\\S*|set\\S* up\\S*|set|sets|setting\\S*|seting\\S*|layout\\S*|reset\\S*|reconfig\\S*|enabl\\S*|instal\\S*)\\b/i":"Configure","/\\b(foul\\S* language\\S*|bad word\\S*|stupid\\S*|swear|swears|swearing|bull\\S*|fuck\\S*|weed|curse word\\S*|fuck\\S*|shit\\S*|ret.?rd\\S*|dumb\\S*|sucking\\S*|sucker\\S* piss\\S*|hell|damn\\S*|dick\\S*|puss\\S*|vagin\\S*|penis\\S*|boob\\S*|butt\\S*|ass|ef\\S* you\\S*|assh\\S*|cock\\S*|sex|sexy|sexual|porn\\S*|balls|scrotum|tit|tits|titties|cunt|bitch\\S*|dick\\S*|bastard\\S*|whore\\S*|slut\\S*|pimp\\S*|fag\\S*|queer\\S*|nigg\\S*|chink|poop\\S*|mast.?rbate\\S*|whack off|jack off|crap\\S*|jerk off|jackass\\S*|jack ass|horn\\S*|fart\\S*|blow job|blowjob|booger\\S*|schlong\\S*|weiner\\S*|wiener\\S*|boner\\S*|hardon|hard-on|Viagra|virgin|cooch\\S*|get laid|kkk|suck\\S*|willy|winky\\S*|winkie\\S*|chick.?nf.?ck.?r\\S*|homo|chik.?nf.?.?.?r\\S*|chik.?nf.?.?k\\S*|chick\\S* f.?.?.?.?r\\S*|chik\\S* f.?.?.?r\\S*|suck|sucks\\S*|suckr|sucker\\S*|you suck|u suck|ch.?ck.?nsh.?t\\S*|ch.?ck.?n\\S* sh.?t\\S*|ch.?ck.?n.?sh.?t\\S*|nipple\\S*|are you gay|are u gay)\\b/i":"FoulLanguage","/\\b(housekeep\\S*|house.?keep\\S*|clean\\S*|scrub\\S*|saniti\\S*|wash\\S*|vacu\\S*|vaccu\\S*|dust\\S*|sweep\\S*|mop|broom\\S*|maid\\S*)\\b/i":"Housekeeping","/\\b(revers\\S*|revert\\S*|undo|un.?do|overturn\\S*|counter\\S*|turn\\S* around|rollback\\S*|roll\\S* back\\S*|go\\S* back\\S*|return\\S* to)\\b/i":"Reverse","/\\b(try\\S*|trial\\S*|attemp\\S*|practi.?e\\S*|practis\\S*|practic\\S*|experiment\\S*)\\b/i":"Try","/\\b(verif\\S*|confirm\\S*|authenticat\\S*|attest\\S*|check\\S*|double.?check\\S*|doublecheck\\S*|((mak\\S*|made) && ( certain\\S*|sure\\S*))|prove|proving|proved|proven|proves|proof|proov\\S*|validat\\S*|corroborat\\S*)\\b/i":"Verify","/\\b(determin\\S*|calcul\\S*|((find\\S*|figur\\S*|found|work\\S*) && out)|measur\\S*|gauge|count|tally)\\b/i":"Determine","/\\b(frequen\\S*|cycl\\S*|peri.?d\\S*|int.?rv.?l\\S*|times|oft.?n|regul.?r\\S*|recur\\S*|s.?m.?ster\\S*)\\b/i":"Frequency","/\\b(find\\S*|found|search\\S*|locate\\S*|locating|look\\S* for|look\\S* up|lookup\\S*|look.?up\\S*|hunt\\S*|track\\S*  down|track\\S*|tracking|brows\\S*|perus\\S*|direction\\S*|googl\\S*)\\b/i":"Find","/\\b(handl\\S*|manag\\S*|deal\\S* with|oversee\\S*|tak\\S* care of|approach\\S*|cop\\S* with|attend\\S* to)\\b/i":"Handle","/\\b(addons|add.?ons)\\b/i":"AddOns"}}}},{name:"synonyms-set4",id:"synonymsSet4",getMethod:function(){return{type:"regex-replace",mappings:{"/\\b(mobile os|mobile operating sys\\S*|android|cupcake\\S*|donut\\S*|eclair\\S*|froyo\\S*|gingerbread\\S*|honeycomb\\S*|honey.?comb\\S*|ics|ice.?cream.?sand\\S*|jelly.?bean\\S*|jellybean\\S*|jb|kit.?kat\\S*|kitkat\\S*|lollipop\\S*|marshmallow\\S*|nougat\\S*|iOS .?|iOS .?.?|iOS.?|iOS.?.?)\\b/i":"MobileOS","/\\b(Provinc\\S*|Territor\\S*|Alb.?rt\\S*|Abl.?rt\\S*|AB|A.B.|brit\\S* c.?l.?mb\\S*|BC|B.C.|MB|M.B.|man.?tob\\S*|New.?Brun\\S*|NB|N.B.|newbrun\\S*|newf\\S* .? lab\\S*|Newf\\S*|nwf\\S*|NL|nfld|nflnd|newfoundland|NF|labr.?dor\\S*|nf.?.?.?lab\\S*|new.?found\\S*|NWT|North West Terr\\S*|Northwest terr\\S*|north.?west terr\\S*|n.w.t.|NS|N.S\\S*|Nova Scot\\S*|novasco\\S*|nova.?sco\\S*|nova|N.?n.?v.?t|NV|n.?n.?v.?t terr\\S*|ont.?r\\S*|ONT|ON|PEI|P.E.I\\S*|PE|prince.?edward\\S*|queb\\S*|QB|QC|pq|que|SK|S.?sk.?t\\S*|sask\\S*|y.?k.?n\\S*|YK|Y.?.?k.?n\\S*|y.?k.?n terr\\S*)\\b/i":"ProvincesTerritories","/\\b(transport\\S*|transit|public transit\\S*|vehicl\\S*|vehicul\\S*|traffic|car|cars|automo\\S*|motorcycl\\S*|motor.?bik\\S*|motorbik\\S*|truck\\S*|van|vans|suv\\S*|bus|busses|buses|subway\\S*|sub.?way|tram|trams|streetcar\\S*|street.?car\\S*|metro|trolley\\S*|trolly\\S*|train|trains|taxi|taxis|cab|cabbed|cabs|uber|.?ber|lyft )\\b/i":"Transportation","/\\b(type\\S*|kind\\S*|variet\\S*|variat\\S*|class\\S*|categor\\S*|genre\\S*|subdiv\\S*|sort )\\b/i":"Type","/\\b(volunt\\S*|do.?good\\S*|altuis\\S*|humanitarian\\S*)\\b/i":"Volunteer","/\\b(degree\\S*|diploma|diplomas|diploma.?s|B.?Sc\\S*|B.S.|BA|B.A\\S*|B\\S* Art\\S*|B.?com\\S*|Bcom\\S*|B.?Eng\\S*|B\\S* Eng\\S*|B\\S* of Eng\\S*|B\\S* of Art\\S*|B\\S* of Sc\\S*|B\\S* of Com\\S*|master\\S*|phd\\S*|p.?h.?d\\S*)\\b/i":"Degree","/\\b(differ\\S*|not alike\\S*|unalike\\S*|contrast\\S*|other\\S*|another)\\b/i":"Different","/\\b(dine\\S*|dining\\S* meal\\S*|dinner\\S*|supper\\S*|lunch\\S*|breakfast\\S*|brunch\\S*|eat\\S*|ate|food\\S*|rest.?.?r.?nt\\S*|take.?out|snack\\S*|caf.?\\S*|restrant\\S*|coffe\\S* shop\\S*|rest.?r.?.?nt\\S*|deli|feed|fed|feast\\S*|banquet\\S*|eat\\S* out)\\b/i":"Dining","/\\b(disput\\S*|appeal\\S*|apeal\\S*|argue\\S*|counter\\S*|challeng\\S*|chaleng\\S*|contest\\S*|debat\\S*|fight\\S*|argue\\S*|argument\\S*|disagree\\S*|oppose|contradict\\S*|clash\\S*|conflict\\S*|bicker\\S*|refut\\S* )\\b/i":"Dispute","/\\b(dorm\\S*|res.?d.?nce\\S*|rez|res|((rez\\S*|res\\S*) && (hall\\S*|building\\S*))|boarding|((board\\S*|student\\S*) && (hall\\S*|home\\S*|hous\\S*)))\\b/i":"Dormitory ","/\\b(line\\S* of credit\\S*|credit\\S* line\\S*|creditline\\S*|cl|lc|pcl|bcl|((person\\S*|bus.?ness) && line\\S* && credit\\S*)|LOC)\\b/i":"LineOfCredit","/\\b(((mental\\S*|psych\\S* ) && (health\\S*|disorder\\S*|issue\\S*|help\\S*))|psycholog\\S*|therap\\S*|shrink|suicid\\S*|depress\\S*|OCD|obsess\\S* compul\\S*|schizo\\S*|anxi\\S*)\\b/i":"MentalHealth","/\\b(new|newer|newest|brand.?new\\S*|modern\\S*|contemp.?r\\S*|fresh\\S*|recent\\S*|replace\\S* )\\b/i":"New","/\\b(feedback\\S*|feed.?back\\S*|advi.?e\\S*|suggest\\S*|comment\\S*|opinion\\S*|complain\\S*|concern\\S*|critiq\\S*|critici.?\\S*)\\b/i":"Feedback","/\\b(financ\\S* institut\\S*|fi|bank\\S*|credit\\S* union\\S*|cu|invest\\S* bout.?q\\S*|invest\\S* bank\\S*)\\b/i":"FinancialInstitution","/\\b(inactiv\\S*|idle|suspen\\S*|dorm.?n\\S*|in.?activ\\S*|unused|freez\\S*|froze\\S*|stuck\\S*|stall\\S*|passive\\S*|lock\\S* out|.?naccess\\S*|spinning\\S*)\\b/i":"Inactive","/\\b(income\\S*|salar\\S*|wage\\S*|compensat\\S*|earning\\S*|paycheck\\S*|pay.?check\\S*|paycheq\\S*|pay.?cheq\\S*|remunerat\\S*|stipend\\S*|revenue)\\b/i":"Income","/\\b(allow\\S*|authori\\S*|accept\\S*|permit\\S*|permis\\S*|approv\\S*|endors\\S*|sanction\\S*|certify\\S*|certifie\\S*|tolera\\S*|let|letting|lets|grant\\S*|ok|okay|o.?k.?|condon\\S*)\\b/i":"Allow","/\\b(current\\S*|up.?to.?date\\S*|existing|latest|ongoing\\S*|on.?going\\S*|present|presently)\\b/i":"Current","/\\b(emerg\\S*|traged\\S*|disaster\\S*|crisis\\S*|predica\\S*|catastro\\S*|fatal\\S*|wound\\S*|crash\\S*|collision\\S*|colision\\S*|trauma\\S*|accident\\S*|acident\\S*)\\b/i":"Emergency ","/\\b(employee\\S*|worker\\S*|laborer\\S*|labourer\\S*|staff|staff member\\S*|faculty\\S*|cowork\\S*|co.?work\\S*|colleag\\S*|coleag\\S*|personnel\\S*|personel\\S* )\\b/i":"Employee","/\\b(offic\\S*|department\\S*|building\\S*|bureau\\S*|center\\S*|centre\\S*|facilit\\S*|factory|warehouse|suite\\S*|headquarter\\S*|hq)\\b/i":"Facility","/\\b(insur\\S* cert\\S*|certificate\\S* of insur\\S*|COI|insur\\S* polic\\S* cert\\S*|insur\\S* contract\\S*)\\b/i":"InsuranceCertificate","/\\b(guarant\\S* invest\\S*cert\\S*|GIC\\S*|G.I.C\\S*)\\b/i":"GuaranteedInvestmentCertificate","/\\b(leader\\S*|executiv\\S*|rector\\S*|headmaster\\S*|chanc.?l\\S*|pro.?chanc.?l\\S*|vice.?chanc.?l\\S*|figurehead\\S*|pr.?v.?st\\S*|authorit\\S*|dignitar\\S*|legislat\\S*|princip\\S*|head|pres|prez|chairm.?n\\S*|chairpe\\S*|command.?r\\S*|captain\\S*|minist\\S*|officer\\S*|stew.?rd\\S*|CEO|CEOs|Chair\\S*|chief\\S*|President\\S*|Vice.?Chair\\S*|Senior Exec\\S*|Vice.?President\\S*|VP|VPs|pres|prez|head honcho\\S*)\\b/i":"Leader","/\\b(preven\\S*|restric\\S*|excep\\S*|exep\\S*|exclu\\S*|avert\\S*|avoid\\S*|block\\S*|counter\\S*|keep\\S* from\\S* happen\\S*|head\\S* off|hinder\\S*|h.?ld\\S* back\\S*|h.?ld\\S* off|imped\\S*|inhib.?t\\S*|intercept\\S*|preclud\\S*|prohib.?t\\S*|repress\\S*|stav\\S* off|thwart\\S*|ward\\S* off|refrain\\S*|inhibi\\S*|restrain\\S*|refrain\\S* from)\\b/i":"Prevent","/\\b(website\\S*|webpage\\S*|web.?page\\S*|web.?site\\S*|url\\S*|www\\S*|site|sites|page|pages)\\b/i":"Website","/\\b(regist\\S*|sign.?up\\S*|sign\\S* up\\S*|signup\\S*|enrol\\S*|enlist\\S*|reg|subscrib\\S*|subscrip\\S*|join\\S*)\\b/i":"Register","/\\b(rule\\S*|law\\S*|legal\\S*|rules|bylaw\\S*|by.?law\\S*|charter\\S*|constitution\\S*|decree\\S*|enactment\\S*|legislat\\S*|mandate\\S*|regulat\\S*|ruling\\S*|statute\\S*|term|terms|condition|conditions|regulation\\S*|policy\\S*|policies)\\b/i":"Rules","/\\b(((sick\\S*|ill|illness\\S*|disabl\\S*|personal|mental health) && (((time\\S*|day\\S*) && off)|leave\\S*|day\\S*))|((long\\S*|short\\S*) && term disabil\\S*)|LTD|STD)\\b/i":"SickLeave","/\\b(small\\S*|little\\S*|tiny\\S*|short\\S*|petit\\S*|light\\S*)\\b/i":"Small","/\\b(state|states|washingt.?n|Or.?g.?n|alask\\S*|hawai\\S*|n.?vad\\S*|californ\\S*|cali|id.?ho\\S*|montana\\S*|wyoming\\S*|utah|colorad\\S*|ar.?zon\\S*|new.?mexic\\S*|texas|kansas|oklahoma\\S*|nebraska\\S*|north.?dakot\\S*|south.?dakot\\S*|minn.?so\\S*|wiscon\\S*|iowa\\S*|illinoi\\S*|miss.?.?ri\\S*|arkans\\S*|louisian\\S*|mississip\\S*|alabama\\S*|tenness\\S*|k.?ntuck\\S*|indiana\\S*|mich.?g.?n\\S*|ohio\\S*|p.?nns.?lvan\\S*|new.?york\\S*|maine|mass.?chus.?t\\S*|conn.?ct.?c.?t\\S*|conn.?t.?c.?t\\S*|v.?rginia\\S*|north.?carolin\\S*|south.?carolin\\S*|georgia\\S*|florid\\S*|maryland\\S*|d.?l.?war\\S*|new.?hamp\\S*|v.?rm.?nt\\S*)\\b/i":"States","/\\b(store\\S*|shop\\S*|mall\\S*|boutiq\\S*|market|markets|shop\\S* cent.?.?|plaza)\\b/i":"Store","/\\b(counsel\\S*|coun.?el.?r\\S*|coun.?ell.?r\\S*|counc.?l.?r\\S*|couns.?l.?r\\S*|counc.?ll.?r\\S*|advis.?r|advis.?rs|advis.?r.?s)\\b/i":"Counsellor","/\\b(Hi|hello|hey|how are you|how r u|good.?morning|good.?day|goodmorning|goodday|good.?afternoon|good.?evening)\\b/i":"Greeting","/\\b((Canada && FinancialInstitution)|scotia|scotiabank|royal\\S*|bank of montreal|bmo|b.m.o.|BMO|cibc|commerce|td|t.d\\S*|toronto dominion|canada trust|tdct|hsbc|h.s.b.c\\S*|hong kong ban\\S*|citibank|citi bank|RBC|Bank of Mont\\S*|Canada Trust|Bank of Montreal|Citizens Federal Bank|Pacific Coast Savings|Ing|i.n.g\\S*|Bank of Hong Kong|Presidents Choice Bank|PC Finan\\S*|p.c. finan\\S*|presid\\S* choice)\\b/i":"CanadianBanks","/\\b((Identity && card\\S*)|passport\\S*|pass.?port\\S*|(driv\\S*&&License)|birthcert\\S*|birth.?cert\\S*|perm.?nent\\S* residen\\S* card\\S*|health\\S* card\\S*)\\b/i":"IdentificationCard","/\\b((person\\S* && Identity && Number)|PIN|PINs|P.?I.?N.?|P.?I.?N.?s|((PIN|PINs|P.?I.?N.?|P.?I.?N.?s) && Number))\\b/i":"PIN ","/\\b(Cheque && ( post.?date\\S*|postdate\\S*|future.?date\\S*|later.?date\\S*))\\b/i":"PostDatedCheque","/\\b(pre.?approv\\S*|preapprov\\S*|pre.?auth\\S*|preauth\\S*|pre.?ath\\S*|preath\\S*|(Before && (approv\\S*|author\\S*)))\\b/i":"PreApprove","/\\b(refund\\S*|credit\\S*|re.?mb.?rs\\S*|money back|return|restitu\\S*|(Acquire && Payment && back))\\b/i":"Refund","/\\b((social\\S* && securit\\S* && Number)|SSN|SSNs|S.?S.?N.?|S.?S.?N.?s|((SSN|SSNs|S.?S.?N.?|S.?S.?N.?s) && Number))\\b/i":"SSN","/\\b((incre.?s\\S*|enlarg\\S*|higher|heighten\\S*|rais\\S*|go\\S* up)|hike\\S*|up|upping|ups|( ( add|adding|adds ) && ( Many ) ) )\\b/i":"Increase","/\\b((Online && bill\\S*)|ebill\\S*|e.?bill\\S*|paperless bill\\S*|((Online|paperles\\S*) && Bill)|(Bill && electron\\S*))\\b/i":"OnlineBill","/\\b((Canada && Tax && (Paperwork|rec.?.?pt\\S*|return\\S*))|(Tax && (Paperwork|rec.?.?pt\\S*|return\\S*))|T3\\S*|T4\\S*|T5\\S*|NR4\\S*|T.?3\\S*|T.?4\\S*|T.?5\\S*|NR.?4\\S*|W2|T2202A)\\b/i":"CanadianTaxDocs","/\\b(certifiedcheck\\S*|certifiedcheq\\S*|certified.?check\\S*|certified.?cheq\\S*|(certif\\S* && Cheque))\\b/i":"CertifiedCheque","/\\b(compar\\S*|Similar|Different)\\b/i":"Compare","/\\b(((User|instruct\\S*|how.?to\\S*) && (guide\\S*|manual\\S*))|manual\\S*|instruction\\S*|guide\\S*|handbook\\S*|hand.?book\\S*|guidebook\\S*|guide.?book\\S*|almanac\\S*)\\b/i":"UserGuide","/\\b(((tech\\S*|IT|I.T.|info\\S* tech\\S*|computer\\S* ) && Help)|techsupport\\S*|tech.?support\\S*|help.?desk\\S*|helpdesk\\S*|computer\\S* repair\\S* )\\b/i":"TechSupport","/\\b(transact\\S*|act.?v.?ty|act.?v.?t.?.?s|action\\S*|Deposit|Remove)\\b/i":"Transaction","/\\b(tuit\\S*|tution\\S*|(School && Price ))\\b/i":"Tuition","/\\b(((regist\\S* retire\\S* sav\\S*) && Plan)|RRSP\\S*|r.?r.?s.?p.?\\S*|r.?r.?s.?p\\S*|retir\\S* sav\\S* plan\\S*|rsp|rsps|r.?s.?p.?|r.?s.?p|pension\\S*|superannu\\S*|super.?annu\\S*|superanua\\S*|super.?anua\\S*|retir\\S* packag\\S*|(retir\\S* && Plan))\\b/i":"RetirementSavingsPlan","/\\b(username\\S*|user.?name\\S*|user.?id\\S*|login\\S*|((web\\S*|login\\S*|user\\S*) && (name\\S*|Identity)))\\b/i":"Username","/\\b(deceas\\S*|dead|death|died|pass\\S* away\\S*|past away\\S*|passaway\\S*|pass.?away\\S*|((Negative|no longer) && (alive\\S*|live|living\\S*)))\\b/i":"Deceased ","/\\b(declin\\S*|turn\\S* down\\S*|reject\\S*|refus\\S*|disapprov\\S*|unauth\\S*|un.?auth\\S*|(Negative && Allow)|deny|denie.?|denial\\S*)\\b/i":"Decline","/\\b(dent.?l\\S*|dentist\\S*|orthod.?nt\\S*|tooth\\S*|teeth\\S*|t.?.?th clean\\S*|braces\\S*|head gear\\S*|root c.?n.?l\\S*|cav.?ty\\S*|cav.?ties|denture\\S*|scaling\\S*|crown\\S*|bridge\\S*|( dent.?l\\S* && InsurancePolicy ))\\b/i":"DentalBenefits","/\\b( ((direc\\S*|auto\\S*|PreApprove) && Deposit)|direct.?d.?pos\\S*|directd.?pos\\S*|dd|dds )\\b/i":"DirectDeposit","/\\b(loan\\S*|laon\\S*|lend\\S*|lent|ln|lns|lone|(Borrow && Money) )\\b/i":"Loan","/\\b(lost\\S*|lose\\S*|losing|missing|misplace\\S*|missplace\\S*|gone\\S*|vanish\\S*|forg.?t\\S*|(Unable && find)|(Unable && remember))\\b/i":"Lost","/\\b(((Phone|google|amazon|walmart|ugo) && (wallet\\S*|Payment))|ewallet\\S*|e.?wallet\\S*|gyft|levelup|level.?up|keyring|key.?ring )\\b/i":"MobileWallet","/\\b(mortg\\S*|morg\\S*|mortage|deedoftrust|deed.?of.?trust|(RealEstate && Purchase && Financing )|(RealEstate && Loan)|(Home && Loan)|propertyloan\\S*)\\b/i":"Mortgage","/\\b(estat.?ment\\S*|estatment\\S*|estate.?ment\\S*|e.?stat.?ment\\S*|e.?statment\\S*|e.?state.?ment\\S*|((Online|paperles\\S*) && Statement))\\b/i":"OnlineStatement","/\\b(foreign currenc\\S*|(International && Money)|peso\\S*|pound\\S*|cdn|euro|euros|eur|cad|usd\\S*|us doll.?r\\S*|can\\S* doll.?r\\S*|$US\\S*|US$|US $|United Stat\\S* dol\\S*|USD\\S*|U S Dollar\\S*|U.?S.? Dollar|(America && Money) )\\b/i":"ForeignCurrency","/\\b(money.?draft\\S*|draft\\S*|bank\\S* draft\\S*|(cash.?.?r\\S* &&Cheque)|money.?order\\S*)\\b/i":"MoneyDraft","/\\b(fulltime\\S*|full.?time\\S*|ful.?time\\S*|fultime\\S*|ft|permanent\\S*|(permanent\\S* && Employment))\\b/i":"FullTime","/\\b((America && Tax && (Paperwork|rec.?.?pt\\S*|return\\S*))|(Tax && (Paperwork|rec.?.?pt\\S*|return\\S*))|1040\\S*|1099\\S*|(Paperwork && (1040\\S*|1099\\S*))|form.?1040\\S*|form.?1099\\S*|10.?.?-.?|1099-.?.?.?|1099-.?|IRS trad\\S* sum\\S*|K1 pack\\S*|1042\\S*|1099\\S*|T1135\\S*|T11\\S*)\\b/i":"AmericanTaxDocs","/\\b((America && FinancialInstitution)|JP Morgan|JP Morgan Chase|Chase|Bank.?of.?America|Wells.?Fargo|Citigroup|Citi bank|Goldman Sachs|Morgan Stanley|US Bancorp|U.?S.? Bancorp|PNC Financ\\S*|Capital.?One|TD Bank)\\b/i":"AmericanBanks","/\\b(amort\\S*|ammort\\S*|((debt|Loan|Mortgage) && (repay\\S*|re.?pay\\S*)) )\\b/i":"Amortization","/\\b(Day\\S*|daily|dailies|today\\S*|tomorrow\\S*|yesterday\\S*|Weekdays|Weekend)\\b/i":"DaysOfWeek","/\\b(cancel\\S*|terminat\\S*|void\\S*|clos\\S* out|close|shutdown\\S*|shut.?down\\S*|shut\\S* down\\S*|declin\\S*|deactivat\\S*|destroy\\S*|unregister\\S*|discontin\\S*|(Negative && (Request|Need))|delet\\S*|g.?ve\\S* up|g.?ve.? up|dissolv.?|call\\S* off|rescind\\S*|abandon\\S*|desert\\S*|discontinu\\S*|ditch\\S*|forfeit\\S*|forsak\\S*|quit\\S*|relinquish\\S*|renounc\\S*|resign\\S*)\\b/i":"Cancel","/\\b(((edu\\S* sav\\S*) && Plan)|((regist\\S* edu\\S* sav\\S*) && Plan)|RESP|RESPs|RESP.?s|R.?E.?S.?P.?|R.?E.?S.?P.?s)\\b/i":"EducationSavingsPlan","/\\b(disc.?.?nt\\S*|sav\\S*|((early.?bird|earlybird|last.?minute) && Price)|group rate\\S*|half price|half.?price|percent\\S* off|sale\\S*|on sale\\S*|coupon\\S*|cupon\\S*|rebat\\S*)\\b/i":"Discount","/\\b(email money\\S* transf\\S*|(Email && Money && Transfer)|electr\\S* money\\S* transf\\S*|(electr\\S* && Money && Transfer)|EMT|E.?M.?T.?|EFT|E.?F.?T.?|e.?transf\\S*|etransf\\S*|(interac && Transfer)|(interac\\S* && Money && Transfer)|popmoney\\S*|pop.?money\\S*)\\b/i":"EmailMoneyTransfer","/\\b(family\\S*|families|relative\\S*|Spouse|loved.?one\\S*|family.?member\\S*|father\\S*|mother\\S*|mom|moms|mom.?s|dad|dads|dad.?s|parent|parents|parent.?s|son|sons|son.?s|daughter\\S*|sibling\\S*|sister\\S*|brother\\S*|aunt\\S*|uncle\\S*|niece\\S*|nephew\\S*|cousin\\S*|grandma\\S*|grandmother\\S*|grandpa\\S*|grandfather\\S*|gran|granny|granny.?s|granddad\\S*|grand.?dad\\S*|grandparent\\S*|grand.?parent\\S*|nanna\\S*|pappa\\S*|papa\\S*|grand.?child\\S*|grandchild\\S*|fianc.?\\S*|fianc.?e\\S*|inlaw\\S*|in.?law\\S*|godparent\\S*|godmother\\S*|godfather\\S*|godson\\S*|goddaughter\\S*|god.?parent\\S*|god.?mother\\S*|god.?father\\S*|god.?son\\S*|god.?daughter\\S* )\\b/i":"Family","/\\b((individ\\S* && retir\\S* && Account)|ira|iras|ira.?s|i.?r.?a.?|i.?r.?a.?s)\\b/i":"IndividualRetirementAccount","/\\b((health sav\\S* && Account)|HSA)\\b/i":"HealthSavingsAccount","/\\b(HELOC\\S*|H.E.L.O.C\\S*|hloc|( (home\\S* equit\\S*|secure\\S*|home\\S*|house\\S*|equit\\S*|residence\\S* ) && LineofCredit )|home\\S* equit|line\\S* of credit\\S* mortgage\\S*|secure\\S* mortgage\\S*)\\b/i":"HomeEquityLineOfCredit","/\\b((Identity && card\\S*)|passport\\S*|pass.?port\\S*|(driv\\S* &&License)|birthcert\\S*|birth.?cert\\S*|perm.?nent\\S* residen\\S* card\\S*|health\\S* card\\S*)\\b/i":"IdentificationCards","/\\b(health risk asses\\S*|health risk|(health risk && ExamTest)|hra)\\b/i":"HealthRiskAssessment","/\\b(histor\\S*|past|previous|old\\S*|ancient\\S*|former\\S*|precedent|prior|last|(from && Before)|((last|from) && (month\\S*|year\\S*|period\\S*|jan\\S*|feb\\S*|march\\S*|april\\S*|may\\S*|jun\\S*|jul\\S*|aug\\S*|sep\\S*|oct\\S*|nov\\S*|dec\\S*|semester\\S*|quarter\\S*)) )\\b/i":"Historical ","/\\b((internation\\S* bank\\S* account\\S* && Number)|IBAN\\S*|I.B.A.N\\S*|((IBAN\\S*|I.B.A.N\\S*|I BAN.?) && Number) )\\b/i":"InternationalBankingAccountNumber","/\\b(parttime\\S*|part.?time\\S*|PT|side.?hustl\\S*|(temporary\\S* && Employment) )\\b/i":"PartTime","/\\b((Payment && (Process|Option))|CreditCard|DebitCard|PreAuthorizedPayment|Cheque|CertifiedCheque|CashiersCheque|MoneyDraft|ApplePay|MobileWallet|PayPal|EmailMoneyTransfer|WireTransfer|Voucher|cash)\\b/i":"PaymentMethods","/\\b(problem\\S*|problem\\S*|troubl\\S*|crisis|delem\\S*|difficult\\S*|dilem\\S*|error\\S*|fail\\S*|incorect\\S*|incorrect\\S*|issue\\S*|mistak\\S*|pickle\\S*|predica\\S*|quandar\\S*|quandr\\S*|wrong\\S*|unresponsiv\\S*|(Need && Help))\\b/i":"Problem","/\\b((Canada && (reven\\S*|tax\\S*) && (agenc\\S*))|CRA|C.R.A\\S* )\\b/i":"CanadaRevenueAgency","/\\b(renew\\S*|extend\\S*|prolong\\S*|reestablish\\S*|re.?establish\\S*|restart\\S*|re.?start\\S*|carry over|pick\\S* up|recapitul\\S*|recommenc\\S*|reinstat\\S*|re.?instat\\S*|restor\\S*|(Begin && (anew|again)))\\b/i":"Renew","/\\b((social\\S* insur\\S* && Number)|SIN|SINs|S.?I.?N.?|S.?I.?N.?s|((SIN|SINs|S.?I.?N.?|S.?I.?N.?s) && Number))\\b/i":"SIN ","/\\b(stat.?ment\\S*|statment\\S*|state.?ment\\S*|stm\\S*|record\\S*|( Account && Transaction ))\\b/i":"Statement ","/\\b((wir\\S* && (Transfer|Money))|wiring|auto\\S* clear\\S* house\\S*|ACH|A.?C.?H.?)\\b/i":"WireTransfer","/\\b(((vision\\S*|opt.?c\\S*) && InsurancePolicy)|opt.?c\\S*|opt.?m.?l\\S*g\\S*|opth.?m.?l.?g\\S*|opt.?m.?t\\S*|vision\\S*|eye|eyes|glasses|spect.?cl\\S*|spect.?c.?l\\S*|bifocal\\S*|bi.?focal\\S*|contact lens\\S*|retina\\S*|.?stigmat\\S*|m.?opia\\S*|near.?sight\\S*|nearsight\\S*|far.?sight\\S*|farsight\\S*|vision.?care|eye.?care|eyecare|frames|lenses)\\b/i":"VisionBenefits","/\\b(voucher\\S*|gift certif\\S*|gift.?certif\\S*|giftcard\\S*|gift.?card\\S*|((prepaid\\S*|pre.?paid\\S*) && (CreditCard|voucher\\S*|gift certif\\S*|gift.?certif\\S*|giftcard\\S*|gift.?card\\S*|card\\S*))|gift card\\S*)\\b/i":"Voucher","/\\b(((equal\\S*|budg.?t\\S*|bug.?t\\S*|flat\\S*|flat.?rate\\S*|amorti\\S*|installm\\S*|instalm\\S*|arrang\\S*) && (Bill|plan\\S*))|bbp\\S*|bpp\\S*|ebp\\S*|(Bill && plan\\S*)|(Payment && arrang\\S*))\\b/i":"EqualBilling","/\\b(broken\\S*|broke|break\\S*|bust\\S*|collaps\\S*|crack\\S*|crippl\\S*|crumbl\\S*|defectiv\\S*|destroy\\S*|damag\\S*|injur\\S*|mangl\\S*|mutilat\\S*|smash\\S*|ruin\\S*|fail\\S*|crash\\S*|outage\\S*|((Negative|Unable|Lacking|Stop) && (Function|right|correct\\S*|agree\\S*|match\\S*)))\\b/i":"Broken","/\\b((( cah.?.?r\\S*|cash.?.?r\\S*|casher|cash.?.?r\\S*|cahsier\\S*|offi.?ial) && Cheque)|cashiercheck\\S*|cashierscheck\\S*|cashiercheq\\S*|cashierscheq\\S*|cashier.?check\\S*|cashier.?cheq\\S*)\\b/i":"CashiersCheque","/\\b(country\\S*|countries|nation\\S*|afghan\\S*|arg.?ntin\\S*|austral\\S*|bahama\\S*|barbad\\S*|belarus\\S*|belgi\\S*|beliz\\S*|boliv\\S*|Britain|bra.?il\\S*|bulgar\\S*|burm\\S*|cambod\\S*|cameroon\\S*|Canada|carib\\S*|carrib\\S*|col.?mbia\\S*|costa.?ric\\S*|chile\\S*|china|chinese|croat\\S*|cuba\\S*|czech\\S*|denmark|danish|domin.?c\\S*|egypt\\S*|el.?salv.?d\\S*|eritr\\S*|ethiop\\S*|eston\\S*|fiji\\S*|finl\\S*|finnish|france\\S*|french|german\\S*|guatemal\\S*|guyan\\S*|greec.?\\S*|greek|hungar\\S*|hondur\\S*|haiti\\S*|iceland\\S*|iran\\S*|iraq\\S*|india\\S*|indones\\S*|isr.?.?l\\S*|ital\\S*|jama\\S*|japan\\S*|jordan\\S*|kazak\\S*|kenya\\S*|korea\\S*|north.?kor\\S*|south.?kor\\S*|kuwait\\S*|laos\\S*|latv\\S*|leban\\S*|liberia\\S*|libya\\S*|l.?cht.?nst\\S*|lithuan\\S*|lux.?mb\\S*|malaw\\S*|malay\\S*|mexic\\S*|mon.?co\\S*|mong\\S*|moroc\\S*|morocc\\S*|netherland\\S*|holland\\S*|nepal\\S*|new.?zeal\\S*|nic.?rag\\S*|niger\\S*|norw\\S*|oman\\S*|pakist\\S*|paraguay\\S*|panama\\S*|phillipin\\S*|philipin\\S*|poland\\S*|polish|portug\\S*|qatar\\S*|romania\\S*|russia\\S*|portug\\S*|saudi\\S* arab\\S*|serbia\\S*|sing.?por\\S*|slovak\\S*|sloven\\S*|spain\\S*|spanish\\S*|swed\\S*|sri.?lank\\S*|switzerland\\S*|swiss\\S*|syria\\S*|taiwan\\S*|trinidad\\S*|tobago\\S*|thai\\S*|uae\\S*|u.a.e\\S*|uk|u.k\\S*|ukra\\S*|America|uruguay\\S*|uzbek\\S*|vatican|venez\\S*|vietnam\\S*|yemen\\S*|zambia\\S*|zimbab\\S*|hong.?kong|hongkong)\\b/i":"Nations","/\\b(((FinancialInstitution|instit\\S*|branch\\S*|transit\\S*|designat\\S*|routing) && (Number|Code|Identity))|BIC|B.?I.?C.?|BIN|B.?I.?N.?)\\b/i":"BankInstitutionNumber","/\\b(bad|unfortunate\\S*|atrocious\\S*|awful\\S*|crummy|dreadful\\S*|lousy|poor\\S*|rough\\S*|sad|inferior|abominable|terribl\\S*|(less th.?n && (good|ideal|perfect))|( Negative  && (good|ideal|perfect)))\\b/i":"Bad"}}}},{name:"url-regex",id:"urlRegex",getMethod:function(){var e={type:T.TRANSFORMATION_TYPES.WORDCLASS_SUBST_REGEX,mappings:{}};return e.mappings={"/https?:\\/\\/(www\\.)?[\\-a-zA-Z0-9@:%._\\+~#=/]+/i":"_class_url"},e}}];function uf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var pf=function(e){at()(n,e);var t=uf(n);function n(e){var a;return Qe()(this,n),(a=t.call(this,e)).props=e,a.newTransformationData=[],a.receivedDatasets={},a.validate=a.validate.bind(tt()(a)),a.onOK=a.onOK.bind(tt()(a)),a.getTransformationList=a.getTransformationList.bind(tt()(a)),a.onSelectedChanged=a.onSelectedChanged.bind(tt()(a)),a.state={selected:[]},a}return $e()(n,[{key:"validate",value:function(){return!0}},{key:"onOK",value:function(e){var t,n;if(this.validate()){var a=(t=this.state.selected,n=[],t.forEach((function(e){var t=df.find((function(t){return t.id===e}));t&&n.push(h()({},t.name,t.getMethod()))})),n);this.props.onOK(a)}}},{key:"onSelectedChanged",value:function(e){this.setState({selected:e})}},{key:"getTransformationList",value:function(){var e=df.map((function(e){return{name:e.name,id:e.id}})),t=[];return e.forEach((function(e,n){t.push({label:e.name,value:e.id})})),t}},{key:"render",value:function(){return i.a.createElement(Lh,{title:"Add Predefined Transformation",visible:this.props.showDialog,okString:"Add",onCancel:this.props.onCancel,onOk:this.onOK},i.a.createElement("div",{id:"add-predefined"},i.a.createElement(ef.Row,null,i.a.createElement("label",null,"Select one or more predefined transformations")),i.a.createElement(ef.Row,null,i.a.createElement(lf.a,{options:this.getTransformationList(),onSelectedChanged:this.onSelectedChanged,selected:this.state.selected}))))}}]),n}(o.Component);pf.propTypes={showDialog:qr.a.bool,onCancel:qr.a.func,onOK:qr.a.func};var hf=pf;function ff(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var gf=function(e){at()(n,e);var t=ff(n);function n(){return Qe()(this,n),t.apply(this,arguments)}return $e()(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.id,a=e.noOfItems,r=e.onDelete,o=e.modelViewReadOnly,s=e.onSelect,c=e.index,l=e.className,d=e.itemContentClass;return i.a.createElement("div",{"data-name":"item-".concat(c),className:"list-item ".concat(l),key:"item-".concat(n),style:$h(c,a),onClick:function(e){return s(e,c)}},i.a.createElement("div",{className:"index"},c+1),i.a.createElement("div",{className:"item-content  ".concat(d)},t),!o&&i.a.createElement("div",{className:"list-item-delete"},i.a.createElement(tp,{icon:eo.Xmark,onClick:function(e){return r(e,c)},title:"Delete Item"}),i.a.createElement("span",{title:"Grab and Reorder",className:"grabbable"},i.a.createElement(eo.DragIcon,null))))}}]),n}(o.Component);gf.propTypes={children:qr.a.node,id:qr.a.string.isRequired,noOfItems:qr.a.number.isRequired,onDelete:qr.a.func,modelViewReadOnly:qr.a.bool.isRequired,onSelect:qr.a.func,index:qr.a.number.isRequired,className:qr.a.string,itemContentClass:qr.a.string},gf.defaultProps={onDelete:function(){},onSelect:function(){},itemContentClass:"",className:""};var mf=gf,Sf=n(337);function Ef(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var vf=function(e){at()(n,e);var t=Ef(n);function n(){return Qe()(this,n),t.apply(this,arguments)}return $e()(n,[{key:"render",value:function(){var e=this.props,t=e.isDisabled,n=e.onDragEnd,a=e.items,r=(e.droppableId,e.getListStyle);return i.a.createElement(Sf.a,{onDragEnd:n},i.a.createElement(Sf.c,{droppableId:"droppable",isDropDisabled:t},(function(e,n){return i.a.createElement("div",{ref:e.innerRef,style:r(n.isDraggingOver)},a.map((function(e,n){return i.a.createElement(Sf.b,{key:e.id,draggableId:e.id,index:n,isDragDisabled:t},(function(t,n){return i.a.createElement("div",Je()({ref:t.innerRef,style:Qh(n.isDragging,t.draggableProps.style)},t.dragHandleProps,t.draggableProps.style),e.content)}))})),e.placeholder)})))}}]),n}(o.Component);vf.propTypes={onDragEnd:qr.a.func,items:qr.a.arrayOf(qr.a.shape({id:qr.a.string.isRequired,content:qr.a.node.isRequired})),droppableId:qr.a.string,isDisabled:qr.a.bool.isRequired},vf.defaultProps={onDragEnd:function(){},items:[],droppableId:"droppable",getListStyle:function(e){return{background:Xh(e),width:"100%",overflow:"auto",maxHeight:"calc(100vh - 370px)"}}};var Tf=vf;function yf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var bf=function(e){at()(n,e);var t=yf(n);function n(e,a){var r;Qe()(this,n),r=t.call(this,e,a),h()(tt()(r),"renderAddNewItem",(function(){return i.a.createElement(eo.ContextualActionsBar,{styleOverride:No.bar},i.a.createElement(eo.ContextualActionItem,{onClickAction:r.onAddTransformation,icon:eo.Plus,styleOverride:No.item},"NEW"),i.a.createElement(eo.ContextualActionItem,{onClickAction:r.onAddPredefined,icon:eo.Plus,styleOverride:No.item},"PREDEFINED"))})),r.onDelete=r.onDelete.bind(tt()(r)),r.getItems=r.getItems.bind(tt()(r)),r.onDragEnd=r.onDragEnd.bind(tt()(r)),r.onAddPredefinedTransformations=r.onAddPredefinedTransformations.bind(tt()(r)),r.onCreateTransformation=r.onCreateTransformation.bind(tt()(r)),r.onAddTransformation=r.onAddTransformation.bind(tt()(r)),r.onAddPredefined=r.onAddPredefined.bind(tt()(r)),r.onCancelAddTransformation=r.onCancelAddTransformation.bind(tt()(r)),r.onCancelAddPredefinedTransformation=r.onCancelAddPredefinedTransformation.bind(tt()(r)),r.onSelect=r.onSelect.bind(tt()(r)),r.okToDelete=r.okToDelete.bind(tt()(r)),r.onCancelDelete=r.onCancelDelete.bind(tt()(r)),r.props=e;var o;return o=r.props.transformations?r.props.transformations:[],r.idxPendingDelete=null,r.namePendingDelete=null,r.scrollItemIntoView=!1,r.state={transformations:o},r}return $e()(n,[{key:"componentDidUpdate",value:function(e,t){if(this.scrollItemIntoView){var n=this.state.transformations.length-1,a="div[data-idx = '".concat(n,"']");document.querySelectorAll(a)[0].parentNode.parentNode.scrollTop=1e3,this.scrollItemIntoView=!1}}},{key:"onCancelDelete",value:function(){this.props.dispatch(Pi(!1))}},{key:"okToDelete",value:function(){this.props.onDeleteTransformation(this.idxPendingDelete),this.props.dispatch(Pi(!1)),this.idxPendingDelete=null}},{key:"onDelete",value:function(e,t){e.preventDefault();var n=Yi(this.state.transformations[t]);this.props.dispatch(Pi(!0)),this.idxPendingDelete=t,this.namePendingDelete=n,e.stopPropagation()}},{key:"getItems",value:function(e){var t=this,n=this.props,a=n.modelViewReadOnly,r=n.currentIndex,o=[];if(!e)return o;var s=this.props.currentItem?this.props.currentItem:null;return s&&("string"==typeof s?s:Object.keys(s)[0]),e.forEach((function(e,n){var s,c;"string"==typeof e?(s=e,c=""):c=e[s=Object.keys(e)[0]].type;var l="".concat(s,"-").concat(n),d="transformation-list-item";r===n&&(d="".concat(d," transformation-selected-item"));var u=o.length;o.push({id:l,content:i.a.createElement("div",{"data-idx":n},i.a.createElement(mf,{index:n,noOfItems:u,onDelete:t.onDelete,onSelect:t.onSelect,id:l,modelViewReadOnly:a,className:d,itemContentClass:"transformation-item-content"},i.a.createElement("div",{className:"transformation-name"},s),i.a.createElement("div",{className:"transformation-type"},c)))})})),o}},{key:"onDragEnd",value:function(e){if(e.destination){var t=Yh(this.state.transformations,e.source.index,e.destination.index);this.props.onUpdateTransformationItems(t)}}},{key:"onCreateTransformation",value:function(e){this.scrollItemIntoView=!0,this.props.dispatch(Mi(!1)),this.props.onCreateTransformation(e)}},{key:"onCancelAddTransformation",value:function(){this.props.dispatch(Mi(!1))}},{key:"onAddTransformation",value:function(){this.props.dispatch(Mi(!0))}},{key:"onAddPredefined",value:function(){this.props.dispatch(wi(!0))}},{key:"onCancelAddPredefinedTransformation",value:function(){this.props.dispatch(wi(!1))}},{key:"onAddPredefinedTransformations",value:function(e){this.scrollItemIntoView=!0,this.props.dispatch(wi(!1)),this.props.onAddPredefined(e)}},{key:"onSelect",value:function(e,t){e.preventDefault();var n=this.state.transformations[t];this.props.onSelectItem(n,t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.modelViewReadOnly,a=t.dispatch,r=this.getItems(this.state.transformations);return i.a.createElement("div",{id:"TransformationItems"},i.a.createElement("div",{style:{lineHeight:"60px",paddingLeft:30,borderBottom:"1px solid #ddd",paddingBottom:2}},"Transformations"),!n&&this.renderAddNewItem(),i.a.createElement("div",{className:"dragdrop-container"},i.a.createElement(Tf,{onDragEnd:this.onDragEnd,items:r,droppableId:"transformation-items",isDisabled:n,getListStyle:Zh})),this.props.showTransformationAddDialog?i.a.createElement(sf,{dispatch:a,onOK:this.onCreateTransformation,onCancel:this.onCancelAddTransformation,showDialog:this.props.showTransformationAddDialog,transformations:this.props.transformations}):"",this.props.showTransformationPredefinedDialog?i.a.createElement(hf,{onOK:function(t){e.onAddPredefinedTransformations(t)},onCancel:this.onCancelAddPredefinedTransformation,showDialog:this.props.showTransformationPredefinedDialog}):"",i.a.createElement(Lh,{title:"Delete Transformation Item Confirmation",visible:this.props.showTransformationDeleteDialog,okString:"Delete",onCancel:this.onCancelDelete,onOk:this.okToDelete},i.a.createElement("div",null,i.a.createElement("label",null,"Select Delete to remove transformation: "),i.a.createElement("br",null),this.namePendingDelete)))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{transformations:e.transformations?e.transformations:[]}}}]),n}(o.Component);bf.propTypes={transformations:qr.a.array,onCreateTransformation:qr.a.func,onAddPredefined:qr.a.func,onDeleteTransformation:qr.a.func,currentItem:qr.a.oneOfType([qr.a.string,qr.a.object]),onSelectItem:qr.a.func,onUpdateTransformationItems:qr.a.func,showTransformationDeleteDialog:qr.a.bool,showTransformationAddDialog:qr.a.bool,showTransformationPredefinedDialog:qr.a.bool,dispatch:qr.a.func,modelViewReadOnly:qr.a.bool};var Cf=bf,If=n(158),Of=n.n(If);n(300),n(301),n(302);function Rf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var kf=function(e){at()(n,e);var t=Rf(n);function n(e,a){var r;Qe()(this,n),(r=t.call(this,e,a)).props=e,r.onBlur=r.onBlur.bind(tt()(r)),r.onChange=r.onChange.bind(tt()(r));var o=r.props.transformation,i=Ki(o);return r.unSavedContent=!1,r.textContent=i?JSON.stringify(i,null,2):"",r.state={content:r.textContent,transformation:o},r}return $e()(n,[{key:"componentWillReceiveProps",value:function(e){if(this.unSavedContent&&null!=this.textContent){var t=zi(this.state.transformation,this.textContent);this.unSavedContent=!1,this.props.onUpdateTransformation(t)}var n=e.transformation,a=Ki(n);this.textContent=a?JSON.stringify(a,null,2):"",this.setState({transformation:n,content:this.textContent})}},{key:"componentWillUnmount",value:function(){}},{key:"onBlur",value:function(e){var t=zi(this.state.transformation,this.textContent);this.props.onUpdateTransformation(t)}},{key:"onChange",value:function(e){this.textContent=e?e.trim():e,this.unSavedContent=!0}},{key:"render",value:function(){var e=this.state.content,t=this.props.modelViewReadOnly;return i.a.createElement("div",{style:{margin:"0px 2px 0px 2px",height:"100%",width:"98%",borderRight:"1px solid #ddd",borderTop:"1px solid #ddd"}},i.a.createElement(Of.a,{mode:"json",theme:t?"kuroir":"textmate",onBlur:this.onBlur,onChange:this.onChange,name:"UNIQUE_ID_OF_DIV",editorProps:{$blockScrolling:!0},showPrintMargin:!1,defaultValue:e,setOptions:{},width:"100%",height:"100%",fontSize:14,value:e,wrapEnabled:!0,readOnly:t}))}}]),n}(o.Component);kf.propTypes={transformation:qr.a.oneOfType([qr.a.object,qr.a.string]),modelViewReadOnly:qr.a.bool,onUpdateTransformation:qr.a.func};var Df=kf,_f=n(723);function Af(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var Nf=function(e){at()(n,e);var t=Af(n);function n(e,a){var r;Qe()(this,n),(r=t.call(this,e,a)).handleDelete=r.handleDelete.bind(tt()(r)),r.handleAddition=r.handleAddition.bind(tt()(r)),r.convertArrayToTags=r.convertArrayToTags.bind(tt()(r)),r.props=e;var o=r.props.transformationItem?r.props.transformationItem:[];return r.state={listItems:o},r}return $e()(n,[{key:"convertArrayToTags",value:function(e){var t=[];return e&&e.forEach((function(e,n){var a={text:e,id:"".concat(n),key:"".concat(n)};t.push(a)})),t}},{key:"handleDelete",value:function(e){var t=this.state.listItems.slice();t.splice(e,1),this.props.onUpdateTags(t)}},{key:"handleAddition",value:function(e){var t=this.state.listItems.slice();t.push(e.text),this.props.onUpdateTags(t)}},{key:"render",value:function(){var e=this.convertArrayToTags(this.state.listItems),t=this.props.modelViewReadOnly;return i.a.createElement("div",{id:"EditorTags"},i.a.createElement(_f.WithContext,{tags:e,suggestions:[],handleDelete:this.handleDelete,handleAddition:this.handleAddition,inline:!1,readOnly:t}),t&&0===e.length?i.a.createElement("span",null,"(No stemming exceptions defined)"):null)}}],[{key:"getDerivedStateFromProps",value:function(e){return{listItems:e.transformationItem?e.transformationItem:[]}}}]),n}(o.Component);Nf.defaultProps={onUpdateTags:function(){}},Nf.propTypes={transformationItem:qr.a.array,onUpdateTags:qr.a.func,modelViewReadOnly:qr.a.bool};var Lf=Nf,jf=function(e,t){var n=e.transformation,a=t.transformation,r=!1;if(!P.a.isNil(n))if(P.a.isNil(a))r=!0;else{t.unsavedChanges||(r=!0);var o=Object.keys(n)[0],i=Object.keys(a)[0];n.type===a.type&&o===i||(r=!0)}return r};function Pf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var wf=Lr().DISPLAY_MESSAGES,Mf=function(e){at()(n,e);var t=Pf(n);function n(e,a){var r;Qe()(this,n),r=t.call(this,e,a),h()(tt()(r),"renderAddNewItem",(function(){return i.a.createElement(eo.ContextualActionsBar,{styleOverride:No.bar},i.a.createElement(eo.ContextualActionItem,{onClickAction:r.onAddItem,icon:eo.Plus,styleOverride:No.item},"ADD ITEM"),i.a.createElement(eo.ContextualActionItem,{onClickAction:Jh,icon:eo.ExternalLink,styleOverride:No.item},"TEST REGEX"))})),r.onDragEnd=r.onDragEnd.bind(tt()(r)),r.onBlur=r.onBlur.bind(tt()(r)),r.onKeyPress=r.onKeyPress.bind(tt()(r)),r.getItems=r.getItems.bind(tt()(r)),r.onDelete=r.onDelete.bind(tt()(r)),r.onAddItem=r.onAddItem.bind(tt()(r)),r.saveChanges=r.saveChanges.bind(tt()(r)),r.onFocusAndInput=r.onFocusAndInput.bind(tt()(r)),r.props=e,r.scrollItemIntoView=!1,r.unsavedEdits=!1,r.lastEdited=null;var o=r.props.transformationItems?r.props.transformationItems:[];return r.state={listItems:o,unsavedChanges:!1,transformation:r.props.transformation},r}return $e()(n,[{key:"getSnapshotBeforeUpdate",value:function(e,t){if(!P.a.isNil(this.lastEdited)&&this.unsavedEdits){var n=this.lastEdited,a=n.value,r=n.index,o=this.props.currentTransformationName,i=t.listItems[r];return(this.unsavedEdits||o===e.currentTransformationName)&&(i=a),{currentItem:i}}return null}},{key:"componentWillUnmount",value:function(){if(this.state.unsavedChanges||this.unsavedEdits){var e=this.state.listItems.slice();if(!P.a.isNil(this.lastEdited)){var t=this.lastEdited,n=t.index,a=t.value;e[n]=a}this.unsavedEdits=!1,this.lastEdited=null,this.props.onUpdateList(e,this.props.transformation)}}},{key:"componentDidUpdate",value:function(e,t,n){if(this.scrollItemIntoView&&!P.a.isNil(this.lastEdited)){var a=this.state.listItems.length>0?this.state.listItems.length-1:0,r="div[data-idx = '".concat(a,"']");document.querySelectorAll(r)[0].parentNode.parentNode.scrollIntoView({behavior:"smooth",block:"center"}),this.scrollItemIntoView=!1}if((t.unsavedChanges||this.unsavedEdits)&&!P.a.isNil(n)&&!P.a.isNil(n.currentItem)&&!P.a.isNil(t.listItems)&&!P.a.isNil(this.lastEdited)){var o=t.listItems.slice(),i=this.lastEdited,s=i.index;i.value;e.currentTransformationName!==this.props.currentTransformationName&&(o[s]=n.currentItem,this.props.onUpdateList(o,t.transformation),this.unsavedEdits=!1)}this.lastEdited=null}},{key:"saveChanges",value:function(e){var t=this;this.unsavedEdits=!1,this.setState({listItems:e,unsavedChanges:!1},(function(){t.props.onUpdateList(e,t.props.transformation)}))}},{key:"onDelete",value:function(e,t){var n=this;e.preventDefault();var a=this.props.dispatch,r=this.state.listItems.slice(),o=r.splice(t,1)[0];this.setState({listItems:r},(function(){a(nr(wf.deleteTransformationItem(o))),n.saveChanges(r)})),e.stopPropagation()}},{key:"getItems",value:function(e){var t=this,n=[];if(!e)return n;var a=this.props.modelViewReadOnly,r=e.length;return e.forEach((function(e,o){var s=qh.a.generate();n.push({id:s,content:i.a.createElement("div",{"data-idx":o},i.a.createElement(mf,{index:o,noOfItems:r,onDelete:t.onDelete,id:s,modelViewReadOnly:a},i.a.createElement("div",{className:"list-item-input-one"},i.a.createElement("input",{"data-item":"item-".concat(o),"data-idx":o,onBlur:t.onBlur,onKeyPress:t.onKeyPress,onInput:t.onFocusAndInput,onFocus:t.onFocusAndInput,defaultValue:e,disabled:a}))))})})),n}},{key:"onAddItem",value:function(){this.scrollItemIntoView=!0;var e=this.state.listItems.slice();e.push(" "),this.setState({listItems:e,unsavedChanges:!0})}},{key:"onDragEnd",value:function(e){if(e.destination){var t=Yh(this.state.listItems,e.source.index,e.destination.index);this.saveChanges(t)}}},{key:"onKeyPress",value:function(e){"Enter"!==e.key&&"Tab"!==e.key||(e.preventDefault(),this.onBlur(e))}},{key:"onBlur",value:function(e){var t=e.target,n=t.attributes,a=void 0===n?{}:n,r=t.value,o=parseInt(a["data-idx"].value);r=r.trim();var i=this.state.listItems.slice();i[o]=r,this.saveChanges(i)}},{key:"onFocusAndInput",value:function(e){e.preventDefault();var t=e.target,n=t.attributes,a=void 0===n?{}:n,r=t.value,o=parseInt(a["data-idx"].value);r=r.trim(),this.unsavedEdits=!0,this.lastEdited={index:o,value:r}}},{key:"render",value:function(){var e=this.getItems(this.state.listItems),t=this.props.modelViewReadOnly;return i.a.createElement("div",{id:"EditorOrderedList",className:"model-transformation-editor-container"},!t&&this.renderAddNewItem(),this.props.helpComponent,i.a.createElement("div",{className:"transformation-editor-area"},i.a.createElement(Tf,{onDragEnd:this.onDragEnd,items:e,droppableId:"editor-long-pairs",isDisabled:t})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(jf(e,t)){var n=Object.keys(e.transformation)[0];return{unsavedChanges:!1,listItems:e.transformationItems?e.transformationItems:[],transformation:e.transformation,transformationName:n}}return null}}]),n}(o.Component);Mf.propTypes={currentTransformationName:qr.a.string.isRequired,transformationItems:qr.a.array,onUpdateList:qr.a.func,transformation:qr.a.object,modelViewReadOnly:qr.a.bool};var xf=Mf,Bf=n(329);function Uf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var Gf=Lr().DISPLAY_MESSAGES,Ff=function(e){at()(n,e);var t=Uf(n);function n(e,a){var r;Qe()(this,n),r=t.call(this,e,a),h()(tt()(r),"renderAddNewItem",(function(){return i.a.createElement(eo.ContextualActionsBar,{styleOverride:No.bar},i.a.createElement(eo.ContextualActionItem,{onClickAction:r.onClickAdd,icon:eo.Plus,styleOverride:No.item},"ADD ITEM"))})),r.onDragEnd=r.onDragEnd.bind(tt()(r)),r.onBlur=r.onBlur.bind(tt()(r)),r.getItems=r.getItems.bind(tt()(r)),r.onClickDelete=r.onClickDelete.bind(tt()(r)),r.onClickAdd=r.onClickAdd.bind(tt()(r)),r.onFocus=r.onFocus.bind(tt()(r)),r.saveChanges=r.saveChanges.bind(tt()(r)),r.props=e,r.KEY="Key",r.VALUE="Value";var o=r.props.transformationItems?r.props.transformationItems:{},s=Object.keys(o),c=[];return s&&s.forEach((function(e){c.push({key:e,value:o[e]})})),r.selected=null,r.unsavedEdits=!1,r.scrollItemIntoView=!1,r.state={listItems:c,transformation:r.props.transformation,unsavedChanges:!1},r}return $e()(n,[{key:"getSnapshotBeforeUpdate",value:function(e,t){var n=this.selected;if(!P.a.isNil(n)&&this.unsavedEdits){var a="";if(-1!==n.index){var r=this["input".concat(n.name).concat(n.index)];P.a.isNil(r)||(a=r.value)}var o=t.listItems,i=Object.assign({},o[n.index]);return n.name===this.KEY?i.key=a:i.value=a,{currentItem:i}}return null}},{key:"componentDidUpdate",value:function(e,t,n){var a=!1;if(this.unsavedEdits&&!P.a.isNil(n)&&!P.a.isNil(n.currentItem)&&!P.a.isNil(t.listItems)&&!P.a.isNil(this.selected)){var r=t.listItems,o=r[this.selected.index];if(!P.a.isNil(o)&&(o.key!==n.currentItem.key||o.value!==n.currentItem.value)){r[this.selected.index]=n.currentItem;var i={};r.forEach((function(e){i[e.key]=e.value})),this.unsavedEdits=!1,a=!0,this.props.onUpdateList(i,t.transformation)}}if((this.scrollItemIntoView||this.setFocus)&&!P.a.isNil(this.selected)){var s=this.selected.index;if(this.scrollItemIntoView){var c="input[data-item = 'item-".concat(s,"']"),l=document.querySelectorAll(c);!P.a.isNil(l)&&l.length>0&&l[0].parentNode.parentNode.scrollIntoView({behavior:"smooth",block:"center"}),this.scrollItemIntoView=!1,a=!0}if(this.setFocus){var d=this["input".concat(this.selected.name).concat(this.selected.index)];P.a.isNil(d)||this.selected.name===this.KEY&&d._ref.focus(),this.setFocus=!1,a=!0}}a&&(this.selected=null)}},{key:"componentWillUnmount",value:function(){if(this.unsavedEdits){var e=this.state.listItems;if(!P.a.isNil(this.selected)){var t="";if(-1!==this.selected.index){var n=this["input".concat(this.selected.name).concat(this.selected.index)];P.a.isNil(n)||(t=n.value)}var a=Object.assign({},e[this.selected.index]);this.selected.name===this.KEY?a.key=t:a.value=t,e[this.selected.index]=a}this.saveChanges(e)}}},{key:"saveChanges",value:function(e){var t={};e.forEach((function(e){t[e.key]=e.value})),this.props.onUpdateList(t,this.props.transformation)}},{key:"onClickDelete",value:function(e,t){var n=this;e.stopPropagation();var a=this.props.dispatch,r=this.state.listItems,o=r[t];r.splice(t,1),this.setState({listItems:r,unsavedChanges:!1},(function(){a(nr(Gf.deleteTransformationItem(o))),n.saveChanges(r),n.selected={index:t>0?t-1:t,name:n.KEY},n.setFocus=!0}))}},{key:"getItems",value:function(e){var t=this,n=[],a=!0;if(!e)return n;var r=this.props,o=r.modelViewReadOnly,s=r.onlySubstText,c=r.dispatch,l=r.isTransformationValid,d=e.length;return e.forEach((function(e,r){var c=!0,l="",u="".concat(r,"-").concat(e.key,"-").concat(e.value);(s&&!si.validateWordClassLabel(e.value)||!e.key||!s&&!e.value)&&(c=!1,a=!1,l=T.VALIDATION_SPLIT_NO_DATA_MSG),n.push({id:u,content:i.a.createElement(mf,{index:r,noOfItems:d,onDelete:t.onClickDelete,id:u,modelViewReadOnly:o},i.a.createElement("div",{className:"list-item-textarea-top"},i.a.createElement(Bf.a,{name:t.KEY,"data-item":"item-".concat(r),"data-idx":r,"data-name":t.KEY,"data-qa":"key-".concat(r),onBlur:t.onBlur,defaultValue:e.key,key:"inputKey-".concat(u),className:"list-item text-area-autosize",ref:function(e){t["inputKey".concat(r)]=e},disabled:o,autoComplete:"off"})),i.a.createElement("div",{className:"list-item-input-bottom"},i.a.createElement(eo.TextField,{type:"text",name:t.VALUE,"data-idx":r,"data-name":t.VALUE,"data-qa":"value-".concat(r),defaultValue:e.value,disabled:o,onBlur:t.onBlur,key:"inputKey-".concat(u),invalid:!c,showValidCheck:!0,tooltipText:l,ref:function(e){t["inputValue".concat(r)]=e},styleOverride:{width:"100%"},checkmarkProps:{fill:"#004c97"}})))})})),a!==l&&c(Di(a)),n}},{key:"onFocus",value:function(e){e.preventDefault();var t=parseInt(e.target.attributes["data-idx"].value),n=e.target.attributes["data-name"].value;this.unsavedEdits=!0,this.selected={index:t,name:n,value:e.target.value}}},{key:"onClickAdd",value:function(e){e.persist(),this.scrollItemIntoView=!0;var t=[],n="";this.props.onlySubstText&&(n=T.WORD_CLASS_SYNTAX),this.state.listItems.forEach((function(e){t.push(e)})),t.push({key:"",value:n}),this.setFocus=!0,this.selected={index:t.length-1,name:this.KEY},this.setState({listItems:t,unsavedChanges:!0})}},{key:"onDragEnd",value:function(e){var t=this;if(e.destination){var n=Yh(this.state.listItems,e.source.index,e.destination.index);this.setState({listItems:n,unsavedChanges:!1},(function(){t.saveChanges(n)}))}}},{key:"manageEdits",value:function(e,t,n){var a=this,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this.state.listItems,i=o[e],s=!1;if(t===this.KEY){var c=n?n.trim():n;c!==i.key&&(i.key=c,s=!0)}else{var l=n?n.trim():n;l!==i.value&&(i.value=l,s=!0)}if(this.unsavedEdits=!1,s){var d=e,u=this.VALUE;t===this.VALUE&&(e<o.length-1?(d=e+1,u=this.KEY):u=this.KEY),o[e]=i,this.setState({listItems:o,unsavedChanges:!1},(function(){r&&(a.setFocus=!0,a.selected={index:d,name:u},a.saveChanges(o))}))}}},{key:"onBlur",value:function(e){var t=parseInt(e.target.attributes["data-idx"].value),n=e.target.attributes["data-name"].value;this.manageEdits(t,n,e.target.value,!0)}},{key:"render",value:function(){var e=this.getItems(this.state.listItems),t=this.props.modelViewReadOnly;return i.a.createElement("div",{id:"EditorSimplePairs",className:"model-transformation-editor-container"},!t&&this.renderAddNewItem(),this.props.helpComponent,i.a.createElement("div",{className:"transformation-editor-area"},i.a.createElement(Tf,{onDragEnd:this.onDragEnd,items:e,droppableId:"editor-simple-pairs",isDisabled:t})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(jf(e,t)){var n=e.transformationItems?e.transformationItems:{},a=Object.keys(n),r=[];return a&&a.forEach((function(e){r.push({key:e,value:n[e]})})),{listItems:r,transformation:e.transformation}}return null}}]),n}(o.Component);Ff.defaultProps={onlySubstText:!1,isTransformationValid:!0,dispatch:function(){}},Ff.propTypes={transformationItems:qr.a.object,onUpdateList:qr.a.func,transformation:qr.a.object,helpComponent:qr.a.node,dispatch:qr.a.func,onlySubstText:qr.a.bool,modelViewReadOnly:qr.a.bool};var Vf=Ff;function Hf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var qf=Lr().DISPLAY_MESSAGES,Wf=function(e){at()(n,e);var t=Hf(n);function n(e,a){var r;Qe()(this,n),r=t.call(this,e,a),h()(tt()(r),"renderAddNewItem",(function(){return i.a.createElement(eo.ContextualActionsBar,{styleOverride:No.bar},i.a.createElement(eo.ContextualActionItem,{onClickAction:r.onClickAdd,icon:eo.Plus,styleOverride:No.item},"ADD ITEM"),i.a.createElement(eo.ContextualActionItem,{onClickAction:Jh,icon:eo.ExternalLink,styleOverride:No.item},"TEST REGEX"))})),r.onDragEnd=r.onDragEnd.bind(tt()(r)),r.onBlur=r.onBlur.bind(tt()(r)),r.getItems=r.getItems.bind(tt()(r)),r.onClickDelete=r.onClickDelete.bind(tt()(r)),r.onClickAdd=r.onClickAdd.bind(tt()(r)),r.onFocusAndInput=r.onFocusAndInput.bind(tt()(r)),r.saveChanges=r.saveChanges.bind(tt()(r)),r.props=e,r.KEY="Key",r.VALUE="Value";var o=e.transformation?Object.keys(e.transformation):[""],s=r.props.transformationItems?r.props.transformationItems:{},c=Object.keys(s),l=[];return c&&c.forEach((function(e){l.push({key:e,value:s[e]})})),r.selected=null,r.unsavedEdits=!1,r.scrollItemIntoView=!1,r.state={listItems:l,transformation:r.props.transformation,unsavedChanges:!1,transformationName:o[0]},r}return $e()(n,[{key:"getSnapshotBeforeUpdate",value:function(e,t){var n=this.selected;if(!P.a.isNil(n)&&this.unsavedEdits){var a=n.value,r=this.props.currentTransformationName,o=t.listItems,i=Object.assign({},o[n.index]);return(this.unsavedEdits||r===e.currentTransformationName)&&(n.name===this.KEY?i.key=a:i.value=a),{currentItem:i}}return null}},{key:"componentDidUpdate",value:function(e,t,n){if(this.unsavedEdits&&!P.a.isNil(n)&&!P.a.isNil(n.currentItem)&&!P.a.isNil(t.listItems)&&!P.a.isNil(this.selected)){var a=t.listItems,r=a[this.selected.index];if(!P.a.isNil(r)&&(r.key!==n.currentItem.key||r.value!==n.currentItem.value)){a[this.selected.index]=n.currentItem;var o={};a.forEach((function(e){o[e.key]=e.value})),this.unsavedEdits=!1,this.props.onUpdateList(o,t.transformation)}}if((this.scrollItemIntoView||this.setFocus)&&!P.a.isNil(this.selected)){var i=this.selected.index;if(this.scrollItemIntoView){var s="input[data-item = 'item-".concat(i,"']"),c=document.querySelectorAll(s);!P.a.isNil(c)&&c.length>0&&c[0].parentNode.parentNode.scrollIntoView({behavior:"smooth",block:"center"}),this.scrollItemIntoView=!1}if(this.setFocus){var l=this["input".concat(this.selected.name).concat(this.selected.index)];P.a.isNil(l)||(this.selected.name===this.KEY?l._ref.focus():l.focus()),this.setFocus=!1}}this.selected=null}},{key:"componentWillUnmount",value:function(){if(this.unsavedEdits){var e=this.state.listItems.slice();if(!P.a.isNil(this.selected)){var t=this.selected.value,n=Object.assign({},e[this.selected.index]);this.selected.name===this.KEY?n.key=t:n.value=t,e[this.selected.index]=n}this.selected=null,this.saveChanges(e)}}},{key:"saveChanges",value:function(e){var t=this,n=this.props.onUpdateList,a={};e.forEach((function(e){!t.props.onlyRegex&&e.key&&-1===e.key.indexOf("/")&&0!==e.key.indexOf('"')&&(e.key='"'.concat(e.key,'"')),a[e.key]=e.value})),n(a,this.props.transformation)}},{key:"onClickDelete",value:function(e,t){var n=this;e.stopPropagation();var a=this.props.dispatch,r=this.state.listItems.slice(),o=r.splice(t,1)[0];this.setState({listItems:r},(function(){a(nr(qf.deleteTransformationItem(o))),n.saveChanges(r),n.setFocus=!0}))}},{key:"getItems",value:function(e){var t=this,n=[],a=!0;if(!e)return n;var r=this.props,o=r.modelViewReadOnly,s=r.onlyRegex,c=r.dispatch,l=r.isTransformationValid,d=this.state.transformationName,u=e.length;return e.forEach((function(e,r){var c=!0,l="",p="".concat(r,"-").concat(e.key,"-").concat(e.value);(s&&!si.validateWordClassLabel(e.value)||!e.key||!s&&!e.value)&&(c=!1,a=!1,l=T.VALIDATION_SPLIT_NO_DATA_MSG),n.push({id:p,content:i.a.createElement(mf,{index:r,noOfItems:u,onDelete:t.onClickDelete,id:p,modelViewReadOnly:o},i.a.createElement("div",{className:"list-item-textarea-top"},i.a.createElement(Bf.a,{name:t.KEY,"data-item":"item-".concat(r),"data-idx":r,"data-name":t.KEY,"data-qa":"key-".concat(r,"-").concat(d),onBlur:t.onBlur,onFocus:t.onFocusAndInput,onInput:t.onFocusAndInput,defaultValue:e.key,key:"inputKey-".concat(p),className:"list-item text-area-autosize",ref:function(e){t["inputKey".concat(r)]=e},disabled:o,autoComplete:"off"})),i.a.createElement("div",{className:"list-item-input-bottom"},i.a.createElement(eo.TextField,{type:"text",name:t.VALUE,"data-idx":r,"data-name":t.VALUE,"data-qa":"value-".concat(r,"-").concat(d),defaultValue:e.value,disabled:o,onBlur:t.onBlur,key:"inputKey-".concat(p),invalid:!c,showValidCheck:!0,tooltipText:l,onChange:t.onFocusAndInput,styleOverride:{width:"100%"},checkmarkProps:{fill:"#004c97"}})))})})),a!==l&&c(Di(a)),n}},{key:"onClickAdd",value:function(e){e.persist(),this.scrollItemIntoView=!0;var t="";this.props.onlyRegex&&(t=T.WORD_CLASS_SYNTAX);var n=this.state.listItems.slice();n.push({key:"",value:t}),this.setFocus=!0,this.selected={index:n.length-1,name:this.KEY},this.setState({listItems:n,unsavedChanges:!0})}},{key:"onDragEnd",value:function(e){var t=this;if(e.destination){var n=Yh(this.state.listItems,e.source.index,e.destination.index);this.unsavedEdits=!1,this.setState({listItems:n,unsavedChanges:!1},(function(){t.selected={index:e.destination.index,name:t.KEY},t.saveChanges(n)}))}}},{key:"manageEdits",value:function(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=this.state.listItems.slice(),o=r[e],i=!1;if(t===this.KEY){var s=n?n.trim():n;s!==o.key&&(o.key=s,i=!0)}else{var c=n?n.trim():n;c!==o.value&&(o.value=c,i=!0)}if(this.unsavedEdits=!1,i){var l=e,d=this.VALUE;t===this.VALUE&&(e<r.length-1?(l=e+1,d=this.KEY):d=this.KEY),r[e]=o,a&&(this.setFocus=!0,this.selected={index:l,name:d},this.saveChanges(r))}}},{key:"onBlur",value:function(e){var t=e.target,n=t.attributes,a=t.value,r=parseInt(n["data-idx"].value),o=n["data-name"].value;this.manageEdits(r,o,a,!0)}},{key:"onFocusAndInput",value:function(e){e.preventDefault();var t=e.target,n=t.attributes,a=t.value,r=parseInt(n["data-idx"].value),o=n["data-name"].value;this.unsavedEdits=!0,this.selected={index:r,name:o,value:a}}},{key:"render",value:function(){var e=this.getItems(this.state.listItems),t=this.props,n=t.modelViewReadOnly,a=t.helpComponent;return i.a.createElement("div",{id:"EditorLongPairs",className:"model-transformation-editor-container"},!n&&this.renderAddNewItem(),a,i.a.createElement("div",{className:"transformation-editor-area"},i.a.createElement(Tf,{onDragEnd:this.onDragEnd,items:e,droppableId:"editor-long-pairs",isDisabled:n})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(jf(e,t)){var n=e.transformationItems?e.transformationItems:{},a=Object.keys(n),r=[];a&&a.forEach((function(e){r.push({key:e,value:n[e]})}));var o=e.transformation?Object.keys(e.transformation)[0]:"";return{listItems:r,transformation:e.transformation,transformationName:o}}return null}}]),n}(o.Component);Wf.defaultProps={onlyRegex:!1,isTransformationValid:!0,dispatch:function(){}},Wf.propTypes={currentTransformationName:qr.a.string.isRequired,transformationItems:qr.a.object,onUpdateTransformation:qr.a.func,transformation:qr.a.object,helpComponent:qr.a.node,onlyRegex:qr.a.bool,modelViewReadOnly:qr.a.bool,isTransformationValid:qr.a.bool};var Kf,zf=Wf,Yf=T.HELP,Jf=T.TRANSFORMATION_TYPES,Xf=(Kf={},h()(Kf,Jf.REGEX_REPLACE,{example:"/\\b(\\w+)(\\s\\1\\b)+/i: $1",link:Yf.TRANSFORMATION_LINK}),h()(Kf,Jf.WORDCLASS_SUBST_REGEX,{example:"/d+.?d*/: _class_number",link:Yf.TRANSFORMATION_LINK}),h()(Kf,Jf.WORDCLASS_SUBST_TEXT,{example:"boston: _class_city",link:Yf.TRANSFORMATION_LINK}),h()(Kf,Jf.INPUT_MATCH,{example:"/gold|copper|aluminum/i: MetalRU",link:Yf.TRANSFORMATION_LINK}),h()(Kf,Jf.REGEX_REMOVAL,{example:"/%[0-9]+/",link:Yf.TRANSFORMATION_LINK}),h()(Kf,Jf.STEMS,{example:"account's: account",link:Yf.TRANSFORMATION_LINK}),h()(Kf,Jf.STEMS_NOCASE,{example:"account's: account",link:Yf.TRANSFORMATION_LINK}),Kf),Qf=function(e,t,n){var a=i.a.createElement("div",null);return lc(sc.transformationHelp,t,cc.show)&&Xf.hasOwnProperty(e)&&(a=Xf[e]),function(e,t){var n=e.example,a=e.link,r=e.value,o=void 0===r?"MORE INFO":r;return i.a.createElement("div",{className:"transformation-item-help"},t&&i.a.createElement("div",null,i.a.createElement("span",{className:"label"},"Comment:"),i.a.createElement("span",{className:"content"},t)),i.a.createElement("div",null,i.a.createElement("span",{className:"label"},"Example:"),i.a.createElement("span",{className:"content"},n),i.a.createElement("a",{href:a,target:"_blank"},o)))}(a,n)},Zf=i.a.createElement("div",{style:{lineHeight:"0.7",paddingTop:"25px",paddingLeft:"30px",fontFamily:"LatoWeb",color:"#28a745",fontSize:"14px"}},i.a.createElement("p",{style:{fontFamily:"LatoWeb",color:"#28a745",fontSize:"16px"}},"Date Formats Accepted and Normalized"),i.a.createElement("li",{style:{color:"#28a745",paddingTop:"15px"}},"today/tomorrow"),i.a.createElement("li",{style:{color:"#28a745",paddingTop:"15px"}},"dates like january (the) twenty-third (of) 2019"),i.a.createElement("li",{style:{color:"#28a745",paddingTop:"15px"}},"dates like jan twenty two 20"),i.a.createElement("li",{style:{color:"#28a745",paddingTop:"15px"}},"dates like 12(th) of january 2019"),i.a.createElement("li",{style:{color:"#28a745",paddingTop:"15px"}},"dates like january(the) 30(th) 2019"),i.a.createElement("li",{style:{color:"#28a745",paddingTop:"15px"}},"unambiguous dates in european format like 31/05/2019"),i.a.createElement("li",{style:{color:"#28a745",paddingTop:"15px"}},"(days of month between 13/31)"),i.a.createElement("li",{style:{color:"#28a745",paddingTop:"15px"}},"dates like 10/12(th)/2019"),i.a.createElement("li",{style:{color:"#28a745",paddingTop:"15px"}},"dates like twenty-first (of) january 2019"),i.a.createElement("li",{style:{color:"#28a745",paddingTop:"15px"}},"dates like january 31st (with no year)"),i.a.createElement("li",{style:{color:"#28a745",paddingTop:"15px"}},"relative dates like 'this Thursday', 'next Friday'"),i.a.createElement("li",{style:{color:"#28a745",paddingTop:"15px"}},"days of week like 'Thurs.' or 'Thursday'"),i.a.createElement("li",{style:{color:"#28a745",paddingTop:"15px"}},"dates like twenty-first (of) jan"),i.a.createElement("li",{style:{color:"#28a745",paddingTop:"15px"}},"dates like january (the) 29th"),i.a.createElement("li",{style:{color:"#28a745",paddingTop:"15px"}},"dates like 12th (of) january"),i.a.createElement("li",{style:{color:"#28a745",paddingTop:"15px"}},"dates like 12th")),$f=i.a.createElement("div",{style:{lineHeight:"0.7",paddingTop:"25px",paddingLeft:"30px",fontFamily:"LatoWeb",color:"#28a745",fontSize:"14px"}},i.a.createElement("p",{style:{fontFamily:"LatoWeb",color:"#28a745",fontSize:"16px"}},"Address Formats Accepted and Normalized"));function eg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var tg=n(647),ng=function(e){at()(n,e);var t=eg(n);function n(e,a){var r;return Qe()(this,n),r=t.call(this,e,a),h()(tt()(r),"onTabSelected",(function(e,t){r.setState({selectedTabIndex:t})})),r.props=e,r.components={DateTransformation:Zf,AddressTransformation:$f},r.onUpdateTags=r.onUpdateTags.bind(tt()(r)),r.onUpdateList=r.onUpdateList.bind(tt()(r)),r.onUpdateMapping=r.onUpdateMapping.bind(tt()(r)),r.specificEditor=r.specificEditor.bind(tt()(r)),r.state={selectedTabIndex:0},r}return $e()(n,[{key:"onUpdateTags",value:function(e){var t=this.props.transformation,n=Object.keys(t)[0],a=Object.assign(t[n],{list:e}),r=h()({},n,a);this.props.onUpdateTransformation(r)}},{key:"onUpdateList",value:function(e,t){if(t&&"string"!=typeof t){var n=Object.keys(t)[0],a=Object.assign(t[n],{list:e}),r=h()({},n,a);this.props.onUpdateTransformation(r)}}},{key:"onUpdateMapping",value:function(e,t){if(t&&"string"!=typeof t){var n=Object.keys(t)[0],a=Object.assign(t[n],{mappings:e}),r=h()({},n,a);this.props.onUpdateTransformation(r)}}},{key:"specificEditor",value:function(e){var t=this.props,n=t.transformation,a=t.userFeatureConfiguration,r=t.modelViewReadOnly,o=t.dispatch,s=t.isTransformationValid;if("string"==typeof n)return i.a.createElement(Df,{transformation:n,modelViewReadOnly:r});var c=Object.keys(n),l=n[c[0]],d=l.type,u=l.comments,p=void 0===u?"":u,h=T.TRANSFORMATION_TYPES;if(!e)switch(d){case h.STOP_WORDS:return i.a.createElement(Lf,{transformationItem:l.list,onUpdateTags:this.onUpdateTags,transformation:n,dispatch:o,modelViewReadOnly:r});case h.WORDCLASS_SUBST_TEXT:return i.a.createElement(Vf,{transformationItems:l.mappings,onUpdateList:this.onUpdateMapping,transformation:n,helpComponent:Qf(d,a,p),dispatch:o,onlySubstText:!0,isTransformationValid:s,modelViewReadOnly:r});case h.STEMS:case h.STEMS_NOCASE:return i.a.createElement(Vf,{transformationItems:l.mappings,onUpdateList:this.onUpdateMapping,transformation:n,helpComponent:Qf(d,a,p),dispatch:o,isTransformationValid:s,modelViewReadOnly:r});case h.REGEX_REPLACE:return i.a.createElement(zf,{currentTransformationName:c[0],transformationItems:l.mappings,onUpdateList:this.onUpdateMapping,transformation:n,helpComponent:Qf(d,a,p),dispatch:o,isTransformationValid:s,modelViewReadOnly:r});case h.INPUT_MATCH:return i.a.createElement(zf,{currentTransformationName:c[0],transformationItems:l.mappings,onUpdateList:this.onUpdateMapping,transformation:n,helpComponent:Qf(d,a,p),trimSpaces:!0,dispatch:o,isTransformationValid:s,modelViewReadOnly:r});case h.WORDCLASS_SUBST_REGEX:return i.a.createElement(zf,{currentTransformationName:c[0],transformationItems:l.mappings,onUpdateList:this.onUpdateMapping,transformation:n,helpComponent:Qf(d,a,p),trimSpaces:!0,onlyRegex:!0,isTransformationValid:s,dispatch:o,modelViewReadOnly:r});case h.SPELL_CHECKING:case h.STEMS_URL:case h.STEMS_NOCASE_URL:return i.a.createElement(Df,{transformation:n,readOnly:!1,onUpdateTransformation:this.props.onUpdateTransformation,dispatch:o,modelViewReadOnly:r});case h.REGEX_REMOVAL:return i.a.createElement(xf,{currentTransformationName:c[0],transformationItems:l.list,onUpdateList:this.onUpdateList,transformation:n,dispatch:o,modelViewReadOnly:r})}return i.a.createElement(Df,{currentTransformationName:c[0],transformation:n,onUpdateTransformation:this.props.onUpdateTransformation,modelViewReadOnly:r})}},{key:"render",value:function(){var e,t=this.state.selectedTabIndex,n=this.props.transformation,a=T.TRANSFORMATION_TYPES,r=tg.urlTransforms;if("object"===Cu()(n)){var o=Object.keys(n);if(n[o[0]].type===a.TRANSFORMATION_URL)return e=r.find((function(e){return e.name===o[0]})).content,this.components[e]}return i.a.createElement(eo.Tabs,{align:"left",tabs:T.UI_JSON_TABS,onTabSelected:this.onTabSelected,selectedIndex:t,forceRenderTabPanel:!1,tabPanels:[this.specificEditor(!1),this.specificEditor(!0)],styleOverride:{tabContainer:{marginLeft:"1px",borderTop:"none"},tabPanel:{height:"calc(100vh - 245px)"}}})}}]),n}(o.Component);ng.defaultProps={transformation:""},ng.propTypes={transformation:qr.a.oneOfType([qr.a.string,qr.a.object,qr.a.array]),onUpdateTransformation:qr.a.func,dispatch:qr.a.func,userFeatureConfiguration:qr.a.object,modelViewReadOnly:qr.a.bool,isTransformationValid:qr.a.bool};var ag=ng;function rg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var og=function(e){at()(n,e);var t=rg(n);function n(e,a){var r;return Qe()(this,n),(r=t.call(this,e,a)).props=e,r}return $e()(n,[{key:"editor",get:function(){var e=this.props,t=e.currentItem,n=e.userFeatureConfiguration,a=e.onUpdateTransformation,r=e.dispatch,o=e.modelViewReadOnly,s=e.isTransformationValid;return t?i.a.createElement(ag,{transformation:t,onUpdateTransformation:a,dispatch:r,userFeatureConfiguration:n,modelViewReadOnly:o,isTransformationValid:s}):i.a.createElement(Lu,{style:{paddingTop:"30vh",margin:"auto",color:"#727272"},message:"Please choose a config file or create new one."})}},{key:"render",value:function(){return i.a.createElement("div",{id:"ConfigEditorContent"},this.editor)}}]),n}(o.Component);og.propTypes={currentItem:qr.a.oneOfType([qr.a.string,qr.a.object]),onUpdateTransformation:qr.a.func,dispatch:qr.a.func,userFeatureConfiguration:qr.a.object,modelViewReadOnly:qr.a.bool,isTransformationValid:qr.a.bool};var ig=og;function sg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function cg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sg(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var dg=function(e){at()(n,e);var t=lg(n);function n(e){var a;Qe()(this,n),(a=t.call(this,e)).onDeleteTransformation=a.onDeleteTransformation.bind(tt()(a)),a.onCreateTransformation=a.onCreateTransformation.bind(tt()(a)),a.onUpdateTransformation=a.onUpdateTransformation.bind(tt()(a)),a.onUpdateTransformationItems=a.onUpdateTransformationItems.bind(tt()(a)),a.onSelectItem=a.onSelectItem.bind(tt()(a)),a.onAddPredefined=a.onAddPredefined.bind(tt()(a));var r=[];e.config&&e.config.transformations&&(r=e.config.transformations);var o=r.length>0?r[0]:null;return a.state={config:e.config||{},transformations:r,currentItem:o,resetCurrentItem:!1,currentIndex:0},a}return $e()(n,[{key:"shouldComponentUpdate",value:function(e,t){return!!e.isCurrentTab}},{key:"onAddPredefined",value:function(e){var t=this,n=this.state.transformations;e.forEach((function(e){n.push(e)})),this.setState({resetCurrentItem:!0},(function(){t.onUpdateTransformationItems(n)}))}},{key:"onCreateTransformation",value:function(e){var t=this,n=this.state.transformations;n.push(e),this.setState({resetCurrentItem:!0},(function(){t.onUpdateTransformationItems(n)}))}},{key:"onDeleteTransformation",value:function(e){var t=this,n=this.state.transformations;n.splice(e,1),this.setState({resetCurrentItem:!0},(function(){t.onUpdateTransformationItems(n)}))}},{key:"onSelectItem",value:function(e,t){this.setState({currentItem:e,resetCurrentItem:!1,currentIndex:t})}},{key:"onUpdateTransformation",value:function(e){var t=Xi(this.state.transformations,e),n=cg(cg({},this.props.config),{},{transformations:t});this.props.saveConfigChanges(n)}},{key:"onUpdateTransformationItems",value:function(e){var t=cg(cg({},this.props.config),{},{transformations:e});this.props.saveConfigChanges(t)}},{key:"render",value:function(){var e=this.props,t=e.modelViewReadOnly,n=e.isCurrentTab,a=e.userFeatureConfiguration,r=e.showTransformationAddDialog,o=e.showTransformationDeleteDialog,s=e.showTransformationPredefinedDialog,c=e.dispatch,l=e.isTransformationValid,d=this.state,u=d.config,p=void 0===u?{}:u,h=d.currentItem,f=d.currentIndex,g=p&&p.transformations?p.transformations:[];return n?i.a.createElement("div",{id:"ModelTransformationContainer"},i.a.createElement("div",{id:"modelTransformationItems"},i.a.createElement(Cf,{transformations:g,currentItem:h,currentIndex:f,onCreateTransformation:this.onCreateTransformation,onDeleteTransformation:this.onDeleteTransformation,onSelectItem:this.onSelectItem,onUpdateTransformationItems:this.onUpdateTransformationItems,onAddPredefined:this.onAddPredefined,showTransformationPredefinedDialog:s,showTransformationAddDialog:r,showTransformationDeleteDialog:o,dispatch:c,modelViewReadOnly:t})),i.a.createElement("div",{id:"modelTransformationEditor"},i.a.createElement(ig,{currentItem:h,onUpdateTransformation:this.onUpdateTransformation,dispatch:c,userFeatureConfiguration:a,modelViewReadOnly:t,isTransformationValid:l})),i.a.createElement("div",{id:"nextButtonArea"})):null}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.transformations,a=t.resetCurrentItem,r=t.currentItem,o=t.currentIndex,i=e.newConfigSelected,s=e.resetNewConfigSelected,c=e.config;return c&&c.transformations&&(n=c.transformations),(!r||a||i)&&(r=n[n.length-1],o=n.length-1,a=!1,i&&s()),{transformations:n,config:e.config,currentItem:r,currentIndex:o,resetCurrentItem:a}}}]),n}(o.Component);dg.propTypes={model:qr.a.object,config:qr.a.object,saveConfigChanges:qr.a.func,showTransformationDeleteDialog:qr.a.bool,showTransformationAddDialog:qr.a.bool,showTransformationPredefinedDialog:qr.a.bool,dispatch:qr.a.func,isCurrentTab:qr.a.bool,userFeatureConfiguration:qr.a.object,modelViewReadOnly:qr.a.bool};var ug=Object(l.connect)((function(e,t){var n=e.projectListSidebar.selectedProjectId,a=e.projectsManager,r=a.tuneModelId,o=a.viewModelId,i=r||o;i?$i.ProjectsManager.getModel(n,i):e.projectsManager.model,e.projectsManager.model;return{config:e.config.config,modelViewReadOnly:e.projectsManager.modelViewReadOnly,showModelNavigationConfirmationDialog:e.projectsManager.showModelNavigationConfirmationDialog,showTransformationDeleteDialog:e.config.showTransformationDeleteDialog,showTransformationAddDialog:e.config.showTransformationAddDialog,showTransformationPredefinedDialog:e.config.showTransformationPredefinedDialog,isTransformationValid:e.config.isTransformationValid}}),(function(e){return{dispatch:e}}))(dg);function pg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var hg=function(e){at()(n,e);var t=pg(n);function n(e,a){var r;Qe()(this,n),(r=t.call(this,e,a)).props=e,r.onChange=r.onChange.bind(tt()(r));var o=r.props.currentItem;return r.unSavedContent=!1,r.textContent=o?JSON.stringify(o,null,2):"",r.state={content:r.textContent,currentItem:o},r}return $e()(n,[{key:"componentWillReceiveProps",value:function(e){this.props.ruleIdx;var t=e.currentItem;this.textContent=t?JSON.stringify(t,null,2):"",this.setState({currentItem:t,content:this.textContent})}},{key:"onChange",value:function(e){var t=this.props.ruleIdx;this.textContent=e?e.trim():e,this.props.onUpdateProcessingRules(this.textContent,t)}},{key:"render",value:function(){var e=this.state.content,t=this.props.modelViewReadOnly;return i.a.createElement(Of.a,{mode:"json",theme:t?"kuroir":"textmate",onChange:this.onChange,name:"UNIQUE_ID_OF_DIV",editorProps:{$blockScrolling:!0},showPrintMargin:!1,defaultValue:e,setOptions:{},width:"100%",height:"100%",fontSize:14,value:e,wrapEnabled:!0,readOnly:t})}}]),n}(o.Component);hg.propTypes={currentItem:qr.a.oneOfType([qr.a.object,qr.a.string]),onUpdateProcessingRules:qr.a.func,ruleIdx:qr.a.number,modelViewReadOnly:qr.a.bool};var fg=hg;function gg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function mg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gg(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var Eg=T.POST_PROCESSING_RULES,vg=function(e){return e===T.ANY_REGEX?T.ANY_VALUE:e},Tg=function(e){return{label:e=vg(e),value:e,isDisabled:!1}},yg=function(e,t,n){return e.split(t).map((function(e){return e.trim()})).join(n)},bg=function(e){return e.label},Cg=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t?Array.isArray(t)?t.map((function(t){return e(t)})):e(t):""},Ig=function(e,t){return e.filter((function(e){return e.label===t}))},Og=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e&&e.length){var a=e[n]["intent-match"];if(!Array.isArray(a)||a[0]===T.ANY_VALUE||1==a.length&&!Ig(t,a[0]).length)return!1}return!0},Rg=function(e){at()(n,e);var t=Sg(n);function n(e){var a,r;Qe()(this,n),r=t.call(this,e),h()(tt()(r),"trimValue",(function(e){return P.a.isNil(e)?"":e.trim()})),h()(tt()(r),"validateRule",(function(e){var t=e[Eg.INPUT_MATCH],n=void 0===t?"":t,a=e[Eg.INTENT_MATCH],r=void 0===a?"":a,o=e[Eg.INTENT_REPLACEMENT],i=void 0===o?"":o;return n.length&&r.length&&i.length})),h()(tt()(r),"onBlur",(function(e,t){var n=r.state.selectedRule,a=e.target.attributes["data-name"].value,o=T.INPUT_PREFIX+yg(e.target.value.trim(),",","|")+T.INPUT_SUFFIX;n[a]=o,r.setState({selectedRule:n})})),h()(tt()(r),"onAddOrSaveItem",(function(){var e=r.state,t=e.selectedRule,n=e.currentIdx,a=e.postProcessing,o=Object.assign([],a);o[n]=mg({},t),r.setState({postProcessing:o,buttonLabel:T.UPDATE},(function(){r.updateConfigData()}))})),h()(tt()(r),"onTabSelected",(function(e,t){r.setState({selectedTabIndex:t})})),h()(tt()(r),"renderTextField",(function(e,t,n,a){return n=yg(n,"|",",").replace(T.INPUT_PREFIX,"").replace(T.INPUT_SUFFIX,""),i.a.createElement(eo.TextField,{type:"text",key:"".concat(t,"-").concat(e),onKeyPress:function(t){return r.onKeyPress(t,e)},onBlur:function(t){return r.onBlur(t,e)},"data-qa":t,"data-name":t,"data-idx":e,disabled:a,defaultValue:n,styleOverride:{width:"100%"}})})),h()(tt()(r),"onChange",(function(e,t,n){var a=t.option,o=(e||{}).label,i=void 0===o?"":o,s=r.state.selectedRule,c=!0;(i===T.ANY_VALUE||a&&a.label===T.ANY_VALUE)&&(c=!1,e=a?[a]:[e]),s[n]=c?Cg(bg,e):T.ANY_REGEX,r.setState({isMulti:c,selectedRule:s})})),h()(tt()(r),"handleCreate",(function(e,t){var n=r.state.selectedRule,a=Tg(e);n[t]=e!==T.ANY_VALUE?Cg(bg,a):T.ANY_REGEX,r.setState({isMulti:!1,selectedRule:n})})),h()(tt()(r),"renderComboBoxCreatable",(function(e,t,n,a){var o=r.state,s=o.isMulti,c=o.customOptions,l=Cg(Tg,n);return i.a.createElement(eo.CreatableSelect,{isSearchable:!0,isClearable:!0,options:c,isMulti:s,onChange:function(e,n){return r.onChange(e,n,t)},onCreateOption:function(e){return r.handleCreate(e,t)},isDisabled:a,value:l,styleOverride:{container:{width:"100%"}}})})),h()(tt()(r),"onChangeComboBox",(function(e,t){var n=r.state.selectedRule,a=(e||{}).label,o=void 0===a?"":a;n[t]=o,r.setState({selectedRule:n})})),h()(tt()(r),"renderComboBox",(function(e,t,n,a){var o=r.state.options,s=Cg(Tg,n);return i.a.createElement(eo.Select,{isSearchable:!0,isClearable:!0,options:o,onChange:function(e,n){return r.onChangeComboBox(e,t)},isDisabled:a,value:s,styleOverride:{container:{width:"100%"}}})})),h()(tt()(r),"getPostProcessingUI",(function(){var e=r.props.modelViewReadOnly,t=r.state,n=t.currentIdx,a=t.selectedRule,o=a[Eg.INPUT_MATCH],s=void 0===o?"":o,c=a[Eg.INTENT_MATCH],l=void 0===c?"":c,d=a[Eg.INTENT_REPLACEMENT],u=void 0===d?"":d;return i.a.createElement("div",{id:"Editor",className:"editor-panel"},i.a.createElement("div",{className:"post-processing-container",style:{width:"430px",position:"relative"}},i.a.createElement("ul",{className:"form-fields rules-form"},i.a.createElement("li",null,i.a.createElement("label",null,"Input Match*"),r.renderTextField(n,Eg.INPUT_MATCH,s,e),i.a.createElement("div",{style:{color:"#727272"},className:"help-text overflow-wrap"},"Enter comma separated input match values")),i.a.createElement("li",null,i.a.createElement("label",null,"Intent Match*"),r.renderComboBoxCreatable(n,Eg.INTENT_MATCH,l,e)),i.a.createElement("li",null,i.a.createElement("label",null,"Intent Replacement*"),r.renderComboBox(n,Eg.INTENT_REPLACEMENT,u,e))),!e&&i.a.createElement(eo.Button,{name:"save-item",type:"primary",onClick:r.onAddOrSaveItem,styleOverride:{position:"absolute",right:0},disabled:!r.validateRule(a)},r.state.buttonLabel)))})),h()(tt()(r),"getPostProcessingJSON",(function(){var e=r.props.modelViewReadOnly,t=r.state,n=t.currentIdx,a=t.selectedRule;return i.a.createElement("div",{id:"Editor",className:"editor-panel"},i.a.createElement(fg,{currentItem:a,onUpdateProcessingRules:r.onUpdateProcessingRules,ruleIdx:n,modelViewReadOnly:e}))})),h()(tt()(r),"renderTabs",(function(){var e=r.state.selectedTabIndex,t=[r.getPostProcessingUI(),r.getPostProcessingJSON()];return i.a.createElement(eo.Tabs,{align:"left",tabs:T.UI_JSON_TABS,onTabSelected:r.onTabSelected,selectedIndex:e,forceRenderTabPanel:!1,tabPanels:t,styleOverride:{tabContainer:{marginLeft:"1px",borderTop:"none"},tabPanel:{height:"calc(100vh - 245px)"}}})})),h()(tt()(r),"renderAddNewItem",(function(){return i.a.createElement(eo.ContextualActionsBar,{styleOverride:No.bar},i.a.createElement(eo.ContextualActionItem,{onClickAction:r.onAddRule,icon:eo.Plus,styleOverride:No.item},"ADD"))})),r.onDragEnd=r.onDragEnd.bind(tt()(r)),r.onAddRule=r.onAddRule.bind(tt()(r)),r.onKeyPress=r.onKeyPress.bind(tt()(r)),r.getItems=r.getItems.bind(tt()(r)),r.onDelete=r.onDelete.bind(tt()(r)),r.onSelect=r.onSelect.bind(tt()(r)),r.updateConfigData=r.updateConfigData.bind(tt()(r)),r.constructName=r.constructName.bind(tt()(r)),r.onUpdateProcessingRules=r.onUpdateProcessingRules.bind(tt()(r));var o=qi(e.config),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,t){var n=Tg(t.rutag);return e.some((function(e){return e.label===t.rutag}))?e:[].concat(N()(e),[n])}),[])}(e.options),c=[{label:T.ANY_VALUE,value:T.ANY_VALUE,isDisabled:!1}].concat(N()(s)),l=Og(o,c);return r.newRule=(a={},h()(a,Eg.INPUT_MATCH,""),h()(a,Eg.INTENT_MATCH,""),h()(a,Eg.INTENT_REPLACEMENT,""),h()(a,"minConfidenceScore",-1),h()(a,"maxConfidenceScore",-1),a),r.state={postProcessing:o,currentIdx:0,selectedTabIndex:0,selectedRule:o[0]||mg({},r.newRule),buttonLabel:o[0]?T.UPDATE:T.ADD,isMulti:l,customOptions:c,options:s},r}return $e()(n,[{key:"shouldComponentUpdate",value:function(e,t){return e.isCurrentTab}},{key:"updateConfigData",value:function(){var e=this.state.postProcessing,t=this.props.config,n=Wi(t,e);this.props.saveConfigChanges(n)}},{key:"onUpdateProcessingRules",value:function(e,t){var n=this;try{var a=this.state.postProcessing,r=JSON.parse(e);r[Eg.INTENT_REPLACEMENT]=this.trimValue(r[Eg.INTENT_REPLACEMENT]),r[Eg.INPUT_MATCH]=this.trimValue(r[Eg.INPUT_MATCH]),r[Eg.INTENT_MATCH]=this.trimValue(r[Eg.INTENT_MATCH]);var o=Object.assign([],a);o[t]=r,this.setState({hasError:!1,postProcessing:o,selectedRule:mg({},r)},(function(){n.updateConfigData()}))}catch(e){this.setState({hasError:!0})}}},{key:"constructName",value:function(e){var t="";if(!P.a.isNil(e)){var n=e[Eg.INTENT_MATCH],a=e[Eg.INTENT_REPLACEMENT];t="".concat(vg(n)," - ").concat(a)}return t}},{key:"onKeyPress",value:function(e,t){eo.KeyboardUtils.shouldHandleActivate(e)&&(e.preventDefault(),e.stopPropagation(),this.onBlur(e,t))}},{key:"onDelete",value:function(e,t){var n=this;e.preventDefault(),e.stopPropagation();var a=this.state.postProcessing,r=Object.assign([],a);r.splice(t,1);var o=this.state.currentIdx;o===t&&(o=0),this.setState({postProcessing:r,currentIdx:o},(function(){n.updateConfigData()}))}},{key:"onAddRule",value:function(){var e=this.state.postProcessing;this.setState({currentIdx:e.length,selectedRule:mg({},this.newRule),buttonLabel:T.ADD})}},{key:"onDragEnd",value:function(e){var t=this;if(e.destination){var n=this.state.postProcessing,a=Yh(n,e.source.index,e.destination.index);this.setState({postProcessing:a,currentIdx:e.destination.index},(function(){t.updateConfigData()}))}}},{key:"onSelect",value:function(e,t){e.preventDefault(),e.stopPropagation();var n=this.state,a=n.postProcessing,r=n.customOptions,o=Og(a,r,t);this.setState({currentIdx:t,selectedRule:a[t],isMulti:o})}},{key:"getItems",value:function(e){var t=this,n=this.state,a=n.postProcessing,r=n.currentIdx,o=this.props.modelViewReadOnly,s=[];if(!e)return s;var c=this.constructName(a[r]);return e.forEach((function(e,n){var a=t.constructName(e),l=" - "!==a?"name-".concat(n):qh.a.generate(),d="transformation-list-item";c===a&&n===r&&(d="".concat(d," transformation-selected-item"));var u=s.length;s.push({id:l,content:i.a.createElement(mf,{index:n,noOfItems:u,onDelete:t.onDelete,onSelect:t.onSelect,id:l,modelViewReadOnly:o,className:d,itemContentClass:"transformation-item-content"},i.a.createElement("div",{className:"transformation-name"},yg(e["input-match"],"|",",").replace(T.INPUT_PREFIX,"").replace(T.INPUT_SUFFIX,"")),i.a.createElement("div",{className:"transformation-type"},a))})})),s}},{key:"render",value:function(){if(!this.props.isCurrentTab)return null;var e=this.props.modelViewReadOnly,t=this.state.postProcessing,n=this.getItems(t);return i.a.createElement("div",{id:"ModelTransformationContainer"},i.a.createElement("div",{id:"modelTransformationItems"},i.a.createElement("div",{id:"PostProcessingTransformations"},i.a.createElement("div",{style:{lineHeight:"60px",paddingLeft:30,borderBottom:"1px solid #ddd",paddingBottom:2}},"Rules"),!e&&this.renderAddNewItem(),i.a.createElement(Tf,{onDragEnd:this.onDragEnd,items:n,droppableId:"postprocessing-droppable",isDisabled:e}))),i.a.createElement("div",{id:"modelTransformationEditor"},this.renderTabs()),i.a.createElement("div",{id:"nextButtonArea"}))}}]),n}(o.Component);Rg.propTypes={model:qr.a.object,options:qr.a.array,config:qr.a.object,saveConfigChanges:qr.a.func,isCurrentTab:qr.a.bool,modelViewReadOnly:qr.a.bool};var kg=Rg;n(1367);function Dg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var _g=function(e){at()(n,e);var t=Dg(n);function n(e){var a;return Qe()(this,n),(a=t.call(this,e)).props=e,a}return $e()(n,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.onLoad,a=e.onChange,r=e.value,o=e.height,s=e.width,c=e.readOnly,l=e.onBlur,d="kuroir";return c||(d="textmate"),i.a.createElement(Of.a,{mode:"json",theme:d,name:t,onLoad:n,onChange:a,onBlur:l,fontSize:14,showPrintMargin:!1,showGutter:!0,highlightActiveLine:!0,readOnly:c,value:r,height:"".concat(o,"px"),width:"".concat(s,"px"),wrapEnabled:!0,setOptions:{firstLineNumber:1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,enableSnippets:!1,showLineNumbers:!0,tabSize:2}})}}]),n}(o.Component);_g.propTypes={name:qr.a.string,onLoad:qr.a.func,onChange:qr.a.func,onBlur:qr.a.func,value:qr.a.string,height:qr.a.number,width:qr.a.number,readOnly:qr.a.bool};var Ag=_g;function Ng(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var Lg=function(e){at()(n,e);var t=Ng(n);function n(e){var a;return Qe()(this,n),a=t.call(this,e),h()(tt()(a),"renderMetaData",(function(e){var t=[];return Object.keys(e).forEach((function(n){t.push(i.a.createElement("li",{key:n},i.a.createElement("label",null,n),i.a.createElement("div",{style:{color:"#313f54"}}," ",e[n])))})),t})),h()(tt()(a),"renderEditorActions",(function(){return i.a.createElement(eo.ContextualActionsBar,{styleOverride:No.bar},i.a.createElement(eo.ContextualActionItem,{onClickAction:a.onEnableEdit,styleOverride:No.item},i.a.createElement(eo.Pencil,{width:"10px",height:"10px",fill:"none",stroke:"#004C97"}),i.a.createElement("span",null," EDIT")),i.a.createElement(eo.ContextualActionItem,{onClickAction:a.onDisableEdit,styleOverride:No.item},i.a.createElement(eo.Checkmark,null),i.a.createElement("span",null," DONE")),a.getEditorStatusMessage())})),a.onLoad=a.onLoad.bind(tt()(a)),a.updateDimensions=a.updateDimensions.bind(tt()(a)),a.getSelectedDatasetsList=a.getSelectedDatasetsList.bind(tt()(a)),a.onEnableEdit=a.onEnableEdit.bind(tt()(a)),a.onDisableEdit=a.onDisableEdit.bind(tt()(a)),a.onChange=a.onChange.bind(tt()(a)),a.onBlur=a.onBlur.bind(tt()(a)),a.getDatasetsLabel=a.getDatasetsLabel.bind(tt()(a)),a.getEditorStatusMessage=a.getEditorStatusMessage.bind(tt()(a)),a.windowHeightOffset=200,a.windowWidthOffset=340,a.textContent=e.config?JSON.stringify(e.config,null,2):"",a.state={width:200,height:200,readOnly:!0,hasError:!1,unSavedContent:!1},a}return $e()(n,[{key:"onLoad",value:function(e){}},{key:"onChange",value:function(e){this.textContent=e?e.trim():e;try{JSON.parse(this.textContent);this.setState({hasError:!1,unSavedContent:!0})}catch(e){this.setState({hasError:!0,unSavedContent:!0})}}},{key:"onBlur",value:function(e){var t,n=this;try{t=JSON.parse(this.textContent),this.setState({hasError:!1},(function(){n.props.saveConfigChanges(t)}))}catch(e){this.setState({hasError:!0})}}},{key:"updateDimensions",value:function(){this.setState({width:window.innerWidth-this.windowWidthOffset,height:window.innerHeight-this.windowHeightOffset})}},{key:"getEditorStatusMessage",value:function(){var e="",t={};return this.state.hasError&&(e="Please fix errors in the configuration",t.color="#C81919",t.fontStyle="italic"),this.state.readOnly||(e='Configuration is in edit mode.  Select "DONE" to return to Read Only view',t={}),e?i.a.createElement(eo.ContextualActionInfo,{label:"Message:",value:e,styleOverride:{label:{margin:"24px 30px"},value:t}}):null}},{key:"getDatasetsLabel",value:function(){return i.a.createElement("div",null,"Datasets",i.a.createElement("div",{className:"help-text overflow-wrap"},"Select datasets that have been tagged with at least two intents and that include multiple transcriptions per intent."))}},{key:"componentDidMount",value:function(){this.updateDimensions(),window.addEventListener("resize",this.updateDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"shouldComponentUpdate",value:function(e,t){return!!e.isCurrentTab}},{key:"getSelectedDatasetsList",value:function(){var e=this.props,t=e.model,n=e.datasets,a=t?t.datasetIds:[],r=[];return a&&n&&a.forEach((function(e){var t=n.get(e);if(t){var a=t.name,o=t.id;r.push(i.a.createElement("li",{key:o},a))}})),i.a.createElement("ul",{className:"dataset-list"}," ",r," ")}},{key:"onEnableEdit",value:function(){this.setState({readOnly:!1})}},{key:"onDisableEdit",value:function(){this.setState({readOnly:!0})}},{key:"render",value:function(){if(!this.props.isCurrentTab)return null;var e=this.props,t=e.config,n=e.model,a=e.modelViewReadOnly;this.state.unSavedContent&&0!==this.textContent.length||(this.textContent=t?JSON.stringify(t,null,2):"");var r=0,o=0;if(!P.a.isNil(t)){if(!P.a.isNil(t.transformations)){var s=this.props.convertTransformTypes(t);r=s.transformations?s.transformations.length:0}P.a.isNil(t.postProcessingRules)||(o=t.postProcessingRules?t.postProcessingRules.length:0)}var c=n?n.name:"",l=n?n.description:"";return i.a.createElement("div",{id:"ModelReview"},i.a.createElement("div",{className:"metadata"},i.a.createElement("div",{className:"title"},"Info"),i.a.createElement("ul",null,this.renderMetaData({"Name*":c,Description:l||"NA","Pre Processing Transformations":r,"Post Processing Rules":o,Datasets:this.getSelectedDatasetsList()}))),i.a.createElement("div",{className:"content"},i.a.createElement("div",{className:"title"},"Configurations"),!a&&this.renderEditorActions(),i.a.createElement(Ag,{name:"model-review",onLoad:this.onLoad,onChange:this.onChange,onBlur:this.onBlur,value:this.textContent,height:this.state.height,width:this.state.width,readOnly:this.state.readOnly})))}}]),n}(o.Component);Lg.propTypes={datasets:qr.a.object,config:qr.a.object,model:qr.a.object,saveData:qr.a.func,saveConfigChanges:qr.a.func,convertTransformTypes:qr.a.func,isCurrentTab:qr.a.bool,modelViewReadOnly:qr.a.bool};var jg=Lg;function Pg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var wg=function(e){at()(n,e);var t=Pg(n);function n(e){var a;Qe()(this,n),(a=t.call(this,e)).onNumEpochsBlur=a.onNumEpochsBlur.bind(tt()(a)),a.onValidationSplitBlur=a.onValidationSplitBlur.bind(tt()(a)),a.onValidationSplitChange=a.onValidationSplitChange.bind(tt()(a)),a.onTrainingConfigChange=a.onTrainingConfigChange.bind(tt()(a)),a.onUpdateTags=a.onUpdateTags.bind(tt()(a)),a.onBlur=a.onBlur.bind(tt()(a)),a.onChange=a.onChange.bind(tt()(a));var r=sc,o=e.userFeatureConfiguration,i=lc(r.createNewVersionTrainingConfigTab,o);return a.state={data:e.config?e.config:{trainingConfigs:{stemmingExceptions:[]}},tooltipText:"",invalid:!1,isInternal:i},a}return $e()(n,[{key:"shouldComponentUpdate",value:function(e,t){return!!e.isCurrentTab}},{key:"componentDidMount",value:function(){var e=this.state.data.trainingConfigs.validationSplit,t=void 0===e?"":e;this.isValidEntry(t)}},{key:"onNumEpochsBlur",value:function(e){this.onTrainingConfigChange("numOfEpochs",e)}},{key:"onValidationSplitBlur",value:function(e){this.onTrainingConfigChange("validationSplit",e)}},{key:"onValidationSplitChange",value:function(e){var t=e.target.value;this.isValidEntry(t)}},{key:"onUpdateTags",value:function(e){var t=this,n=Object.assign({},this.state.data);n.trainingConfigs.stemmingExceptions=e,this.setState(n,(function(){t.props.saveConfigChanges(n)}))}},{key:"onBlur",value:function(e){var t=this;try{var n=JSON.parse(this.textContent),a=Object.assign({},this.state.data);a.trainingConfigs=n,this.setState(a,(function(){t.props.saveConfigChanges(a)}))}catch(e){console.log(e)}}},{key:"onChange",value:function(e){this.textContent=e?e.trim():e,this.unSavedContent=!0}},{key:"onTrainingConfigChange",value:function(e,t){var n=this,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t.preventDefault();var r=t.target.value,o=Object.assign({},this.state.data);o.trainingConfigs[e]=r,this.setState(o,(function(){a&&n.props.saveConfigChanges(o)}))}},{key:"isValidEntry",value:function(e){var t="",n=!1,a=this.state.isInternal,r=this.props.isTrainingConfigsValid;isNaN(e)||""===e?(t=T.VALIDATION_SPLIT_NO_DATA_MSG,n=!0):(e=parseInt(e),a?(e<T.MIN_VALIDATION_SPLIT_INTERNAL||e>T.MAX_VALIDATION_SPLIT_INTERNAL)&&(t=T.VALIDATION_SPLIT_INTERNAL_MSG,n=!0):(e<T.MIN_VALIDATION_SPLIT_INTERNAL||e>T.MAX_VALIDATION_SPLIT_EXTERNAL)&&(t=T.VALIDATION_SPLIT_EXTERNAL_MSG,n=!0)),this.setState({tooltipText:t,invalid:n},(function(){r(!n)}))}},{key:"render",value:function(){if(!this.props.isCurrentTab)return null;var e=this.state,t=e.invalid,n=e.tooltipText,a=e.data,r=e.isInternal,o=a.trainingConfigs,s=this.props.modelViewReadOnly,c=o?JSON.stringify(o,null,2):"",l=[],d="",u="";return P.a.isNil(o)||(l=o.stemmingExceptions?o.stemmingExceptions:[],o.numOfEpochs&&(d=o.numOfEpochs),o.validationSplit&&(u=o.validationSplit)),i.a.createElement("div",{id:"TrainingConfigs"},i.a.createElement("div",{id:"training-input"},i.a.createElement("ul",{className:"form-fields"},i.a.createElement("li",null,i.a.createElement("div",{className:"title"},"My Training Configs"),r&&i.a.createElement("label",null,"Number of Folds per Sigmoid Training"),r&&i.a.createElement(eo.TextField,{type:"text",name:"numEpochs",placeholder:"numEpochs",defaultValue:d,onBlur:this.onNumEpochsBlur,disabled:s,showValidCheck:!0,styleOverride:{width:"100%",helpText:{height:"0px"}},checkmarkProps:{fill:"#004c97"}})),i.a.createElement("li",null,i.a.createElement("label",null,"Number of Folds"),i.a.createElement(eo.TextField,{type:"text",name:"validationSplit",placeholder:"validationSplit",defaultValue:u,onBlur:this.onValidationSplitBlur,onChange:this.onValidationSplitChange,invalid:t,showValidCheck:!0,tooltipText:n,disabled:s,styleOverride:{width:"100%",helpText:{height:"0px"}},checkmarkProps:{fill:"#004c97"}})),i.a.createElement("li",null,i.a.createElement("div",{className:"title"},"Stemming Exceptions"),i.a.createElement("label",null,"Enter new tag"),i.a.createElement("div",{style:{marginLeft:"-30px"}},i.a.createElement(Lf,{transformationItem:l,onUpdateTags:this.onUpdateTags,modelViewReadOnly:s}))))),r&&i.a.createElement("div",{id:"Editor"},i.a.createElement("div",{className:"title"},"My Training Configs"),i.a.createElement("div",{style:{height:"calc(100% - 80px)",width:"98%",border:"1px solid #ddd"}},i.a.createElement(Of.a,{mode:"json",theme:s?"kuroir":"textmate",onBlur:this.onBlur,onChange:this.onChange,name:"UNIQUE_ID_OF_DIV",editorProps:{$blockScrolling:!0},showPrintMargin:!1,defaultValue:c,setOptions:{},width:"100%",height:"100%",fontSize:14,value:c,wrapEnabled:!0,readOnly:s}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{data:e.config?e.config:t.data}}}]),n}(o.Component);wg.propTypes={model:qr.a.object,config:qr.a.object,userFeatureConfiguration:qr.a.object,saveConfigChanges:qr.a.func,isTrainingConfigsValid:qr.a.func,isCurrentTab:qr.a.bool,modelViewReadOnly:qr.a.bool};var Mg=wg;function xg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Bg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xg(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ug(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var Gg=Lr().DISPLAY_MESSAGES,Fg=function(e){at()(n,e);var t=Ug(n);function n(e){var a;Qe()(this,n),a=t.call(this,e),h()(tt()(a),"onTabSelected",(function(e,t){var n=!1,r=!1,o=!1;P.a.isNil(a.callbacks[a.state.activeTab])||P.a.isNil(a.callbacks[a.state.activeTab].onLeave)||a.callbacks[a.state.activeTab].onLeave(),e!==a.tabIds.overview?(n=!0,a.props.modelViewReadOnly||(o=!0)):a.props.config&&(a.props.modelViewReadOnly||(o=!0),n=!0),e!==a.tabIds.overview&&e!==a.tabIds.basicInfo&&(r=!0),a.shouldShowNavConfirmDialog=o,a.setState({showDownloadConfig:n,showTestRegex:r,activeTab:e,lastTab:a.state.activeTab})})),a.getTabs=a.getTabs.bind(tt()(a)),a.onClickNext=a.onClickNext.bind(tt()(a)),a.newModelConfig=a.newModelConfig.bind(tt()(a)),a.getNextNavControl=a.getNextNavControl.bind(tt()(a)),a.saveConfigChanges=a.saveConfigChanges.bind(tt()(a)),a.isTrainingConfigsValid=a.isTrainingConfigsValid.bind(tt()(a)),a.saveModelChanges=a.saveModelChanges.bind(tt()(a)),a.onClickDownloadConfig=a.onClickDownloadConfig.bind(tt()(a)),a.fetchConfigById=a.fetchConfigById.bind(tt()(a)),a.buildModelWithConfig=a.buildModelWithConfig.bind(tt()(a)),a.confirmModelWithConfig=a.confirmModelWithConfig.bind(tt()(a)),a.shouldShowNavigationConfirmationDialog=a.shouldShowNavigationConfirmationDialog.bind(tt()(a)),a.cleanup=a.cleanup.bind(tt()(a)),a.reportError=a.reportError.bind(tt()(a)),a.reportSuccess=a.reportSuccess.bind(tt()(a)),a.registerCallbacks=a.registerCallbacks.bind(tt()(a)),a.convertTransformTypes=a.convertTransformTypes.bind(tt()(a)),a.tuneModel=a.tuneModel.bind(tt()(a)),a.setValidModel=a.setValidModel.bind(tt()(a)),a.handleCancel=a.handleCancel.bind(tt()(a)),a.renderActionItem=a.renderActionItem.bind(tt()(a)),a.loadingProject=!1,a.loadingDatasets=!1,a.loadingConfigs=!1,a.loadingModels=!1,a.doNotSave=!1,a.shouldShowNavConfirmDialog=!1,a.tabIds=T.CREATE_MODEL_TABS,a.callbacks={},a.newActionItem=[],a.newcreateNewModel="",a.newConfig="";var r=e.model;return a.state={showDownloadConfig:!1,showTestRegex:!1,activeTab:a.tabIds.basicInfo,lastTab:a.tabIds.basicInfo,datasets:$i.ProjectsManager.getDatasetsByProjectId(e.projectId,!0)||null,models:$i.ProjectsManager.getModelsByProjectId(e.projectId)||null,configs:$i.ProjectsManager.getConfigsByProjectId(e.projectId)||null,newConfigSelected:!0,validModel:r&&r.name&&r.datasetIds,versionActionEnabled:!0,hideModelTransformationsTab:!1},a.buttonStyle={marginTop:"-10px",paddingLeft:"25px",paddingRight:"25px"},a}return $e()(n,[{key:"componentWillUnmount",value:function(){var e=this.props.dispatch;e(xr([])),e({type:"RESET_DATASET_VALIDATION_STATS"})}},{key:"setValidModel",value:function(e){this.setState({validModel:e})}},{key:"registerCallbacks",value:function(e){this.callbacks[e.tabName]=e}},{key:"handleCancel",value:function(){var e=this.props,t=e.dispatch,n=e.history,a=e.clientId;t({type:"CLEAR_MODEL_DATA"}),t(pr(oa,{clientId:a},n))}},{key:"onClickNext",value:function(){var e="",t=this.state.hideModelTransformationsTab;switch(this.state.activeTab){case this.tabIds.basicInfo:e=t?this.tabIds.postProcessing:this.tabIds.transformations;break;case this.tabIds.transformations:e=this.tabIds.postProcessing;break;case this.tabIds.postProcessing:e=this.tabIds.trainingConfigs;break;case this.tabIds.trainingConfigs:e=this.tabIds.overview;break;default:e=this.tabIds.overview}this.onTabSelected(e)}},{key:"reportError",value:function(e){(0,this.props.dispatch)(er(e.message))}},{key:"reportSuccess",value:function(e){(0,this.props.dispatch)(nr(e))}},{key:"cleanup",value:function(){var e=this.props.dispatch;e({type:"CLEAR_MODEL_DATA"}),e(Os(!1))}},{key:"saveModelChanges",value:function(e){var t=this.props.dispatch;this.doNotSave||t(As(e))}},{key:"fetchConfigById",value:function(e){var t=this.props.dispatch;this.doNotSave||P.a.isNil(e)||t(ji(e.id))}},{key:"tuneModel",value:function(){var e=this.props,t=e.model,n=e.projectId,a=e.history,r=e.client,o=e.dispatch;e.clientId;this.setState({activeTab:this.tabIds.basicInfo,lastTab:this.tabIds.basicInfo},(function(){o(Us(t)),o(pr(ua,{client:r,projectId:n},a))}))}},{key:"convertTransformTypes",value:function(e){var t=P.a.isNil(e)?null:e.transformations;return P.a.isNil(t)||t.forEach((function(e){if("string"!=typeof e){var t=Object.keys(e)[0];e[t].type=function(e){var t=T.TRANSFORMATION_TYPES;switch(e){case t.STEMS_URL:return t.STEMS;case t.STEMS_NOCASE_URL:return t.STEMS_NOCASE;default:return e}}(e[t].type)}})),e}},{key:"onClickDownloadConfig",value:function(){var e=this.state.selectedConfig;!function(e,t,n){var a=new Blob([e],{type:n});if(!!document.documentMode)window.navigator.msSaveOrOpenBlob(a,t);else{var r=document.createElement("a");r.href=URL.createObjectURL(a),r.download=t,r.click()}}(JSON.stringify(this.props.config,null,2),"".concat(e.name,".json"),"text/json")}},{key:"saveConfigChanges",value:function(e){var t=this.props.dispatch;if(!this.doNotSave){var n=this.props.createNewModel?this.props.createNewModel.name:"";P.a.isEmpty(n)||(e.name="".concat(n,"-cfg")),t(ki(e))}}},{key:"isTrainingConfigsValid",value:function(e){(0,this.props.dispatch)(function(e){return{type:"UPDATE_TRAINING_CONFIG_VALIDITY",isTrainingConfigsValid:e}}(e))}},{key:"onNewConfigSelect",value:function(e){this.setState({newConfigSelected:!0,selectedConfig:e})}},{key:"resetNewConfigSelected",value:function(){this.setState({newConfigSelected:!1})}},{key:"newModelConfig",value:function(e){this.props.projectId,this.props.csrfToken,this.props.client.id}},{key:"buildModelWithConfig",value:function(){var e=this.props,t=e.dispatch,n=e.model,a=e.createNewModel,r=e.config,o=(e.projectId,this.convertTransformTypes(r));if(this.shouldShowNavConfirmDialog=!1,n&&o){var i=ze.getState().projectsManager.model;i&&i.id==n.id&&(n.modelTechnology=i.modelTechnology,n.toDefault=i.toDefault,n.datasetIds=i.datasetIds),n.startBuild=!0,o.name="".concat(n.name,"-cfg");var s={config:o,model:Bg(Bg({userId:this.props.userId,csrfToken:this.props.csrfToken,projectId:this.props.projectId},n),{},{selectedDatasets:n.datasetIds,store:this.props.store,history:this.props.history,clientId:this.props.client.id,description:a.description})};t(rr(null)),t({type:"CONVERT_TO_DIGITAL_CONFIG"}),t(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T.DIGITAL_MODEL;return function(n,a){var r="".concat(e.model.name,"-cfg");e.config.name=r;var o=e.model,i={name:r,description:o.description,projectId:o.projectId,configFile:JSON.stringify(e.config,null,2)},s=a().header.client.id,c=zn(ft,{clientId:s});return new Promise((function(r,o){Za.post({dispatch:n,getState:a,url:c,data:i,onApiSuccess:function(n){return _i(t,e,s,n)},onApiError:Ai})}))}}(s)),t(nr(Gg.buildModelRequest))}}},{key:"confirmModelWithConfig",value:function(){this.setState({versionActionEnabled:!1});var e=this.props,t=e.dispatch;e.isDatasetsTagged?this.buildModelWithConfig():t(rr({dispatch:t,type:T.DIALOGS.PROGRESS_DIALOG,message:T.BUILD_MODEL_CONFIRMATION_MESSAGE,header:T.CREATE_VERSION,showHeader:!1,showFooter:!0,cancelVisible:!0,okVisible:!0,showSpinner:!1,closeIconVisible:!0,cancelChildren:T.CLOSE,okChildren:T.BUILD_VERSION,onOk:this.buildModelWithConfig,styleOverride:{childContainer:{marginTop:"30px",marginBottom:"10px"},content:{top:"160px",maxWidth:"380px",maxHeight:"260px",left:"calc((100vw - 500px) / 2)"}}}))}},{key:"shouldShowNavigationConfirmationDialog",value:function(e,t){var n=!1,a=this.props,r=a.dispatch;return a.modelViewReadOnly||(this.shouldShowNavConfirmDialog&&!t.pathname.startsWith(e.pathname)&&(n=!0),n||(this.doNotSave=!0,r({type:"CLEAR_MODEL_DATA"})),r(Os(n))),n}},{key:"getNextNavControl",value:function(){return i.a.createElement("div",{style:{position:"fixed",right:"30px",bottom:"30px"},onClick:this.onClickNext},i.a.createElement(eo.Next,null))}},{key:"getTabs",value:function(e){var t,n=this.tabIds,a=n.basicInfo,r=n.transformations,o=n.postProcessing,s=n.trainingConfigs,c=n.overview,l=this.state,d=l.activeTab,u=l.models,p=l.configs,h=l.datasets,f=l.newConfigSelected,g=l.hideModelTransformationsTab,m=this.props,S=m.dispatch,E=m.userFeatureConfiguration,v=m.tuneModelId,y=m.viewModelId,b=m.modelViewReadOnly,C=m.config,I=m.model,O=m.options,R=m.currentType,k=m.latestTensorflowVersion,D=sc,_=i.a.createElement(Vh,{key:a,currentType:R,config:C,model:I,models:u,configs:p,datasets:h,newModelConfig:this.newModelConfig,saveConfigChanges:this.saveConfigChanges,saveModelChanges:this.saveModelChanges,onClickDownloadConfig:this.onClickDownloadConfig,setValidModel:this.setValidModel,fetchConfigById:this.fetchConfigById,dispatch:S,tuneModelId:v,viewModelId:y,modelViewReadOnly:b,project:this.props.project,reportError:this.reportError,reportSuccess:this.reportSuccess,tabName:a,registerCallbacks:this.registerCallbacks,isCurrentTab:d===a,onNewConfigSelect:this.onNewConfigSelect.bind(this),userFeatureConfiguration:E,latestTensorflowVersion:k}),A=i.a.createElement(ug,{key:r,model:I,saveConfigChanges:this.saveConfigChanges,tabName:r,registerCallbacks:this.registerCallbacks,isCurrentTab:d===r,userFeatureConfiguration:E,modelViewReadOnly:b,newConfigSelected:f,resetNewConfigSelected:this.resetNewConfigSelected.bind(this)}),N=i.a.createElement(kg,{key:o,config:C,model:I,saveConfigChanges:this.saveConfigChanges,tabName:o,registerCallbacks:this.registerCallbacks,isCurrentTab:d===o,modelViewReadOnly:b,options:O}),L=i.a.createElement(Mg,{key:s,config:C,model:I,saveConfigChanges:this.saveConfigChanges,isTrainingConfigsValid:this.isTrainingConfigsValid,tabName:s,userFeatureConfiguration:E,registerCallbacks:this.registerCallbacks,isCurrentTab:d===s,modelViewReadOnly:b}),j=i.a.createElement(jg,{key:c,config:C,model:I,datasets:h,saveConfigChanges:this.saveConfigChanges,tabName:c,registerCallbacks:this.registerCallbacks,convertTransformTypes:this.convertTransformTypes,isCurrentTab:d===c,modelViewReadOnly:b}),P=[_,A,N,L],w=Object.values(T.CREATE_INIT_MODEL_TABS);if(lc(D.createNewVersionModelReviewTab,E)&&(P.push(j),w.push(T.CREATE_MODEL_TABS_OVERVIEW_TAB)),I){var M=ze.getState().projectsManager.model,x=I.modelTechnology,B=I.vectorizerTechnology;t=b?B||x:M&&M.modelTechnology||B||x}return t===T.MODEL_TECHNOLOGY.USE?(P.splice(1,1),w.splice(1,1),g||this.setState({hideModelTransformationsTab:!0})):t===T.MODEL_TECHNOLOGY.N_GRAM&&g&&this.setState({hideModelTransformationsTab:!1}),i.a.createElement(eo.Tabs,{align:"center",tabs:w,onTabSelected:this.onTabSelected,selectedIndex:w.findIndex((function(e){return e===d})),forceRenderTabPanel:!1,tabPanels:P,styleOverride:{tabItem:{padding:"23px 50px 21px"},tabContainer:{borderTop:"none"}}})}},{key:"renderActionItem",value:function(){var e=this.props,t=e.dispatch,n=e.viewModelId,a=(e.tuneModelId,e.actionItems),r=e.createNewModel,o=e.config,i=e.isDatasetsValid,s=e.isConfigsValid,c=e.model,l=c?c.modelType:void 0,d=this.state,u=d.validModel,p=d.versionActionEnabled,h=u&&i&&s&&p;n&&(h=u&&s),this.newActionItem=[{type:"flat",label:T.CANCEL.toUpperCase(),onClick:this.handleCancel,styleOverride:{button:{padding:"0px 10px",":focus":{outline:"none"}}}}],n?l!==T.DIGITAL_SPEECH_MODEL&&this.newActionItem.push({name:"tune-version",type:"primary",label:T.TUNE_VERSION,onClick:this.tuneModel,styleOverride:{button:this.buttonStyle},isDisabled:!h}):this.newActionItem.push({name:"build-version",type:"primary",label:T.BUILD_VERSION,onClick:this.confirmModelWithConfig,styleOverride:{button:this.buttonStyle},isDisabled:!h}),JSON.stringify(a)===JSON.stringify(this.newActionItem)&&r===this.newcreateNewModel&&this.newConfig===o||t(xr(this.newActionItem)),this.newcreateNewModel=r,this.newConfig=o}},{key:"render",value:function(){var e=this,t=this.state.activeTab,n=sc,a=this.props.userFeatureConfiguration;return this.renderActionItem(),i.a.createElement("div",{id:"CreateModelWizardPage"},i.a.createElement("div",{id:"modelCreateContent"},this.getTabs()),t===this.tabIds.overview?null:i.a.createElement("div",{id:"modelCreateFooter"},this.getNextNavControl()),i.a.createElement(Dh.a,{afterConfirm:this.cleanup,renderIfNotActive:!0,when:this.shouldShowNavigationConfirmationDialog},(function(t){var r=t.isActive,o=t.onCancel,s=t.onConfirm;if(r)return i.a.createElement(Lh,{title:"Unsaved Changes",visible:e.props.showModelNavigationConfirmationDialog,okString:"Continue",onCancel:o,onOk:s,icon:"images/icons/alertIcon.svg"},i.a.createElement("div",{className:"navigate-warning-content"},i.a.createElement("div",null,i.a.createElement("p",null,"Changes will be lost.  Continue?")),i.a.createElement("div",null,lc(n.modelConfigDownload,a)?i.a.createElement(eo.Button,{name:"download-config",type:"flat",onClick:e.onClickDownloadConfig,styleOverride:{":focus":{outline:"none"}}},"Download Configuration"):null)))})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.projectId;return{datasets:$i.ProjectsManager.getDatasetsByProjectId(n,!0)||null,models:$i.ProjectsManager.getModelsByProjectId(n)||null,configs:$i.ProjectsManager.getConfigsByProjectId(n)||null}}}]),n}(o.Component),Vg=Object(l.connect)((function(e,t){var n=e.projectListSidebar.selectedProjectId,a=e.projectsManager,r=a.tuneModelId,o=a.viewModelId,i=e.tagDatasets.validDatasetsStats,s=i.isDatasetsValid,c=i.isDatasetsTagged,l=r||o,d=l?$i.ProjectsManager.getModel(n,l):e.projectsManager.model,u=e.projectsManager.model,p=e.tagDatasets.validDatasetsStats.datasetsIntents,h=void 0===p?[]:p;return{csrfToken:e.app.csrfToken,userId:e.app.userId,projectId:n,isDatasetsTagged:c,isDatasetsValid:s,currentType:e.preferences.currentType,latestTensorflowVersion:e.preferences.latestTechnology,project:$i.ProjectsManager.getProject(n)||{},client:e.header.client,config:e.config.config,clientId:e.header.client.id,model:d,createNewModel:u,tuneModelId:r,viewModelId:o,actionItems:e.header.actionItems,options:h,modelViewReadOnly:e.projectsManager.modelViewReadOnly,showModelNavigationConfirmationDialog:e.projectsManager.showModelNavigationConfirmationDialog,showTransformationDeleteDialog:e.config.showTransformationDeleteDialog,showTransformationAddDialog:e.config.showTransformationAddDialog,showTransformationPredefinedDialog:e.config.showTransformationPredefinedDialog,isConfigsValid:e.config.isConfigsValid,userFeatureConfiguration:e.app.userFeatureConfiguration,clientDataLoaded:e.projectsManager.clientDataLoaded}}),(function(e){return{dispatch:e}}))(Fg);function Hg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function qg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hg(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var Kg=function(e,t,n){if(!(P.a.isNil(e)||P.a.isNil(e.name)&&P.a.isNil(e.description)))return e;if(!P.a.isNil(null)){var a=P.a.isNil(t)?[]:t.toArray();return P.a.find(a,{id:null})}if(!P.a.isNil(n)){var r=n.name,o=void 0===r?"":r;return Object.assign({},e,{name:o})}return{}},zg=function(e){at()(n,e);var t=Wg(n);function n(e){var a;Qe()(this,n),a=t.call(this,e),h()(tt()(a),"handleFileRead",(function(e){var t=a.props.onChange,n=a.fileReader.result,r={},o=si.validateWorldClassFile(n);a.setState({isValid:o}),o&&(r=a.wordClassFile),t(r,o)})),a.onDescriptionChange=a.onDescriptionChange.bind(tt()(a)),a.onDescriptionBlur=a.onDescriptionBlur.bind(tt()(a)),a.getDatasetsLabel=a.getDatasetsLabel.bind(tt()(a)),a.saveFile=a.saveFile.bind(tt()(a)),a.rejectFile=a.rejectFile.bind(tt()(a)),a.handleFileChoosen=a.handleFileChoosen.bind(tt()(a)),a.handleFileRead=a.handleFileRead.bind(tt()(a)),a.onClickDownload=a.onClickDownload.bind(tt()(a)),a.onChangeRadioButton=a.onChangeRadioButton.bind(tt()(a)),a.isValidated=a.isValidated.bind(tt()(a)),a.isDatasetValid=a.isDatasetValid.bind(tt()(a)),a.isNameValid=a.isNameValid.bind(tt()(a)),a.saveModelChanges=a.saveModelChanges.bind(tt()(a));var r=a.props,o=r.model,i=r.models,s=r.datasets,c=r.project,l=tc(s),d=Kg(o,i,c),u=nc(l,d,null);return a.isActive=!0,a.state={selectedDatasets:u,datasetsOptions:l,model:d,showNameErrorMessage:!1,showDatasetErrorMessage:!1,isValid:!0,selectedRadioGroupValue:T.SPEECH_DIALOG.UNBUNDLED},a.fileReader=null,a.datasetFile=null,a}return $e()(n,[{key:"componentDidMount",value:function(){this.isValidated()}},{key:"saveFile",value:function(e){this.wordClassFile=e[0];var t=new Blob(e,{type:"text/plain;charset=utf-8"});this.handleFileChoosen(t)}},{key:"handleFileChoosen",value:function(e){var t=this;this.fileReader=new FileReader,this.fileReader.onload=function(e){return t.handleFileRead(e)},this.fileReader.readAsText(e)}},{key:"onClickDownload",value:function(){var e=Kn(An);document.location=e}},{key:"onChangeRadioButton",value:function(e){var t=this.props.onRadioChange;this.setState({selectedRadioGroupValue:e}),e===T.SPEECH_DIALOG.BUNDLED?t({isUnbundled:!1}):e===T.SPEECH_DIALOG.UNBUNDLED&&t({isUnbundled:!0})}},{key:"rejectFile",value:function(){var e=this.props.onChange;this.setState({isValid:!1}),e({},!1)}},{key:"saveModelChanges",value:function(){var e=this.props.saveModelChanges,t=this.state,n=t.model,a=t.selectedDatasets,r=Object.assign({},n);r.datasetIds=a,e(r)}},{key:"isNameValid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=!0;return e=e.trim(),(P.a.isNil(e)||P.a.isEmpty(e))&&(t=!1),t}},{key:"isDatasetValid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.props,n=t.project,a=t.dispatch,r=this.state.datasetId,o=void 0===r?-1:r,i=(n.id,!0);return-1!==o&&-1===e.indexOf(o)?(a(Vl(o)),0===e.length&&(i=!1)):0===e.length&&(i=!1),i}},{key:"isValidated",value:function(){var e=this.props,t=e.setValidModel,n=e.saveModelChanges,a=this.state,r=a.model,o=void 0===r?{}:r,i=a.selectedDatasets,s=void 0===i?[]:i;this.isNameValid(o.name)&&s.length>0?(o.datasetIds=s,n(o),t(!0)):t(!1)}},{key:"onDescriptionChange",value:function(e){e.preventDefault(),this.setState({model:Object.assign({},this.state.model,{description:e.target.value})})}},{key:"onDescriptionBlur",value:function(e){var t=this;e.preventDefault();var n=Object.assign({},this.state.model);n.description=e.target.value.trim(),this.setState({model:n},(function(){t.saveModelChanges()}))}},{key:"getDatasetsLabel",value:function(){return i.a.createElement("div",{style:{color:"#727272"}},"Datasets*",this.state.showDatasetErrorMessage?i.a.createElement("div",{className:"validation-error"},"Please select at least one dataset"):null)}},{key:"render",value:function(){var e=this,t=this.props,n=t.modelViewReadOnly,a=t.userFeatureConfiguration,r=t.project,o=sc,s=this.state,c=s.model,l=void 0===c?{}:c,d=s.isValid,u=s.selectedRadioGroupValue,p=l.description,h=void 0===p?"":p,f=r&&r.name||"";return i.a.createElement("div",{id:"NewModel"},i.a.createElement("ul",{className:"form-fields"},i.a.createElement("li",null,i.a.createElement("label",null,"Model"),i.a.createElement("div",{style:{color:"#313f54"}}," ",f)),i.a.createElement("li",null,i.a.createElement("label",null,"Version Description"),i.a.createElement(eo.Textarea,{type:"text",name:"modelDescription",placeholder:"Enter a description",defaultValue:h,onBlur:this.onDescriptionBlur,onChange:this.onDescriptionChange,styleOverride:{width:"100%"},disabled:n})),i.a.createElement("li",null,i.a.createElement(ic,{label:this.getDatasetsLabel(),className:"DatasetsFilter",options:this.state.datasetsOptions,value:this.state.selectedDatasets,onChange:function(t,n){e.setState({selectedDatasets:t,datasetId:n},(function(){e.saveModelChanges(),e.isValidated()}))},disabled:n,showAsGrid:!1}))),i.a.createElement("div",{id:"speech-dropbox",style:qg({},Bo)},i.a.createElement("div",{style:{paddingBottom:"20px"}},i.a.createElement("span",{style:Go.label},"Upload word class file"),i.a.createElement("div",{style:Go.link},i.a.createElement("span",{style:Go.link.icon},i.a.createElement(eo.Download,{width:"10px",height:"13px",fill:"#004c97"})),i.a.createElement("div",{style:Go.link.label,onClick:this.onClickDownload}," Download existing "))),i.a.createElement(hc,{accept:"text/plain",icon:Sc,acceptedIcon:eo.Doc,multiple:!1,saveFile:this.saveFile,rejectFile:this.rejectFile,removeFile:!d}),!d&&i.a.createElement(Rc,{styleOverride:{marginTop:"10px"},validationMessage:T.SPEECH_DIALOG.INVALID_FILE_CONTENT}),lc(o.speechBundledUnbundled,a)&&i.a.createElement("div",{style:Go.radioGroup},i.a.createElement("div",{style:Go.speechRadioAndTextGroup},i.a.createElement("div",{style:Go.speechRadioAndTextGroup.label}," Output "),i.a.createElement("div",{style:!0===n?{pointerEvents:"none",opacity:.5}:{}},i.a.createElement(eo.RadioGroup,{displayType:"stacked",value:u,values:[T.SPEECH_DIALOG.BUNDLED,T.SPEECH_DIALOG.UNBUNDLED],labels:[T.SPEECH_DIALOG.BUNDELED_LABEL,T.SPEECH_DIALOG.UNBUNDLED_LABEL],onChange:this.onChangeRadioButton}))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.datasets,a=e.models,r=e.model,o=e.project,i=P.a.isNil(t.model)?r:t.model;i=Kg(i,a,o);var s=tc(n);return{datasetsOptions:s,model:i,selectedDatasets:nc(s,i,t.selectedDatasets)}}}]),n}(o.Component);zg.defaultProps={datasets:{},model:{},project:{},models:null,onChange:function(){},newModelConfig:function(){},setValidModel:function(){},saveModelChanges:function(){},modelViewReadOnly:!1},zg.propTypes={datasets:qr.a.object,model:qr.a.object,models:qr.a.object,project:qr.a.object,config:qr.a.object,onChange:qr.a.func,setValidModel:qr.a.func,saveModelChanges:qr.a.func,reportError:qr.a.func,reportSuccess:qr.a.func,modelViewReadOnly:qr.a.bool};var Yg=zg;function Jg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Xg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jg(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var Zg=Lr().DISPLAY_MESSAGES,$g=function(e){at()(n,e);var t=Qg(n);function n(e){var a;Qe()(this,n),(a=t.call(this,e)).getWordUpload=a.getWordUpload.bind(tt()(a)),a.saveModelChanges=a.saveModelChanges.bind(tt()(a)),a.cleanup=a.cleanup.bind(tt()(a)),a.reportError=a.reportError.bind(tt()(a)),a.buildModelWithConfig=a.buildModelWithConfig.bind(tt()(a)),a.confirmModelWithConfig=a.confirmModelWithConfig.bind(tt()(a)),a.reportSuccess=a.reportSuccess.bind(tt()(a)),a.onFileLoaded=a.onFileLoaded.bind(tt()(a)),a.setValidModel=a.setValidModel.bind(tt()(a)),a.handleCancel=a.handleCancel.bind(tt()(a)),a.tuneModel=a.tuneModel.bind(tt()(a)),a.renderActionItem=a.renderActionItem.bind(tt()(a)),a.loadingProject=!1,a.loadingDatasets=!1,a.loadingModels=!1,a.doNotSave=!1,a.newActionItem=[];var r=e.model;return a.state={showTestRegex:!1,datasets:$i.ProjectsManager.getDatasetsByProjectId(e.projectId,!0)||null,models:$i.ProjectsManager.getModelsByProjectId(e.projectId)||null,validModel:r&&r.name&&r.datasetIds,versionActionEnabled:!0,wordClassFile:{},isUnbundled:!0},a.buttonStyle={marginTop:"-10px",paddingLeft:"25px",paddingRight:"25px"},a}return $e()(n,[{key:"componentWillUnmount",value:function(){var e=this.props.dispatch;e(xr([])),e({type:"RESET_DATASET_VALIDATION_STATS"})}},{key:"setValidModel",value:function(e){this.setState({validModel:e})}},{key:"handleCancel",value:function(){var e=this.props,t=e.dispatch,n=e.history,a=e.clientId;t(pr(oa,{clientId:a},n))}},{key:"reportError",value:function(e){(0,this.props.dispatch)(er(e.message))}},{key:"reportSuccess",value:function(e){(0,this.props.dispatch)(nr(e))}},{key:"cleanup",value:function(){var e=this.props.dispatch;e({type:"CLEAR_MODEL_DATA"}),e(Os(!1))}},{key:"saveModelChanges",value:function(e){var t=this.props.dispatch;this.doNotSave||t(As(e))}},{key:"onFileLoaded",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;this.setState({wordClassFile:e,isValidFile:t})}},{key:"tuneModel",value:function(){var e=this.props,t=e.model,n=e.projectId,a=e.history,r=e.client,o=e.dispatch;o(Us(t)),o(pr(fa,{client:r,projectId:n},a))}},{key:"buildModelWithConfig",value:function(){var e=this.props,t=e.dispatch,n=e.model,a=this.state,r=a.wordClassFile,o=a.isUnbundled;if(n){n.startBuild=!0,n.wordClassFile=r,n.isUnbundled=o,n.modelType="SPEECH";var i={model:Xg(Xg({userId:this.props.userId,csrfToken:this.props.csrfToken,projectId:this.props.projectId},n),{},{modelType:"SPEECH",selectedDatasets:n.datasetIds,store:this.props.store,history:this.props.history,clientId:this.props.client.id})};t(rr(null)),"{}"===JSON.stringify(r)?t(Vs(i.model)):t(function(e){arguments.length>1&&void 0!==arguments[1]||T.SPEECH_MODEL;return function(t,n){var a="".concat(e.model.name,"-cfg"),r=e.model,o=e.model.wordClassFile,i=new FormData;i.append("name",a),i.append("description",""),i.append("projectId",r.projectId),i.append("file",o,o.name);var s=n().header.client.id,c=zn(ft,{clientId:s});pt()(c,{method:"POST",credentials:"same-origin",body:i}).then(Pr.handleErrors).then((function(e){return e.json()})).then((function(n){t(Ni(n,e))})).catch((function(e){Ai(e)}))}}(i,"SPEECH")),t(nr(Zg.buildModelRequest))}}},{key:"confirmModelWithConfig",value:function(){this.setState({versionActionEnabled:!1});var e=this.props,t=e.dispatch;e.isDatasetsTagged?this.buildModelWithConfig():t(rr({dispatch:t,type:T.DIALOGS.PROGRESS_DIALOG,message:T.BUILD_MODEL_CONFIRMATION_MESSAGE,header:T.CREATE_VERSION,showHeader:!0,showFooter:!0,cancelVisible:!0,okVisible:!0,showSpinner:!1,closeIconVisible:!0,cancelChildren:T.CLOSE,okChildren:T.BUILD_VERSION,onOk:this.buildModelWithConfig,styleOverride:{childContainer:{marginTop:"30px",marginBottom:"10px"},content:{top:"160px",maxWidth:"380px",maxHeight:"260px",left:"calc((100vw - 500px) / 2)"}}}))}},{key:"getWordUpload",value:function(){var e=this.state,t=e.models,n=e.datasets,a=this.props,r=a.dispatch,o=a.userFeatureConfiguration,s=a.modelViewReadOnly,c=a.model;return i.a.createElement(Yg,{model:c,models:t,datasets:n,onChange:this.onFileLoaded,saveModelChanges:this.saveModelChanges,setValidModel:this.setValidModel,dispatch:r,modelViewReadOnly:s,project:this.props.project,reportError:this.reportError,reportSuccess:this.reportSuccess,userFeatureConfiguration:o})}},{key:"renderActionItem",value:function(){var e=this.props,t=e.dispatch,n=e.actionItems,a=(e.isDatasetsValid,e.viewModelId),r=this.state,o=r.validModel,i=r.versionActionEnabled,s=o&&i;this.newActionItem=[{type:"flat",label:T.CANCEL.toUpperCase(),onClick:this.handleCancel,styleOverride:{button:{padding:"0px 10px"}}}],a?this.newActionItem.push({name:"tune-version",type:"primary",label:T.TUNE_VERSION,onClick:this.tuneModel,styleOverride:{button:this.buttonStyle},isDisabled:!s}):this.newActionItem.push({name:"build-version",type:"primary",label:T.BUILD_VERSION,onClick:this.confirmModelWithConfig,styleOverride:{button:this.buttonStyle},isDisabled:!s}),JSON.stringify(n)!==JSON.stringify(this.newActionItem)&&t(xr(this.newActionItem))}},{key:"render",value:function(){return this.renderActionItem(),i.a.createElement("div",{id:"CreateModelWizardPage"},i.a.createElement("div",{id:"modelCreateContent"},this.getWordUpload()))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.projectId;return{datasets:$i.ProjectsManager.getDatasetsByProjectId(n,!0)||null,models:$i.ProjectsManager.getModelsByProjectId(n)||null}}}]),n}(o.Component),em=Object(l.connect)((function(e,t){var n=e.projectListSidebar.selectedProjectId,a=e.projectsManager,r=a.tuneModelId,o=a.viewModelId,i=e.tagDatasets.validDatasetsStats,s=i.isDatasetsValid,c=i.isDatasetsTagged,l=r||o,d=l?$i.ProjectsManager.getModel(n,l):e.projectsManager.model,u=(e.projectsManager.model,e.tagDatasets.validDatasetsStats.datasetsIntents),p=void 0===u?[]:u;return{csrfToken:e.app.csrfToken,userId:e.app.userId,projectId:n,isDatasetsTagged:c,modelViewReadOnly:e.projectsManager.modelViewReadOnly,isDatasetsValid:s,project:$i.ProjectsManager.getProject(n)||{},client:e.header.client,clientId:e.header.client.id,model:d,viewModelId:o,actionItems:e.header.actionItems,options:p,showModelNavigationConfirmationDialog:e.projectsManager.showModelNavigationConfirmationDialog,userFeatureConfiguration:e.app.userFeatureConfiguration}}),(function(e){return{dispatch:e}}))($g),tm=n(135),nm=n(724),am=n.n(nm);function rm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var om=function(e){at()(n,e);var t=rm(n);function n(e){var a;return Qe()(this,n),(a=t.call(this,e)).state={value:e.defaultValue,editMode:!1,labelStyle:{}},a.myRef=i.a.createRef(),a.handleChange=a.handleChange.bind(tt()(a)),a.handleClickOutside=a.handleClickOutside.bind(tt()(a)),a.enableEditMode=a.enableEditMode.bind(tt()(a)),a.contenteditableStyle={caretColor:"#ef8822",display:"inline-block",borderBottom:"1px dotted black",paddingBottom:"2px"},a}return $e()(n,[{key:"getLabelDOMNode",value:function(){return 1===this.refs.batchtestname.nodeType?this.refs.batchtestname:c.a.findDOMNode(this.refs.batchtestname)}},{key:"handleChange",value:function(e){var t=this;this.setState({value:c.a.findDOMNode(this.refs.batchtestname).innerText},(function(){t.props.validateAndUpdateValue(t.state.value)}))}},{key:"enableEditMode",value:function(){this.setState({editMode:"true",labelStyle:this.contenteditableStyle}),document.addEventListener("mousedown",this.handleClickOutside)}},{key:"handleClickOutside",value:function(){this.myRef&&!this.myRef.current.contains(event.target)&&(this.setState({editMode:"false",labelStyle:{}}),document.removeEventListener("mousedown",this.handleClickOutside))}},{key:"render",value:function(){return i.a.createElement("div",{className:this.props.customClassName,ref:this.myRef,style:{display:"inline-block"}},i.a.createElement("div",{className:"float-left"},i.a.createElement("label",{ref:"batchtestname",contentEditable:this.state.editMode,style:this.state.labelStyle,onInput:this.handleChange},this.state.value)),i.a.createElement("div",{className:"float-left",onClick:this.enableEditMode,style:{paddingLeft:"8px"}},i.a.createElement(_h.a,{src:hh(zp)})),i.a.createElement("div",{className:"float-clear"}))}}]),n}(o.Component);om.defaultProps={customClassName:"",validateAndUpdateValue:function(){},defaultValue:"Default Value"},om.propTypes={defaultValue:qr.a.string,customClassName:qr.a.string,validateAndUpdateValue:qr.a.func};var im=om;function sm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var cm=function(e){at()(n,e);var t=sm(n);function n(e,a){var r;return Qe()(this,n),(r=t.call(this,e,a)).state={tableData:[],availableDatasets:[],selectedDatasets:[]},r.onToggleDatasetCheckbox=r.onToggleDatasetCheckbox.bind(tt()(r)),r.toggleSelectAll=r.toggleSelectAll.bind(tt()(r)),r.updateSelectedDatasets=r.updateSelectedDatasets.bind(tt()(r)),r}return $e()(n,[{key:"updateSelectedDatasets",value:function(e){var t=this;this.setState({selectedDatasets:e},(function(){t.props.updateSelectedDatasets(e)}))}},{key:"onToggleDatasetCheckbox",value:function(e,t){var n=this.state.selectedDatasets;n=1==t?[].concat(N()(n),[e]):n.filter((function(t){return t!==e})),this.updateSelectedDatasets(n)}},{key:"toggleSelectAll",value:function(e){var t=[];e&&(t=this.state.availableDatasets),this.updateSelectedDatasets(t)}},{key:"render",value:function(){var e=this,t=this.state,n=t.selectedDatasets,a=t.availableDatasets,r=[{Header:function(t){return i.a.createElement(eo.Checkbox,{onChange:function(t){e.toggleSelectAll(t.target.checked)},checked:n.length>0&&n.length===a.length})},id:"checkbox",accessor:"",Cell:function(t){return i.a.createElement(eo.Checkbox,{onChange:function(n){e.onToggleDatasetCheckbox(t.value.id,n.target.checked)},checked:e.state.selectedDatasets.includes(t.value.id)})},maxWidth:100,sortable:!1},{Header:"Dataset Names",accessor:"",id:"name",Cell:function(t){var n=t.original;return n.isClickable?i.a.createElement("a",{href:"javascript:;",onClick:function(){var t=e.props,a=t.history,r=t.client,o=t.projectId;ze.dispatch(vd({projectId:o,datasets:[n.id]})),ze.dispatch(pr(aa,{client:r,projectId:o},a))}},n.name):i.a.createElement("div",null," ",n.name," ")}},{Header:"User Id",accessor:function(e){return e.modifiedBy},id:"userId"},{Header:"Date Created",accessor:function(e){return t=e.createdAt,n=new Date(t),hu()(n,"mmmm dS, yyyy, h:MM:ss TT");var t,n},id:"createdAt"}];return i.a.createElement("div",null,i.a.createElement(eo.Table,{data:this.state.tableData,columns:r,defaultSorted:[{id:"createdAt",desc:!0}],showPagination:!1,defaultPageSize:1e3}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.datasets?Array.from(e.datasets.values()):[];return n=n.filter((function(e){return e.id&&e.status&&"COMPLETED"==e.status&&e.name&&e.isClickable})),0===t.availableDatasets.length?{availableDatasets:n.map((function(e){return e.id})),tableData:n}:{tableData:n}}}]),n}(o.Component);cm.propTypes={history:qr.a.object.isRequired,client:qr.a.object.isRequired,projectId:qr.a.string.isRequired,datasets:qr.a.object,updateSelectedDatasets:qr.a.func},cm.defaultProps={datasets:{},updateSelectedDatasets:function(){}};var lm=cm;function dm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var um=function(e){at()(n,e);var t=dm(n);function n(e){var a;return Qe()(this,n),(a=t.call(this,e)).defaultBatchTestName="Create new batch test",a.state={checked:!1,selectedDatasets:[],batchTestName:a.defaultBatchTestName},a.onRunBatchTest=a.onRunBatchTest.bind(tt()(a)),a.updateSelectedDatasets=a.updateSelectedDatasets.bind(tt()(a)),a.getRunTestButton=a.getRunTestButton.bind(tt()(a)),a.validateAndUpdateValue=a.validateAndUpdateValue.bind(tt()(a)),a}return $e()(n,[{key:"updateSelectedDatasets",value:function(e){this.setState({selectedDatasets:e,checked:e.length>0})}},{key:"onRunBatchTest",value:function(){var e=this.props,t=e.dispatch,n=e.showBatchTestResults,a=e.testModelType;t(function(e){return function(t,n){var a=e.datasets,r=(e.userId,e.csrfToken),o=Ie()(e,vs),i=o.projectId,s=o.clientId,c=o.modelId,l=o.testModelType,d=zn(bt,o);return Ja(Ya.RUN_BATCH_TEST_EVENT,n(),{projectId:i,clientDBId:s,modelId:c,modelType:l}),new Promise((function(n,o){pt()(d,{method:"post",credentials:"same-origin",headers:{"X-CSRF-TOKEN":r,"Content-Type":"application/json"},body:JSON.stringify(a)}).then(Pr.handleErrors).then((function(e){return e.json()})).then((function(n){var a;n.status="NULL",t((a={modelBatchJobRequest:n}.modelBatchJobRequest,{type:"MODEL_BATCH_JOB_REQUEST",modelBatchJobRequest:a})),t(nr(bs.testRequestSubmitted)),Qs(e)})).catch((function(e){Pr.dispatchError(e,t,er)}))}))}}({userId:this.props.app.userId,csrfToken:this.props.app.csrfToken,projectId:this.props.projectId,modelId:this.props.model.modelToken,clientId:this.props.client.id,datasets:this.state.selectedDatasets,testModelType:a,batchTestName:this.state.batchTestName})),n()}},{key:"getRunTestButton",value:function(){return i.a.createElement(eo.Button,{onClick:this.onRunBatchTest,name:"run-batch-test-button",type:"primary",tabIndex:0,disabled:!this.state.checked||this.state.validatedName,styleOverride:{padding:"0px 25px"}},"RUN TEST")}},{key:"validateAndUpdateValue",value:function(e){var t=this;this.setState({validatedName:!0},(function(){t.state.validatedName&&t.setState({batchTestName:e})}))}},{key:"render",value:function(){return i.a.createElement(eo.LegacyGrid,null,i.a.createElement(eo.LegacyRow,null,i.a.createElement("div",{className:"batchtest-name-editor"},this.defaultBatchTestName)),i.a.createElement(eo.LegacyRow,{styleOverride:{display:"none"}},i.a.createElement(im,{customClassName:"batchtest-name-editor","data-qa":"batchtest-name-editor",validateAndUpdateValue:this.validateAndUpdateValue,defaultValue:this.defaultBatchTestName})),i.a.createElement(eo.LegacyRow,null,i.a.createElement("div",{className:"batchtest-info"},"Select one or more data sets from the project list to run a batch test.")),i.a.createElement(eo.LegacyRow,null,i.a.createElement(lm,{history:this.props.history,client:this.props.client,projectId:this.props.projectId,datasets:this.props.datasets,updateSelectedDatasets:this.updateSelectedDatasets})),i.a.createElement(eo.LegacyRow,null,i.a.createElement("div",{className:"float-right runtest-button"},this.getRunTestButton()),i.a.createElement("div",{className:"float-clear"})))}}]),n}(o.Component);um.propTypes={history:qr.a.object.isRequired,client:qr.a.object.isRequired,projectId:qr.a.string.isRequired,datasets:qr.a.object,showBatchTestResults:qr.a.func,dispatch:qr.a.func,testModelType:qr.a.string},um.defaultProps={datasets:{},showBatchTestResults:function(){}};var pm=um,hm=n(251),fm=n(2);function gm(e){var t=e.fill,n=e.width,a=e.height;return i.a.createElement(fm.b.Provider,{value:{color:t,width:n,height:a}},i.a.createElement("div",null,i.a.createElement(hm.c,null)))}gm.propTypes={fill:qr.a.string,width:qr.a.oneOfType([qr.a.number,qr.a.string]),height:qr.a.oneOfType([qr.a.number,qr.a.string])},gm.defaultProps={fill:"#313f54",width:"2.5em",height:"2.5em"};var mm=gm;function Sm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var Em=function(e){at()(n,e);var t=Sm(n);function n(){var e;return Qe()(this,n),(e=t.call(this)).state={focus:!1,showMisclassified:!1,showDeleteHover:!1},e.toggleFocus=e.toggleFocus.bind(tt()(e)),e.onMouseUp=e.onMouseUp.bind(tt()(e)),e.getStatusIcon=e.getStatusIcon.bind(tt()(e)),e.getDeleteIcon=e.getDeleteIcon.bind(tt()(e)),e.onClickBatchTestItem=e.onClickBatchTestItem.bind(tt()(e)),e.spinnerProps={height:"20px",width:"20px"},e}return $e()(n,[{key:"getStatusIcon",value:function(e){if("IN_PROGRESS"===e)return i.a.createElement(eo.DashedSpinner,this.spinnerProps);var t={SUCCESS:dh,FAILED:ch,QUEUED:lh};return i.a.createElement(_h.a,{src:hh(t[e])})}},{key:"getDeleteIcon",value:function(){return i.a.createElement(_h.a,{src:hh(sh)})}},{key:"toggleFocus",value:function(e){var t=this;this.setState({focus:!this.state.focus},(function(){return t.props.onFocusChange(t.props.index,t.state.focus)}))}},{key:"onMouseUp",value:function(e){var t=this;this.setState({focus:!1},(function(){return t.props.onFocusChange(t.props.index,t.state.focus)}))}},{key:"onClickBatchTestItem",value:function(e){var t=this.props.batchtest.testId;this.props.onClickBatchTestItem(this.props.index,t)}},{key:"render",value:function(){return i.a.createElement("div",{key:"batchtest-".concat(this.props.index),className:"batchtest-list-item",onClick:this.onClickBatchTestItem,onFocus:this.toggleFocus,onBlur:this.toggleFocus,onMouseOver:this.toggleFocus,onMouseOut:this.toggleFocus,onMouseUp:this.onMouseUp,style:{backgroundColor:this.props.focused?"#eee":this.props.selected?"#f3f4f5":""}},i.a.createElement(eo.LegacyGrid,null,i.a.createElement(eo.LegacyRow,null,i.a.createElement(eo.LegacyColumn,{size:12},i.a.createElement(eo.LegacyRow,null,i.a.createElement(eo.LegacyColumn,{size:12},i.a.createElement("div",{style:{display:"inline-block"}},i.a.createElement("div",{className:"batchtest-name"},this.props.batchtest.batchTestName),i.a.createElement("span",{style:{float:"left",height:"16px",width:"16px"}},this.getStatusIcon(this.props.batchtest.status)),i.a.createElement("div",{className:"float-clear"})))),i.a.createElement(eo.LegacyRow,null,i.a.createElement("div",{className:"batchtest-meta"},"Datasets:"," ",this.props.batchtest.requestPayload.split(",").length),this.state.showMisclassified?i.a.createElement("div",{className:"batchtest-meta"},"Misclassified:"," ",this.props.batchtest.misclassified):null,i.a.createElement("div",{className:"batchtest-meta"},"Date:"," ",(e=this.props.batchtest.createdAt,new Date(parseInt(e)).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"}))))))));var e}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.batchtest.misclassified?{showMisclassified:!0}:null}}]),n}(o.Component);Em.propTypes={index:qr.a.number,batchtest:qr.a.shape({testId:qr.a.string.isRequired,type:qr.a.string.isRequired,status:qr.a.string.isRequired,requestPayload:qr.a.string.isRequired,createdAt:qr.a.string.isRequired,batchTestName:qr.a.string.isRequired,misclassified:qr.a.number}),onClickBatchTestItem:qr.a.func.isRequired,focused:qr.a.bool,selected:qr.a.bool,onFocusChange:qr.a.func},Em.defaultProps={focused:!1,selected:!1};var vm=Em;function Tm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var ym=function(e){at()(n,e);var t=Tm(n);function n(e,a){var r;return Qe()(this,n),(r=t.call(this,e,a)).selectedIndex=0,r.state={toggleDisplay:!0,focusedIndex:-1,selectedIndex:0,loadLatestBatchTestResult:!1},r.onClickCreateNewBatchTest=r.onClickCreateNewBatchTest.bind(tt()(r)),r.onClickBatchTestItem=r.onClickBatchTestItem.bind(tt()(r)),r.onFocusChange=r.onFocusChange.bind(tt()(r)),r}return $e()(n,[{key:"onClickBatchTestItem",value:function(e,t){var n=this;this.setState({selectedIndex:e},(function(){n.props.onClickBatchTestItem(e,t)}))}},{key:"onClickCreateNewBatchTest",value:function(e){this.props.onRunBatchTestClick(e)}},{key:"onFocusChange",value:function(e,t){t&&this.setState({focusedIndex:e})}},{key:"componentDidUpdate",value:function(e,t,n){var a=this.props.listOfBatchTests.batchTestInfo;!this.state.loadLatestBatchTestResult&&a&&a.length>0&&(this.props.onClickBatchTestItem(0,a[0].testId),this.setState({loadLatestBatchTestResult:!0}))}},{key:"renderList",value:function(){var e=this,t=this.props.listOfBatchTests.batchTestInfo;if(!t||!t.length)return i.a.createElement(Lu,{message:T.NO_BATCH_TEST});var n=t.map((function(t,n){return i.a.createElement(vm,{key:"batchtest-".concat(n),index:n,batchtest:t,focused:e.state.focusedIndex===n,onFocusChange:e.onFocusChange,onClickBatchTestItem:e.onClickBatchTestItem,selected:e.state.selectedIndex===n})}));return i.a.createElement("div",null,n)}},{key:"render",value:function(){var e=this.props,t=e.isOpen,n=e.toggleSidebar;return i.a.createElement("div",{id:"batchTestSideBar",className:"listContainer",style:{marginTop:"0px"}},i.a.createElement("span",{className:"float-right",style:{marginTop:"30px"}},t?i.a.createElement(tp,{onClick:n,icon:eo.BackIcon,"data-qa":"batchtest-hide-sidebar",title:"Hide Sidebar"}):i.a.createElement(tp,{onClick:n,icon:mm,"data-qa":"batchtest-show-sidebar",title:"Show Sidebar"})),t?i.a.createElement("div",null,i.a.createElement(eo.ContextualActionsBar,null,i.a.createElement(eo.ContextualActionItem,{onClickAction:this.onClickCreateNewBatchTest,icon:eo.Plus},"CREATE NEW BATCH TEST")),this.renderList()):null)}}]),n}(o.Component);ym.propTypes={isOpen:qr.a.bool,toggleSidebar:qr.a.func,onClickBatchTestItem:qr.a.func,onRunBatchTestClick:qr.a.func};var bm=ym,Cm=(n(684),{DEFAULT_PAGE_SIZE:100,TRANSCRIPTIONS_FILTER_NAME:"Transcriptions",TRANSCRIPTIONS_FILTER_LIST:["All","Misclassified"],INTENT_FILTER_NAME:"Intent",FILTER_SELECTED_ALL:"All",ROLLUP_INTENT_ROW_ID:"Rollup Intent (RUI)",PREDICTED_RUI_1:"".concat("Predicted RUI"," 1"),PREDICTED_RUI_2:"".concat("Predicted RUI"," 2"),PREDICTED_RUI_3:"".concat("Predicted RUI"," 3"),PREDICTED_RUI_4:"".concat("Predicted RUI"," 4"),PREDICTED_RUI_5:"".concat("Predicted RUI"," 5")});function Im(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var Om=function(e){at()(n,e);var t=Im(n);function n(e){var a;return Qe()(this,n),(a=t.call(this,e)).props=e,a.state={tableData:[],filteredData:[],selectedIntent:Cm.FILTER_SELECTED_ALL,selectedType:Cm.FILTER_SELECTED_ALL,listOfIntents:[Cm.FILTER_SELECTED_ALL]},a.onClickTranscription=a.onClickTranscription.bind(tt()(a)),a.getScore=a.getScore.bind(tt()(a)),a.setIntentsFilter=a.setIntentsFilter.bind(tt()(a)),a.setTranscriptionFilter=a.setTranscriptionFilter.bind(tt()(a)),a}return $e()(n,[{key:"componentDidMount",value:function(){var e=this.state,t=e.listOfIntents,n=e.tableData;if(1===t.length){var a=n.map((function(e){return e[Cm.ROLLUP_INTENT_ROW_ID]||e.intent})).filter((function(e,t,n){return e&&n.indexOf(e)===t}));t=[Cm.FILTER_SELECTED_ALL].concat(N()(a)),this.setState({listOfIntents:t})}}},{key:"onClickTranscription",value:function(e){this.props.onRunSingleUtterance(e.target.innerText)}},{key:"getScore",value:function(e){return!P.a.isNil(e)&&e.length>0?"".concat(parseFloat(e).toFixed(4)):P.a.isNil(e)?"":e}},{key:"setTranscriptionFilter",value:function(e){this.setState({selectedType:e})}},{key:"setIntentsFilter",value:function(e){this.setState({selectedIntent:e})}},{key:"render",value:function(){return i.a.createElement(eo.LegacyGrid,null,i.a.createElement(eo.LegacyRow,null,i.a.createElement(eo.ContextualActionsBar,null,i.a.createElement(eo.ContextualActionItem,null,i.a.createElement(eo.DropDown,{key:"transcriptions",itemList:Cm.TRANSCRIPTIONS_FILTER_LIST,labelName:Cm.TRANSCRIPTIONS_FILTER_NAME,selectedIndex:0,onItemSelected:this.setTranscriptionFilter})),i.a.createElement(eo.ContextualActionItem,null,i.a.createElement(eo.DropDown,{key:"intents",itemList:this.state.listOfIntents,labelName:Cm.INTENT_FILTER_NAME,selectedIndex:0,onItemSelected:this.setIntentsFilter})))),i.a.createElement(eo.LegacyRow,null,i.a.createElement(eo.Table,{style:{maxHeight:"calc(95vh - 260px)"},resizable:!0,data:this.state.filteredData,columns:this.tableColumns,showPagination:!0,defaultPageSize:Cm.DEFAULT_PAGE_SIZE})))}},{key:"tableColumns",get:function(){var e=this,t=Cm.ROLLUP_INTENT_ROW_ID,n=Cm.PREDICTED_RUI_1,a=Cm.PREDICTED_RUI_2,r=Cm.PREDICTED_RUI_3,o=Cm.PREDICTED_RUI_4,s=Cm.PREDICTED_RUI_5;return[{Header:"Transcription",id:"transcription",width:150,accessor:"",Cell:function(t){return i.a.createElement("span",{className:"test-result-batch-results-transcription",onClick:e.onClickTranscription},t.value.transcription)}},{Header:t,id:"rollupIntent",width:180,accessor:"",Cell:function(e){var a="",r=e.value[t]||e.value.intent;return r!==(e.value[n]||e.value.predict1)&&(a="".concat(a," test-result-mismatch")),i.a.createElement("span",{className:a},r)}},{Header:"Count",id:"count",accessor:"",Cell:function(e){return e.value.count||""}},{Header:n,id:"Predicted_RUI1",width:150,accessor:"",Cell:function(e){var a=e.value[t]||e.value.intent,r=e.value[n]||e.value.predict1,o="";return a!==r&&(o="".concat(o," test-result-mismatch")),i.a.createElement("span",{className:o},r)}},{Header:"Score 1",id:"score1",accessor:"",Cell:function(e){var a=e.value[t]||e.value.intent,r=e.value[n]||e.value.predict1,o=e.value.score1;P.a.isNil(o)||(o="".concat(parseFloat(o).toFixed(4)));var s="";return a!==r&&(s="".concat(s," test-result-mismatch")),i.a.createElement("span",{className:s},o)}},{Header:a,id:"Predicted_RUI2",width:150,accessor:"",Cell:function(e){return e.value[a]||e.value.predict2||""}},{Header:"Score 2",id:"score2",accessor:"",Cell:function(t){return e.getScore(t.value.score2)||""}},{Header:r,id:"Predicted_RUI3",width:150,accessor:"",Cell:function(e){return e.value[r]||e.value.predict3||""}},{Header:"Score 3",id:"score3",accessor:"",Cell:function(t){return e.getScore(t.value.score3)||""}},{Header:o,id:"Predicted_RUI4",width:150,accessor:"",Cell:function(e){return e.value[o]||e.value.predict4||""}},{Header:"Score 4",id:"score4",accessor:"",Cell:function(t){return e.getScore(t.value.score4)||""}},{Header:s,id:"Predicted_RUI5",width:150,accessor:"",Cell:function(e){return e.value[s]||e.value.predict5||""}},{Header:"Score 5",id:"score5",accessor:"",Cell:function(t){return e.getScore(t.value.score5)||""}}]}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=N()(e.data),a=t.listOfIntents,r=t.filteredData,o=t.selectedIntent;switch(t.selectedType){case Cm.TRANSCRIPTIONS_FILTER_LIST[1]:r=n.filter((function(e){return(e[Cm.ROLLUP_INTENT_ROW_ID]||e.intent)!==(e[Cm.PREDICTED_RUI_1]||e.predict1)}));break;case Cm.FILTER_SELECTED_ALL:default:r=N()(n)}switch(o){case Cm.FILTER_SELECTED_ALL:break;default:r=r.filter((function(e){return(e[Cm.ROLLUP_INTENT_ROW_ID]||e.intent)===o}))}return{tableData:n,filteredData:r,listOfIntents:a}}}]),n}(o.Component);function Rm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}Om.propTypes={data:qr.a.array.isRequired,onRunSingleUtterance:qr.a.func};var km=function(e){at()(n,e);var t=Rm(n);function n(e){var a;return Qe()(this,n),a=t.call(this,e),h()(tt()(a),"onClickDatasetName",(function(e){var t=a.props,n=t.dispatch,r=t.history,o=t.projectId,i=t.clientId,s=(a.state.inputDatasets.find((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.name;return e===n}))||{}).id;n(vd({projectId:o,datasets:[s]})),n(pr(aa,{clientId:i,projectId:o},r))})),h()(tt()(a),"getRequestPayload",(function(){var e=a.state.inputDatasets,t=[],n=[];return e.forEach((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.id,o=e.name,s=arguments.length>1?arguments[1]:void 0;s<3?(t.push(i.a.createElement(eo.PrimaryDivider,{style:{padding:"0px 5px"},fill:"#9E9E9E",key:"divider-".concat(s)})),r?t.push(i.a.createElement(eo.Button,{name:"dataset-".concat(r),key:"button-".concat(s),type:"flat",onClick:function(){return a.onClickDatasetName(o)},styleOverride:{color:"#313f54"}},o)):t.push(i.a.createElement("span",{style:{color:"#ddd",cursor:"not-allowed"},key:"button-".concat(s)},"deleted"))):o&&n.push(o)})),t.shift(),i.a.createElement("div",{className:"dataset-list-container"},i.a.createElement("span",{className:"float-left",style:{color:"#9E9E9E",padding:"10px 0px"}}," Datasets: "),i.a.createElement("span",{className:"float-left dataset-list"},t),i.a.createElement("span",{className:"float-left",style:{padding:"10px 0px"}},n.length>0&&i.a.createElement(eo.DropDown,{key:"more",itemList:n,labelName:"MORE (".concat(n.length,")"),onItemSelected:a.onClickDatasetName})))})),h()(tt()(a),"getInputDatasets",(function(e){var t=a.props,n=t.listOfBatchTests,r=void 0===n?{}:n,o=t.projectId,i=r.batchTestInfo,s=((void 0===i?[]:i).find((function(t){return t.testId===e}))||{}).requestPayload;return(void 0===s?"":s).split(T.COMMA_SEPARATOR).map((function(e){return $i.ProjectsManager.getDataset(o,e)}))})),a.state={isSidebarOpen:!0,batchTestInfo:void 0,lastBatchTestResults:void 0,selectedIndex:0,selectedTestId:"",createBatchTestMode:!1,inputDatasets:[]},a.sideBarClassName="main-sidebar-container sidebar-open",a.getLoadingBatchTestScreen=a.getLoadingBatchTestScreen.bind(tt()(a)),a.onClickBatchTestItem=a.onClickBatchTestItem.bind(tt()(a)),a.onRunBatchTestClick=a.onRunBatchTestClick.bind(tt()(a)),a.onCancelBatchTest=a.onCancelBatchTest.bind(tt()(a)),a.onCheckBatchTest=a.onCheckBatchTest.bind(tt()(a)),a.onDownloadResults=a.onDownloadResults.bind(tt()(a)),a.showBatchTestResults=a.showBatchTestResults.bind(tt()(a)),a.getBatchTestResultsContent=a.getBatchTestResultsContent.bind(tt()(a)),a.toggleSidebar=a.toggleSidebar.bind(tt()(a)),a}return $e()(n,[{key:"componentDidMount",value:function(){this.props.dispatch({type:"CLEAR_MODEL_BATCH_TEST_RESULTS"})}},{key:"showBatchTestResults",value:function(){this.setState({createBatchTestMode:!1})}},{key:"onClickBatchTestItem",value:function(e,t){this.setState({createBatchTestMode:!1,selectedIndex:e,selectedTestId:t,inputDatasets:this.getInputDatasets(t)}),this.props.dispatch({type:"CLEAR_MODEL_BATCH_TEST_RESULTS"}),this.onCheckBatchTest(t)}},{key:"toggleSidebar",value:function(e){this.sideBarClassName="main-sidebar-container",this.state.isSidebarOpen?this.sideBarClassName+=" sidebar-closed":this.sideBarClassName+=" sidebar-open",this.setState({isSidebarOpen:!this.state.isSidebarOpen})}},{key:"onRunBatchTestClick",value:function(){var e=this;this.setState({createBatchTestMode:!0,selectedIndex:0,selectedTestId:""},(function(){e.props.dispatch({type:"CLEAR_MODEL_TEST_RESULTS"}),e.props.dispatch({type:"CLEAR_MODEL_BATCH_TEST_RESULTS"})}))}},{key:"onCancelBatchTest",value:function(){}},{key:"onCheckBatchTest",value:function(e){(0,this.props.dispatch)(function(e){return function(t,n){var a=e.clientId,r=e.modelId,o=e.projectId,i=e.csrfToken,s=e.modelTestJobId,c=zn(It,{clientId:a,modelId:r,projectId:o,modelTestJobId:s});return new Promise((function(e,n){pt()(c,{method:"get",credentials:"same-origin",headers:{"X-CSRF-TOKEN":i,"Content-Type":"application/json"}}).then(Pr.handleErrors).then((function(e){return e.json()})).then((function(e){t(ks({modelId:r,projectId:o,modelTestJobId:s,modelBatchTestResults:e}))})).catch((function(e){t(Ds({modelId:r,projectId:o,modelTestJobId:s})),Pr.dispatchError(e,t,er)}))}))}}({userId:this.state.userId,csrfToken:this.state.csrfToken,projectId:this.props.projectId,modelId:this.props.model.modelToken,clientId:this.props.clientId,modelTestJobId:e}))}},{key:"onDownloadResults",value:function(){var e=this.props.model,t=this.state.lastBatchTestResults,n={date:new Date,model:e,jobId:t.modelTestJobId},a=function(e,t){var n="";P.a.isEmpty(e)||P.a.isEmpty(e.message)||(n=decodeURIComponent(atob(e.message).split("").map((function(e){return"%".concat("00".concat(e.charCodeAt(0).toString(16)).slice(-2))})).join("")));var a=n;if(!P.a.isNil(t)){var r=t.date,o=t.model,i=t.jobId,s=["date: ".concat(r," | model name: ").concat(o.name," | version: ").concat(o.version," | job request id: ").concat(i)];a="".concat(s,"\n").concat(n)}return a}(t.modelBatchTestResults,n),r="".concat(e.name,"_v").concat(e.version,".csv");am()(a,r)}},{key:"getLoadingBatchTestScreen",value:function(){var e,t="Create new batch test",n=this.props.listOfBatchTests,a=void 0===n?{}:n,r=a.batchTestInfo;(void 0===r?[]:r).length>0&&(e=a.batchTestInfo[this.state.selectedIndex].status);switch(e){case"SUCCESS":t=T.RETRIEVE_RESULTS_MESSAGE;break;case"QUEUED":case"IN_PROGRESS":t=T.PREPARE_RESULTS_MESSAGE;break;case"FAILED":t=T.BATCH_TEST_FAILED_MESSAGE}return i.a.createElement(Lu,{message:t})}},{key:"getBatchResultsGrid",value:function(){var e,t,n=this.state.lastBatchTestResults,a=sc,r=this.props.userFeatureConfiguration;if(!P.a.isNil(n)){var o=(e=n.modelBatchTestResults,t="",P.a.isEmpty(e)||P.a.isEmpty(e.message)||(t=decodeURIComponent(atob(e.message).split("").map((function(e){return"%".concat("00".concat(e.charCodeAt(0).toString(16)).slice(-2))})).join(""))),ec.a.parse(t,{header:!0}));if(o&&o.data.length>0)return i.a.createElement(eo.LegacyRow,{"data-qa":"batchtests-results-grid"},i.a.createElement(eo.LegacyRow,null,i.a.createElement("div",{style:{margin:"0px 30px",display:"block",fontWeight:"bold"}},i.a.createElement("div",{className:"float-left",style:{color:"#313f54",padding:"10px 0px"}},"Results"),lc(a.downloadResults,r)?i.a.createElement("div",{className:"float-right"},i.a.createElement(eo.Button,{type:"flat",onClick:this.onDownloadResults},"DOWNLOAD")):null)),i.a.createElement(eo.LegacyRow,{styleOverride:{backgroundColor:"#f6f7f8",borderTop:"1px solid #e6e6e6",borderBottom:"1px solid #e6e6e6"}},this.getRequestPayload()),i.a.createElement(eo.LegacyRow,null,i.a.createElement("div",{className:"float-clear"},i.a.createElement(Om,{data:o.data,onRunSingleUtterance:this.props.onRunSingleUtterance}))))}return this.getLoadingBatchTestScreen()}},{key:"getBatchTestResultsContent",value:function(){return this.state.createBatchTestMode?i.a.createElement(pm,Je()({},this.props,{testModelType:this.props.testModelType,dispatch:this.props.dispatch,showBatchTestResults:this.showBatchTestResults})):i.a.createElement(eo.LegacyGrid,null,this.getBatchResultsGrid())}},{key:"render",value:function(){return i.a.createElement("div",{id:"batchtest-container"},i.a.createElement("div",{className:this.sideBarClassName},i.a.createElement(bm,Je()({},this.props,{isOpen:this.state.isSidebarOpen,toggleSidebar:this.toggleSidebar,onClickBatchTestItem:this.onClickBatchTestItem,onRunBatchTestClick:this.onRunBatchTestClick}))),i.a.createElement("div",{className:"main-separator"}),i.a.createElement("div",{id:"main-content-container"},this.getBatchTestResultsContent()))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.listOfBatchTests.batchTestInfo,a=t.selectedTestId,r=t.selectedIndex,o=t.lastBatchTestResults,i=e.modelBatchTestResults;return""===a&&i&&i.modelTestJobId&&(a=i.modelTestJobId),"SUCCESS"!==(n&&n[r]?n[r].status:"")?o=void 0:P.a.isNil(i)||i.modelTestJobId===a&&(o=e.modelBatchTestResults),{userId:e.app.userId,csrfToken:e.app.csrfToken,batchTestInfo:n,lastBatchTestResults:o,selectedTestId:a}}}]),n}(o.Component);km.propTypes={testModelType:qr.a.string,onTuneModelClick:qr.a.func,onReviewDatasetsClick:qr.a.func,onRunSingleUtterance:qr.a.func,dispatch:qr.a.func,history:qr.a.object,projectId:qr.a.string,clientId:qr.a.string,listOfBatchTests:qr.a.object,model:qr.a.object},km.defaultProps={};var Dm=km,_m=Object(l.connect)((function(e,t){var n=tm.a(["location","search"],t)||"",a=new dt.a(n),r=e.app.userFeatureConfiguration,o=e.projectListSidebar.selectedProjectId,i=a.get("modelid"),s=e.header.client.id,c=tm.a(["projectsManager","model","listOfBatchTests"],e)||{},l=$i.ProjectsManager.getModel(o,i)||null;return{app:e.app,projectId:o,modelId:i,clientId:s,listOfBatchTests:c,modelBatchTestResults:e.projectsManager.modelBatchTestResults,model:l,datasets:$i.ProjectsManager.getDatasetsByProjectId(o,!0)||null,testModelType:l?l.modelType:T.DIGITAL_MODEL,userFeatureConfiguration:r}}),(function(e){return{dispatch:e}}))(Dm);function Am(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Nm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Am(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Am(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var jm=Lr().DISPLAY_MESSAGES,Pm=function(e){at()(n,e);var t=Lm(n);function n(e){var a;Qe()(this,n),(a=t.call(this,e)).onChange=a.onChange.bind(tt()(a)),a.onKeyPress=a.onKeyPress.bind(tt()(a)),a.onClickRunTest=a.onClickRunTest.bind(tt()(a)),a.onClickRunSpeechTest=a.onClickRunSpeechTest.bind(tt()(a)),a.onClickUpload=a.onClickUpload.bind(tt()(a)),a.onClickRecord=a.onClickRecord.bind(tt()(a)),a.onClickLink=a.onClickLink.bind(tt()(a)),a.onModelTypeChange=a.onModelTypeChange.bind(tt()(a)),a.renderRadioButtons=a.renderRadioButtons.bind(tt()(a)),a.actionItemStyle={marginTop:"0px",paddingLeft:"0px",paddingRight:"20px",fontWeight:"bold",icon:{width:"15px",height:"22px",paddingRight:"1px"}},a.state={fileType:"",audioSrc:"",utterance:"",selectedRadioGroupValue:T.DIGITAL_SPEECH_MODEL};var r=a.props.dispatch;return a.uploaderProps={multiple:!1,accept:T.AUDIO_TYPE_WAV,beforeUpload:function(){r({type:"BEGIN_MODEL_TEST_AUDIO_UPLOAD"})},customRequest:a.onClickUpload,onStart:function(){r(rr({dispatch:r,type:T.DIALOGS.PROGRESS_DIALOG,message:T.TEST_IN_PROGRESS}))},onError:function(){r({type:"MODEL_TEST_AUDIO_UPLOAD_FAIL"})}},a}return $e()(n,[{key:"componentDidMount",value:function(){(0,this.props.dispatch)({type:"CLEAR_MODEL_TEST_RESULTS"})}},{key:"onChange",value:function(e){e.preventDefault();var t=e.target.value;this.setState({utterance:t})}},{key:"onKeyPress",value:function(e){"Enter"!==e.key&&"Tab"!==e.key||(e.preventDefault(),this.onClickRunTest())}},{key:"onClickRunTest",value:function(){(0,this.props.submitTest)(this.state.utterance)}},{key:"onClickRunSpeechTest",value:function(e){var t=e.audioFile,n=e.audioURL,a=e.fileType,r=this.props,o=r.client,i=r.projectId,s=r.dispatch,c=r.model,l=r.speechTestTimeout,d=Qa.a.CancelToken.source(),u={clientId:o.id,projectId:i,fileType:a,audioURL:n,audioFile:t,modelId:c.modelToken,model:c,cancelToken:d.token};s(function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n,a){var r=e.audioFile,o=e.audioURL,i=e.fileName,s=e.cancelToken,c=e.model,l=Ie()(e,Ss),d=l.projectId,u=l.clientId,p=l.modelId,h=l.fileType,f=a(),g=c?c.modelType:"";n(Ns(g,h)),Ja(Ya.TEST_SPEECH_MODEL_EVENT,f,{projectId:d,clientDBId:u,modelId:p,modelType:g,fileType:h}),n({type:"CLEAR_MODEL_TEST_RESULTS"});var m=zn(kt,l),S=new FormData;return r&&S.append(T.AUDIO_FILE,r,i),o&&S.append(T.AUDIO_URL,o),new Promise((function(e,r){Za.post({cancelToken:s,dispatch:n,getState:a,url:m,data:S,onApiSuccess:function(e){return Ks(e,t,g)},onApiError:function(e){return zs(e,t)}})}))}}(u)),setTimeout((function(){d&&d.cancel(jm.speechTestTimeoutMsg),s(rr(null))}),l)}},{key:"onClickUpload",value:function(e){var t=this,n=this.props.dispatch,a=e.file,r=T.FILE_TYPE.UPLOADED,o=new FileReader;o.onload=function(){t.setState({audioSrc:URL.createObjectURL(a),fileType:r}),n({type:"MODEL_TEST_AUDIO_UPLOAD_SUCCESS"}),t.onClickRunSpeechTest({audioFile:a,fileType:r})},o.readAsBinaryString(a)}},{key:"onClickRecord",value:function(){var e=this,t=this.props.dispatch,n=T.FILE_TYPE.RECORDING;t(rr({header:"Record and Test",dispatch:t,type:T.DIALOGS.RECORD_SPEECH,onClickRunTest:function(t){e.setState({audioSrc:URL.createObjectURL(t),fileType:n}),e.onClickRunSpeechTest({audioFile:t,fileType:n})}}))}},{key:"onClickLink",value:function(){var e=this,t=this.props.dispatch,n=T.FILE_TYPE.LINK;t(rr({header:"Link audio file URL to test",dispatch:t,type:T.DIALOGS.LINK_DIALOG,onClickRunTest:function(t){e.setState({audioSrc:t,fileType:n}),e.onClickRunSpeechTest({audioURL:t,fileType:n})}}))}},{key:"onModelTypeChange",value:function(e){var t=this.props,n=t.testModelType,a=t.onModelTypeChange;e!==n&&this.setState({utterance:"",audioSrc:"",fileType:"",selectedRadioGroupValue:e},(function(){a(e)}))}},{key:"renderRadioButtons",value:function(){var e=this.props.model,t=e?e.modelType:"";return t===T.DIGITAL_SPEECH_MODEL?i.a.createElement("span",null,i.a.createElement("li",{className:"center-item-li radio-group"},i.a.createElement(eo.RadioGroup,{displayType:"horizontal",onChange:this.onModelTypeChange,styleOverride:{paddingLeft:"20px",container:{},label:{color:"#575757"}},values:t===T.SPEECH_MODEL?[T.DIGITAL_SPEECH_MODEL]:[T.DIGITAL_SPEECH_MODEL,T.DIGITAL_MODEL],labels:T.TEST_MODEL_RADIO_LABELS,value:this.state.selectedRadioGroupValue})),i.a.createElement("li",{className:"center-item-li"},i.a.createElement(eo.PrimaryDivider,null))):""}},{key:"render",value:function(){var e=this.state,t=e.utterance,n=e.fileType,a=e.audioSrc,r=this.props,o=r.model,s=r.testModelType,c=r.handleAudio,l=r.utterance,d=o?o.modelType:"";return d!==T.DIGITAL_SPEECH_MODEL&&d!==T.SPEECH_MODEL||c(n,a),i.a.createElement(eo.LegacyRow,{styleOverride:{borderTop:"1px solid #fafbfc",backgroundColor:"#fafbfc"}},i.a.createElement("ul",{className:"utterance-input-area-ul"},this.renderRadioButtons(),s===T.DIGITAL_SPEECH_MODEL||s===T.SPEECH_MODEL?i.a.createElement("span",null,i.a.createElement("li",{className:"center-item-li",key:"input-bar-speech",style:{paddingLeft:"30px"}},i.a.createElement(eo.ContextualActionItem,{styleOverride:this.actionItemStyle,icon:eo.Record,onClickAction:this.onClickRecord},"RECORD"),i.a.createElement(eo.ContextualActionItem,{styleOverride:this.actionItemStyle,icon:eo.UploadIcon,left:!0},i.a.createElement(Dl.a,this.uploaderProps,"UPLOAD")),i.a.createElement(eo.ContextualActionItem,{styleOverride:Nm(Nm({},this.actionItemStyle),{},{paddingRight:"0px"}),icon:eo.Link,onClickAction:this.onClickLink,left:!0},"LINK"))):s===T.DIGITAL_SPEECH_MODEL||s===T.DIGITAL_MODEL?i.a.createElement("li",{className:"center-item-li",key:"input-bar-digital"},i.a.createElement("textarea",{name:"utterance",placeholder:T.UTTERANCE_PLACEHOLDER_TEXT(l),onChange:this.onChange,onKeyDown:this.onKeyPress,className:"utterance-input-area-input",rows:"1",cols:"100"}),i.a.createElement("div",{className:"model-test-utterance-instructions"},"Count: 200"),i.a.createElement(eo.InfoTooltip,{tooltipText:"Do not include any Personally Identifiable information in the utterance string",direction:"right"}),t.length?i.a.createElement(eo.Button,{className:"model-test-submit",onClick:this.onClickRunTest},T.RUN_TEST):""):""))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.speechModelTestResults.evaluations,a=(void 0===n?[{}]:n)[0].utteranceFileData,r=void 0===a?"":a;if(r&&t.fileType===T.FILE_TYPE.LINK){var o=function(e,t){for(var n=atob(e),a=new Array(n.length),r=0;r<n.length;r++)a[r]=n.charCodeAt(r);var o=new Uint8Array(a);return new Blob([o],{type:t})}(r,T.AUDIO_TYPE_WAV);return{audioSrc:URL.createObjectURL(o)}}return null}}]),n}(o.Component);Pm.propTypes={testModelType:qr.a.string,speechModelTestResults:qr.a.object,model:qr.a.object,onModelTypeChange:qr.a.func.isRequired,submitTest:qr.a.func.isRequired,utterance:qr.a.string},Pm.defaultProps={speechModelTestResults:{},testModelType:T.DIGITAL_MODEL,model:{},utterance:""};var wm=Object(l.connect)((function(e,t){var n=e.projectListSidebar.selectedProjectId,a=e.app;return{userId:a.userId,csrfToken:a.csrfToken,speechTestTimeout:a.speechTestTimeout,projectId:n,client:e.header.client,speechModelTestResults:e.projectsManager.speechModelTestResults}}),(function(e){return{dispatch:e}}))(Pm);function Mm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var xm=function(e){at()(n,e);var t=Mm(n);function n(e){var a;return Qe()(this,n),(a=t.call(this,e)).onClick=a.onClick.bind(tt()(a)),a.state={isPlaying:!1},a}return $e()(n,[{key:"onClick",value:function(e){var t=this;e.preventDefault();var n=this.props,a=n.onStop,r=n.onPlay,o=n.audioStates,i=n.audioSrc,s=n.dispatch,c=o.beforePlaying,l=o.playing;this.state.isPlaying?this.setState({isPlaying:!1},(function(){i&&(t.audioRef.pause(),t.audioRef.currentTime=0),a(c)})):this.setState({isPlaying:!0},(function(){if(i){t.audioRef.onended=function(){t.setState({isPlaying:!1},(function(){a(c)}))};try{t.audioRef.play()}catch(t){var e=Lr().DISPLAY_MESSAGES;s(tr(e.audioNotPlayable))}}r(l)}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.playIcon,a=t.stopIcon,r=(t.style,t.audioSrc),o=t.iconProps,s=t.styleOverride,c=o.playProps,l=void 0===c?{}:c,d=o.stopProps,u=void 0===d?{}:d,p=o.common,h=void 0===p?{}:p,f=n,g=l;this.state.isPlaying&&(f=a,g=u);var m=s.button,S=void 0===m?{":focus":{outline:"none"},":hover":{color:"#003467",boxShadow:"none"}}:m;return i.a.createElement(eo.Button,{type:"flat",name:"audioplayer-button",styleOverride:S,onClick:this.onClick},i.a.createElement(f,Je()({},h,g)),i.a.createElement("audio",{ref:function(t){return e.audioRef=t},src:r,style:{display:"none"},type:T.AUDIO_TYPE_WAV},i.a.createElement("track",{src:"",kind:"",srcLang:"en",label:"English"})))}}]),n}(o.Component);xm.propTypes={audioSrc:qr.a.oneOfType([qr.a.string,qr.a.instanceOf(Blob),qr.a.instanceOf(File)]),playIcon:qr.a.func.isRequired,stopIcon:qr.a.func.isRequired,iconProps:qr.a.object,onPlay:qr.a.func,onStop:qr.a.func,audioStates:qr.a.object,styleOverride:qr.a.object,dispatch:qr.a.func},xm.defaultProps={audioSrc:"",iconProps:{},onPlay:function(){},onStop:function(){},audioStates:{},styleOverride:{},dispatch:function(){}};var Bm=xm;function Um(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var Gm=function(e){at()(n,e);var t=Um(n);function n(e){var a;return Qe()(this,n),(a=t.call(this,e)).onClick=a.onClick.bind(tt()(a)),a.downloadAvailableResource=a.downloadAvailableResource.bind(tt()(a)),a}return $e()(n,[{key:"downloadAvailableResource",value:function(e,t){var n=document.createElement("a");n.style.display="none",n.href=e,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)}},{key:"onClick",value:function(e){e.preventDefault();var t=this.props,n=t.file,a=t.fileName;t.fileType;n&&this.downloadAvailableResource(n,a)}},{key:"render",value:function(){var e=this.props,t=e.icon,n=e.iconProps,a=void 0===n?{}:n,r=e.children,o=t;return i.a.createElement("span",null,i.a.createElement(eo.Button,{type:"flat",name:"download-button",key:"download-file",onClick:this.onClick,styleOverride:{paddingLeft:"10px",fontWeight:"normal",":focus":{outline:"none"}}},t?i.a.createElement(o,a):null,r))}}]),n}(o.Component);Gm.propTypes={children:qr.a.node,file:qr.a.oneOfType([qr.a.string,qr.a.instanceOf(Blob),qr.a.instanceOf(File)]),fileName:qr.a.string.isRequired,icon:qr.a.func,iconProps:qr.a.object},Gm.defaultProps={children:"",file:"",iconProps:{}};var Fm=Gm;function Vm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var Hm=function(e){at()(n,e);var t=Vm(n);function n(e){var a;return Qe()(this,n),(a=t.call(this,e)).props=e,a}return $e()(n,[{key:"columns",get:function(){return[{Header:T.MODEL_TEST_INTENTS_TABLE.rank.header,id:T.MODEL_TEST_INTENTS_TABLE.rank.header,accessor:T.MODEL_TEST_INTENTS_TABLE.rank.id,maxWidth:200,Cell:function(e){return i.a.createElement("div",null,e.index+1)}},{Header:T.MODEL_TEST_INTENTS_TABLE.intent.header,accessor:T.MODEL_TEST_INTENTS_TABLE.intent.id},{Header:T.MODEL_TEST_INTENTS_TABLE.score.header,accessor:T.MODEL_TEST_INTENTS_TABLE.score.id,Cell:function(e){var t=e.value;return P.a.isNil(t)||(t="".concat(t.toFixed(4))),t}}]}},{key:"render",value:function(){return i.a.createElement(eo.Table,{id:"ModelTestIntentsGrid",resizable:!0,data:this.props.data,columns:this.columns,showPagination:!1,defaultSorted:[{id:T.MODEL_TEST_INTENTS_TABLE.rank.header,desc:!1}]})}}]),n}(o.Component);function qm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}Hm.propTypes={data:qr.a.array.isRequired};var Wm=function(e){at()(n,e);var t=qm(n);function n(e){var a;return Qe()(this,n),(a=t.call(this,e)).props=e,a}return $e()(n,[{key:"render",value:function(){return i.a.createElement(eo.Table,{id:"ModelTestTransformsGrid",resizable:!0,data:this.props.data,columns:this.columns,showPagination:!1,defaultPageSize:100,defaultSorted:[{id:T.MODEL_TEST_TRANSFORMS_TABLE.rank.header,desc:!1}]})}},{key:"columns",get:function(){return[{Header:T.MODEL_TEST_TRANSFORMS_TABLE.rank.header,accessor:T.MODEL_TEST_TRANSFORMS_TABLE.rank.id,id:T.MODEL_TEST_TRANSFORMS_TABLE.rank.header,maxWidth:200,Cell:function(e){return i.a.createElement("div",null,e.index+1)}},{Header:T.MODEL_TEST_TRANSFORMS_TABLE.transformation.header,accessor:T.MODEL_TEST_TRANSFORMS_TABLE.transformation.id},{Header:T.MODEL_TEST_TRANSFORMS_TABLE.result.header,accessor:T.MODEL_TEST_TRANSFORMS_TABLE.result.id}]}}]),n}(o.Component);function Km(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}Wm.propTypes={data:qr.a.array.isRequired};var zm=function(e){at()(n,e);var t=Km(n);function n(e){var a;return Qe()(this,n),(a=t.call(this,e)).props=e,a}return $e()(n,[{key:"columns",get:function(){return[{Header:T.MODEL_TEST_ENTITIES_TABLE.name.header,accessor:T.MODEL_TEST_ENTITIES_TABLE.name.id,id:T.MODEL_TEST_ENTITIES_TABLE.name.header},{Header:T.MODEL_TEST_ENTITIES_TABLE.value.header,accessor:T.MODEL_TEST_ENTITIES_TABLE.value.id}]}},{key:"render",value:function(){return i.a.createElement(eo.Table,{id:"ModelTestEntitiesGrid",resizable:!0,data:this.props.data,columns:this.columns,showPagination:!1,defaultSorted:[{id:T.MODEL_TEST_ENTITIES_TABLE.name.header,desc:!1}]})}}]),n}(o.Component);function Ym(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}zm.propTypes={data:qr.a.array.isRequired};var Jm=function(e){at()(n,e);var t=Ym(n);function n(e){var a;return Qe()(this,n),a=t.call(this,e),h()(tt()(a),"onTabSelected",(function(e,t){a.setState({selectedTabIndex:t})})),a.renderModelTestResults=a.renderModelTestResults.bind(tt()(a)),a.renderResultsGrid=a.renderResultsGrid.bind(tt()(a)),a.renderMessage=a.renderMessage.bind(tt()(a)),a.renderEvaluationsResult=a.renderEvaluationsResult.bind(tt()(a)),a.tabs=T.TEST_RESULTS_TABS,a.state={selectedTabIndex:0},a}return $e()(n,[{key:"renderResultsGrid",value:function(e,t){var n="",a=this.tabs,r=a.intentsTab,o=a.transformationsTab,s=a.entitiesTab;if(t.length)switch(e){case r:n=i.a.createElement(Hm,{data:t});break;case o:n=i.a.createElement(Wm,{data:t});break;case s:n=i.a.createElement(zm,{data:t})}else n=this.renderMessage("No ".concat(e," Results"));return i.a.createElement(eo.LegacyRow,{styleOverride:{paddingTop:"30px",paddingBottom:"30px"}},n)}},{key:"renderMessage",value:function(e){var t=this.props.testModelType;return P.a.isNil(e)&&(e=T.DIGITAL_TEST_MESSAGE,t!==T.DIGITAL_SPEECH_MODEL&&t!==T.SPEECH_MODEL||(e=T.SPEECH_TEST_MESSAGE)),i.a.createElement(Lu,{message:e})}},{key:"getFileName",value:function(){return"audio_".concat(Date.now(),".wav")}},{key:"renderEvaluationsResult",value:function(){var e=this.props,t=e.speechModelTestResults,n=e.dispatch,a=e.audioSrc,r=e.fileType,o=t.evaluations,s=(void 0===o?[{}]:o)[0].utterance,c=void 0===s?"":s;return c?i.a.createElement("div",null,i.a.createElement("span",{className:"utterance-result"},c),i.a.createElement(Bm,{audioSrc:a,playIcon:eo.Play,stopIcon:eo.Stop,iconProps:{common:{width:"20px",height:"20px",pathFill:"#004C97",circleStroke:"#004C97"}},dispatch:n}),i.a.createElement("span",{style:{paddingLeft:"0px",paddingRight:"20px"}},i.a.createElement(Fm,{file:a,fileName:this.getFileName(),fileType:r,dispatch:n},i.a.createElement(eo.Download,{width:"12px",height:"16px",fill:"#004C97"})))):""}},{key:"renderModelTestResults",value:function(){var e=this.props,t=e.digitalModelTestResults,n=e.speechModelTestResults,a=e.testModelType,r=t.evaluations,o=void 0===r?[]:r,s=n.evaluations,c=void 0===s?[]:s,l=this.state.selectedTabIndex;if(o.length||c.length){var d="",u=P.a.cloneDeep(o[0]);if(a===T.DIGITAL_SPEECH_MODEL||a===T.SPEECH_MODEL){var p=this.props.speechModelTestResults.evaluations,h=void 0===p?[{}]:p;u=Object.assign({},u,h[0])}var f=u,g=f.utterance,m=void 0===g?"":g,S=f.utteranceWithWordClass,E=void 0===S?"":S,v=f.recognitionScore,y=void 0===v?"":v;(E||m&&a===T.SPEECH_MODEL)&&(y=(100*parseFloat(y)).toFixed(2),d=i.a.createElement(eo.LegacyRow,{styleOverride:{borderBottom:T.BORDER}},i.a.createElement("ul",{className:"utterance-reco-score-ul"},i.a.createElement("li",{className:"center-item-li recognition-score",key:"recognition-score"},"Recognition Score",i.a.createElement("span",{className:"recognition-score-data"}," ","".concat(y," %")," ")),i.a.createElement("li",{className:"center-item-li word-class"},this.renderEvaluationsResult(),i.a.createElement("span",null," Utterance with word class:"),""!==E&&i.a.createElement("span",{style:{fontWeight:"normal",paddingLeft:"5px"}},E)))));var b="";if(a!==T.SPEECH_MODEL){var C=u,I=C.intents,O=void 0===I?[]:I,R=C.transformations,k=void 0===R?[]:R,D=C.entities,_=void 0===D?[]:D,A=this.tabs,N=A.intentsTab,L=A.transformationsTab,j=A.entitiesTab,w=["".concat(N," (").concat(O.length,")"),"".concat(L," (").concat(k.length,")"),"".concat(j," (").concat(_.length,")")],M=[this.renderResultsGrid(N,O),this.renderResultsGrid(L,k),this.renderResultsGrid(j,_)],x=this.props.model;x&&x.vectorizerTechnology!=T.MODEL_TECHNOLOGY.N_GRAM&&(w=w.slice(0,1),M=M.slice(0,1)),b=i.a.createElement(eo.Tabs,{tabs:w,onTabSelected:this.onTabSelected,selectedIndex:l,tabPanels:M,align:"left"})}return i.a.createElement("span",null,d,b)}return this.renderMessage()}},{key:"render",value:function(){return i.a.createElement(eo.LegacyRow,{styleOverride:{borderTop:T.BORDER}},this.renderModelTestResults())}}]),n}(o.PureComponent);Jm.propTypes={speechModelTestResults:qr.a.object,digitalModelTestResults:qr.a.object,testModelType:qr.a.string,audioSrc:qr.a.string,fileType:qr.a.string},Jm.defaultProps={speechModelTestResults:{},digitalModelTestResults:{},testModelType:T.DIGITAL_MODEL,audioSrc:"",fileType:""};var Xm=Jm;function Qm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var Zm=function(e){at()(n,e);var t=Qm(n);function n(e){var a;Qe()(this,n),(a=t.call(this,e)).submitTest=a.submitTest.bind(tt()(a)),a.onRunSingleUtterance=a.onRunSingleUtterance.bind(tt()(a)),a.onModelTypeChange=a.onModelTypeChange.bind(tt()(a)),a.handleAudio=a.handleAudio.bind(tt()(a));var r=a.props.model;return a.state={utterance:"",testModelType:r?r.modelType:"",fileType:"",audioSrc:""},a}return $e()(n,[{key:"componentDidUpdate",value:function(e,t,n){var a=this.props,r=a.runSingleUtterance,o=a.model;r.length&&this.onRunSingleUtterance(r),!t.testModelType&&o&&this.onModelTypeChange(o.modelType)}},{key:"componentDidMount",value:function(){(0,this.props.dispatch)({type:"CLEAR_MODEL_TEST_RESULTS"})}},{key:"onRunSingleUtterance",value:function(e){var t=this,n=this.props.clearRunSingleUtterance;this.setState({utterance:e,testModelType:T.DIGITAL_MODEL},(function(){var a=document.querySelectorAll('[name="utterance"]');P.a.isNil(a)||P.a.isNil(a[0])||(a[0].value=e),n(),t.submitTest(e)}))}},{key:"submitTest",value:function(e){var t=this.props,n=t.dispatch,a=t.model,r=t.client,o=t.projectId,i=this.state.testModelType;if(n({type:"CLEAR_MODEL_TEST_RESULTS"}),P.a.isNil(a))n(tr(T.UNKNOWN_MODEL));else{var s={projectId:o,modelId:a.modelToken,testModelType:i,clientId:r.id,utterances:[e]};n(Xs(s))}}},{key:"onModelTypeChange",value:function(e){var t=this.state.testModelType,n=this.props.dispatch;e!==t&&(this.setState({testModelType:e}),n({type:"CLEAR_MODEL_TEST_RESULTS"}))}},{key:"handleAudio",value:function(e,t){e&&t&&this.setState({fileType:e,audioSrc:t})}},{key:"render",value:function(){var e=this.state,t=e.testModelType,n=e.fileType,a=e.audioSrc,r=this.props,o=r.model,s=r.speechModelTestResults,c=r.digitalModelTestResults,l=r.utterance;return i.a.createElement("div",{id:"ModelTest"},i.a.createElement(eo.LegacyGrid,null,i.a.createElement(wm,{model:o,utterance:l,testModelType:t,onModelTypeChange:this.onModelTypeChange,submitTest:this.submitTest,speechModelTestResults:s,handleAudio:this.handleAudio}),i.a.createElement(Xm,{model:o,speechModelTestResults:s,digitalModelTestResults:c,testModelType:t,fileType:n,audioSrc:a})))}}]),n}(o.Component);Zm.propTypes={userId:qr.a.string,csrfToken:qr.a.string,projectId:qr.a.string,client:qr.a.object,speechModelTestResults:qr.a.object,digitalModelTestResults:qr.a.object,runSingleUtterance:qr.a.string,model:qr.a.object,clearRunSingleUtterance:qr.a.func,utterance:qr.a.string},Zm.defaultProps={speechModelTestResults:{},digitalModelTestResults:{},runSingleUtterance:"",utterance:""};var $m=Object(l.connect)((function(e,t){var n=tm.a(["location","search"],t)||"",a=new dt.a(n).get("modelid"),r=e.projectListSidebar.selectedProjectId,o=e.app;return{userId:o.userId,csrfToken:o.csrfToken,projectId:r,client:e.header.client,model:$i.ProjectsManager.getModel(r,a)||null,speechModelTestResults:e.projectsManager.speechModelTestResults,digitalModelTestResults:e.projectsManager.digitalModelTestResults}}),(function(e){return{dispatch:e}}))(Zm);function eS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function tS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eS(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var aS=function(e){at()(n,e);var t=nS(n);function n(e){var a,r;return Qe()(this,n),r=t.call(this,e),h()(tt()(r),"onTabSelected",(function(e,t){var n=r.props,a=n.client,o=n.projectId,i=n.modelId,s=n.history,c=n.dispatch,l=r.tabs,d=l.batchTestTab,u=l.utteranceTestTab,p="";switch(t){case 0:p=u;break;case 1:p=d,r.onClickBatchTestTab();break;default:p=u}c(pr(r.routes[p],{client:a,projectId:o,modelId:i},s))})),r.onReviewDatasetsClick=r.onReviewDatasetsClick.bind(tt()(r)),r.onTuneModelClick=r.onTuneModelClick.bind(tt()(r)),r.onClickBatchTestTab=r.onClickBatchTestTab.bind(tt()(r)),r.onRunSingleUtterance=r.onRunSingleUtterance.bind(tt()(r)),r.clearRunSingleUtterance=r.clearRunSingleUtterance.bind(tt()(r)),r.getTabs=r.getTabs.bind(tt()(r)),r.tabs=T.TEST_TABS,r.chunks=[],r.routes=(a={},h()(a,r.tabs.utteranceTestTab,ga),h()(a,r.tabs.batchTestTab,ma),a),r.actionItemStyle={fontWeight:"normal",":focus":{outline:"none"}},r.state={runSingleUtterance:""},r}return $e()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,n=e.model,a=e.projectId,r=e.client,o=e.utterance,i={projectId:a,modelId:n.modelToken,clientId:r.id},s=n?n.modelType:"",c=Kn(Dt),l=tS(tS({},i),{},{testModelType:T.DIGITAL_MODEL,utterances:[o]}),d=(tS(tS({},i),{},{fileType:T.FILE_TYPE.UPLOADED,audioFile:c}),[{type:"flat",label:T.TUNE_VERSION,icon:eo.Pencil,onClick:this.onTuneModelClick,styleOverride:this.actionItemStyle}]);s===T.DIGITAL_MODEL?t(Xs(l,!1)):T.DIGITAL_SPEECH_MODEL,t({type:"CLEAR_MODEL_TEST_RESULTS"}),t(xr(d))}},{key:"componentWillUnmount",value:function(){(0,this.props.dispatch)(xr([]))}},{key:"onTuneModelClick",value:function(){var e=this.props,t=e.modelId,n=e.client,a=e.history,r=e.projectId,o=e.dispatch,i=e.model;o(Us(i)),o(pr(ua,{client:n,projectId:r,modelId:t},a))}},{key:"onReviewDatasetsClick",value:function(){var e=this.props,t=e.projectId,n=e.history,a=e.client,r=e.dispatch;r(vd({projectId:t,datasets:[]})),r(pr(aa,{client:a,projectId:t},n))}},{key:"onClickBatchTestTab",value:function(){var e=this.props,t=e.dispatch,n=e.model,a=e.client,r=e.projectId,o=e.userId,i=e.csrfToken;if(P.a.isNil(n)||P.a.isEmpty(n))t(tr(T.UNKNOWN_MODEL));else{var s={userId:o,csrfToken:i,projectId:r,modelId:n.modelToken,clientId:a.id};t(Qs(s))}}},{key:"onRunSingleUtterance",value:function(e){this.setState({runSingleUtterance:e})}},{key:"clearRunSingleUtterance",value:function(){this.setState({runSingleUtterance:""})}},{key:"getTabs",value:function(){var e=this.state.runSingleUtterance,t=void 0===e?"":e,n=this.tabs,a=n.batchTestTab,r=n.utteranceTestTab,o=this.props,s=o.dispatch,c=o.match,l=o.utterance,d=o.model,u=0;c.path===Ma&&(u=1);var p=[i.a.createElement($m,Je()({key:u},this.props,{utterance:l,runSingleUtterance:t,clearRunSingleUtterance:this.clearRunSingleUtterance})),i.a.createElement(_m,Je()({key:u},this.props,{dispatch:s,onTuneModelClick:this.onTuneModelClick,onReviewDatasetsClick:this.onReviewDatasetsClick,onRunSingleUtterance:this.onRunSingleUtterance}))],h=[r,a];return d.modelType===T.SPEECH_MODEL&&(h=[r]),i.a.createElement("div",{id:"ReadProject"},i.a.createElement(eo.Tabs,{tabs:h,tabPanels:p,onTabSelected:this.onTabSelected,align:"left",selectedIndex:u}))}},{key:"render",value:function(){return i.a.createElement("div",{id:"ModelTest"},i.a.createElement(eo.LegacyGrid,{fluid:!0},i.a.createElement(eo.LegacyRow,null,this.getTabs())))}}]),n}(o.Component);aS.propTypes={userId:qr.a.string,csrfToken:qr.a.string,app:qr.a.object,digitalModelTestResults:qr.a.object,projectId:qr.a.string,speechModelTestResults:qr.a.object,modelId:qr.a.string,client:qr.a.object,models:qr.a.object,project:qr.a.object,model:qr.a.object,datasets:qr.a.object},aS.defaultProps={digitalModelTestResults:{},speechModelTestResults:{}};var rS=Object(l.connect)((function(e,t){var n=tm.a(["location","search"],t)||"",a=new dt.a(n),r=e.projectListSidebar.selectedProjectId,o=a.get("modelid"),i=e.app,s=i.userId,c=i.csrfToken,l=e.taggingGuide.searchResults,d=void 0===l?[]:l,u=d.length>0?d[0].examples:"make a reservation";return{userId:s,csrfToken:c,app:e.app,digitalModelTestResults:e.projectsManager.digitalModelTestResults,speechModelTestResults:e.projectsManager.speechModelTestResults,projectId:r,modelId:o,utterance:u,client:e.header.client,models:$i.ProjectsManager.getModelsByProjectId(r)||null,project:$i.ProjectsManager.getProject(r)||null,model:$i.ProjectsManager.getModel(r,o)||{},datasets:$i.ProjectsManager.getDatasetsByProjectId(r,!0)||null}}),(function(e){return{dispatch:e}}))(aS),oS=n(449),iS=n.n(oS),sS=(n(1153),n(711)),cS=n.n(sS),lS=["width","height","color"];function dS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var uS=function(e){at()(n,e);var t=dS(n);function n(){return Qe()(this,n),t.apply(this,arguments)}return $e()(n,[{key:"render",value:function(){var e=this.props,t=e.width,n=e.height,a=e.color;Ie()(e,lS);return i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:n,viewBox:"0 0 100 100"},i.a.createElement("circle",{cx:"11",cy:"12",r:"10",fill:"none",stroke:a,strokeWidth:"2"}),i.a.createElement("circle",{cx:"11",cy:"8.9",r:"2",fill:a,transform:"rotate(-9.3 56.946 14.608)"}),i.a.createElement("circle",{cx:"11.46",cy:"8.502",r:"2",fill:a,transform:"rotate(-6.5 33.473 18.847)"}),i.a.createElement("circle",{cx:"10.202",cy:"6.202",r:"2",fill:a}))}}]),n}(o.PureComponent);uS.defaultProps={width:100,height:100,color:"#989FA9"},uS.propTypes={width:qr.a.number,height:qr.a.number,color:qr.a.string};var pS=uS;function hS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var fS=function(e){at()(n,e);var t=hS(n);function n(e,a){var r;return Qe()(this,n),r=t.call(this,e,a),h()(tt()(r),"onDropDownSelected",(function(e){var t;switch(e){case T.DROPDOWN_PROMOTE:t=r.onClickPromoteProject();break;case T.DROPDOWN_DEMOTE:t=r.onClickDemoteProject();break;case T.DROPDOWN_EDIT:t=r.onClickEditProject();break;case T.DROPDOWN_DELETE:t=r.onClickDeleteProject()}return r.setState({showDropDown:!1}),t})),r.onMouseEnter=r.onMouseEnter.bind(tt()(r)),r.onMouseLeave=r.onMouseLeave.bind(tt()(r)),r.onClickDeleteProject=r.onClickDeleteProject.bind(tt()(r)),r.onClickPromoteProject=r.onClickPromoteProject.bind(tt()(r)),r.onClickDemoteProject=r.onClickDemoteProject.bind(tt()(r)),r.onClickEditProject=r.onClickEditProject.bind(tt()(r)),r.spinnerProps={height:"20px",width:"20px",fill:"#004C97"},r.props=e,r.state={showAction:!1,showDropDown:!1},r}return $e()(n,[{key:"onClickPromoteOk",value:function(e,t){var n=this.props,a=n.dispatch,r=n.globalProjectsByName[t.toLowerCase()];a(us({projectId:e,globalProjectId:r,globalProjectName:t})),a(is(e,T.STATUS.RUNNING)),a(rr(null))}},{key:"onClickPromoteProject",value:function(){var e=this,t=this.props,n=t.project,a=t.dispatch,r=n.id,o=n.name,i="Promote '".concat(o,"' model?");a(rr({header:i,dispatch:a,type:T.DIALOGS.PROMOTE_DIALOG,onClickPromote:function(t){return e.onClickPromoteOk(r,t)}}))}},{key:"onClickDemoteOk",value:function(e){var t=this.props.dispatch;t(function(e){return function(t,n){var a=n().header.client.id,r=zn(jt,{projectId:e,clientId:a});return new Promise((function(a,o){Za.put({dispatch:t,getState:n,url:r,onApiSuccess:function(t){return ss(t,e,ns.projectDemoted)},onApiError:function(t){return cs(t,e)}})}))}}(e)),t(is(e,T.STATUS.RUNNING)),t(rr(null))}},{key:"onClickDemoteProject",value:function(){var e=this,t=this.props,n=t.project,a=t.dispatch,r=n.id,o=n.name,i="Demote '".concat(o,"' model?");a(rr({header:i,dispatch:a,message:"Are you sure you want to demote this model?",type:T.DIALOGS.DELETE_DIALOG,ok:T.DEMOTE,onOk:function(){return e.onClickDemoteOk(r)}}))}},{key:"onClickDeleteOk",value:function(){var e=this.props,t=e.project,n=e.selectedProjectId,a=e.dispatch,r=e.history,o=t.id,i=t.clientId;a(ds(o)),a(is(o,T.STATUS.RUNNING)),a(rr(null)),o===n&&a(pr(oa,{clientId:i},r))}},{key:"onClickDeleteProject",value:function(){var e=this,t=this.props,n=t.project,a=t.dispatch,r=n.name,o="Delete '".concat(r,"' model?");a(rr({header:o,dispatch:a,message:i.a.createElement("div",null,i.a.createElement("p",null,"All your datasets and versions will be permanently deleted. Are you sure you want to delete this model?"),i.a.createElement("p",null,"This cannot be reversed.")),type:T.DIALOGS.DELETE_DIALOG,onOk:function(){return e.onClickDeleteOk()}}))}},{key:"onClickEditProject",value:function(){var e=this.props,t=e.project,n=e.dispatch,a=e.history,r=t.id,o=t.clientId;n(as({projectId:r})),n(pr(va,{clientId:o,projectId:r},a))}},{key:"onMouseEnter",value:function(e){e.preventDefault(),this.setState({showAction:!0})}},{key:"onMouseLeave",value:function(e){e.preventDefault(),this.setState({showAction:!1,showDropDown:!1})}},{key:"getSpinner",value:function(){var e=this.props.status;return(void 0===e?"":e)===T.STATUS.RUNNING?i.a.createElement(eo.DashedSpinner,this.spinnerProps):null}},{key:"getMenuIcon",value:function(e,t){var n=this,a=this.props.userFeatureConfiguration,r=sc,o=this.state.showDropDown,s=[];return e?(s.push(T.DROPDOWN_PROMOTE),s.push(T.DROPDOWN_EDIT),lc(r.projectDelete,a)&&s.push(T.DROPDOWN_DELETE)):t&&s.push(T.DROPDOWN_DEMOTE),i.a.createElement("span",{style:{overflow:"visible"}},i.a.createElement(tp,{onClick:function(){var e=n.state.showDropDown;n.setState({showDropDown:!e})},icon:pS,styleOverride:{outline:"none"},width:70,height:70}),i.a.createElement("span",{onMouseLeave:function(){n.setState({showDropDown:!1})},style:{overflow:"visible"}},o&&i.a.createElement(eo.DropDown,{onItemSelected:function(e){n.onDropDownSelected(e)},itemList:s,styleOverride:{menuList:{top:10,right:55}}})))}},{key:"truncateCount",value:function(e){return e.toString().length>8?"".concat(e.toString().substring(0,7),"..."):e}},{key:"render",value:function(){var e=this.props,t=e.project,n=void 0===t?{}:t,a=e.onClick,r=e.status,o=void 0===r?"":r,s=this.state.showAction,c=n.id,l=n.name,d=n.type===T.PROJECT_TYPE.NODE.NAME&&s&&o!==T.STATUS.RUNNING,u=s&&o!==T.STATUS.RUNNING;return i.a.createElement(cS.a,{justify:"between",key:c,onClick:a,selected:this.props.selected,className:"ProjectListFolderItem",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},i.a.createElement(Jr.a,{direction:"row",flex:!0},i.a.createElement(Jr.a,{direction:"row",align:"center",className:"ProjectListFolderIcon",style:{backgroundColor:"#d7d8d9"}},i.a.createElement(eo.MessageIcon,{stroke:"#7f7f7f"})),i.a.createElement(Jr.a,{flex:!0,className:"ProjectListFolderItemName"},i.a.createElement(Jr.a,{direction:"row"},i.a.createElement(Jr.a,null,i.a.createElement("span",{className:"project-list-menu-icon"},s&&this.getMenuIcon(d,u),this.getSpinner())),i.a.createElement("div",{className:"project-list-item-name"},l)),i.a.createElement("div",{className:"project-list-item-meta"},T.VERSION(65)),i.a.createElement("div",{className:"project-list-item-duration"},"LAST TWO WEEKS"),i.a.createElement("hr",null),i.a.createElement(Jr.a,{direction:"row"},i.a.createElement(Jr.a,{style:{width:"130px"}},i.a.createElement("div",null,i.a.createElement("span",{className:"project-list-volume-count"},i.a.createElement(eo.Tooltip,{content:8e3,direction:"right",enabled:8e3.length>8},i.a.createElement("span",null,this.truncateCount(8e3)))),i.a.createElement("span",{className:"grey-theme-volume"},i.a.createElement(eo.SolidTriangle,{fill:"#6E7887",direction:"down"}),T.PERCENTAGE(1.6)),i.a.createElement("div",{className:"project-list-volume"},T.VOLUME))),i.a.createElement(Jr.a,{style:{width:"130px"}},i.a.createElement("div",null,i.a.createElement("span",{className:"project-list-escalation-count"},i.a.createElement(eo.Tooltip,{content:2850,direction:"right",enabled:2850..length>8},i.a.createElement("span",null,this.truncateCount(2850)))),i.a.createElement("span",{className:"grey-theme-escalation"},i.a.createElement(eo.SolidTriangle,{fill:"#6E7887",direction:"up"}),T.PERCENTAGE(1.8)),i.a.createElement("div",{className:"project-list-escalation"},T.ESCALATION)))))))}}]),n}(o.Component);function gS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}fS.propTypes={index:qr.a.number,project:qr.a.object.isRequired,status:qr.a.string,onClick:qr.a.func,selected:qr.a.bool,dispatch:qr.a.func.isRequired,history:qr.a.object.isRequired};var mS=function(e){at()(n,e);var t=gS(n);function n(e,a){var r;return Qe()(this,n),r=t.call(this,e,a),h()(tt()(r),"onTabSelected",(function(e,t){var n="",a=r.props.projectListSidebar.projects,o=a.filter((function(e){return e.type===T.PROJECT_TYPE.GLOBAL.NAME})),i=a.filter((function(e){return e.type===T.PROJECT_TYPE.NODE.NAME}));switch(t){case 0:if(n=T.PROJECT_TYPE.GLOBAL.NAME,o&&o.length>0){var s=r.selectedIndex(o);null===s&&(s=0),r.handleProjectSelect(s,o)}break;case 1:if(n=T.PROJECT_TYPE.NODE.NAME,i&&i.length>0){var c=r.selectedIndex(i);null===c&&(c=0),r.handleProjectSelect(c,i)}break;default:n=T.PROJECT_TYPE.GLOBAL.NAME}r.setState({activeTab:n})})),h()(tt()(r),"getGlobalTabTitle",(function(e){return i.a.createElement("div",{onMouseEnter:function(){return r.setState({showGlobalInfoTooltip:!0})},onMouseLeave:function(){return r.setState({showGlobalInfoTooltip:!1})}},e,r.state.showGlobalInfoTooltip&&r.getInfoTooltip(T.PROJECT_TYPE.GLOBAL.TOOLTIP))})),h()(tt()(r),"getNodeTabTitle",(function(e){return i.a.createElement("div",{onMouseEnter:function(){return r.setState({showNodeInfoTooltip:!0})},onMouseLeave:function(){return r.setState({showNodeInfoTooltip:!1})}},e,r.state.showNodeInfoTooltip&&r.getInfoTooltip(T.PROJECT_TYPE.NODE.TOOLTIP))})),r.handleProjectSelect=r.handleProjectSelect.bind(tt()(r)),r.loadChunk=r.loadChunk.bind(tt()(r)),r.onClickCreateProject=r.onClickCreateProject.bind(tt()(r)),r.localStorage_key=T.LOCALSTORAGE_KEY.COLLAPSIBLE_SIDEBAR_OPEN,r.renderTabs=r.renderTabs.bind(tt()(r)),r.renderGlobalProjectItems=r.renderGlobalProjectItems.bind(tt()(r)),r.renderNodeProjectItems=r.renderNodeProjectItems.bind(tt()(r)),r.props=e,r.limit=500,r.state={activeTab:T.PROJECT_TYPE.GLOBAL.NAME,showGlobalInfoTooltip:!1,showNodeInfoTooltip:!1},r}return $e()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.projectListSidebar;e.dispatch;P.a.isNil(t.clientId)||0===t.clientId||this.loadChunk()}},{key:"componentDidUpdate",value:function(e){var t,n=this.props.dispatch;e.projectListSidebar.clientId!==this.props.projectListSidebar.clientId&&this.loadChunk(),n((t={technology:"use_large"},function(e,n){var a=t.technology,r=zn(Vn,{technology:a});Za.get({dispatch:e,getState:n,url:r,onApiSuccess:function(e){return yo(e)},onApiError:function(e){return bo(e)}})}))}},{key:"loadChunk",value:function(){var e=this.props.projectListSidebar,t=e.loading,n=e.noMoreProjects,a=e.clientId,r=e.startIndex;t||n||this.props.fetchProjectsByClient({clientId:a||this.props.header.client.id,limit:this.limit,startIndex:r})}},{key:"handleProjectSelect",value:function(e,t){var n=t[e],a=this.props.projectListSidebar.selectedProjectId;if(n&&n.id!=a){var r=this.props.header.client.id;localStorage.projectId=n.id,localStorage.setItem("projectId",n.id),this.props.sidebarSelectProject({projectId:n.id}),this.props.requestProject(n.id),this.props.requestLastImportInfo(n.id),this.props.requestSearch(n.id),this.props.dispatch(pr(ia,{clientId:r,projectId:n.id},this.props.history))}}},{key:"selectedIndex",value:function(e){var t=this.props.projectListSidebar.selectedProjectId;if(!t||!e||!e.length)return null;for(var n=0;n<e.length;n++)if(e[n].id==t)return localStorage.setItem("projectId",t),n;return null}},{key:"onClickCreateProject",value:function(e){e.stopPropagation();var t=this.props,n=t.dispatch,a=t.history,r=t.projectListSidebar.clientId;n(rr({type:T.DIALOGS.CREATE_MODEL_DIALOG,header:T.CREATE_MODEL,dispatch:n,clientId:r,history:a}))}},{key:"getInfoTooltip",value:function(e){return i.a.createElement("span",{className:"tooltip-adjust"},i.a.createElement(eo.Tooltip,{content:e,direction:"bottom"},i.a.createElement("span",null,i.a.createElement(eo.InfoIcon,{width:"15px",height:"13px"}))))}},{key:"getProjectListItems",value:function(e){var t=this.props,n=t.history,a=t.dispatch,r=t.projectsManager,o=t.projectListSidebar,s=t.userFeatureConfiguration,c=o.globalProjectsByName,l=o.selectedProjectId,d=[];return e.length>0&&(d=e.map((function(e,t){return i.a.createElement(fS,{key:e.id,project:e,globalProjectsByName:c,index:t,selectedProjectId:l,status:r.get(e.id).status,history:n,dispatch:a,userFeatureConfiguration:s})}))),d}},{key:"onClickFilter",value:function(){}},{key:"renderIconButtons",value:function(){var e=this.state.activeTab,t=e===T.PROJECT_TYPE.GLOBAL.NAME?"sidebar-filter-global":"sidebar-filter-node";return i.a.createElement("div",null,i.a.createElement("span",{className:t},i.a.createElement(tp,{onClick:this.onClickFilter,icon:eo.Filter,"data-qa":"filter-model",title:"Filter Model",height:12,width:12})),e===T.PROJECT_TYPE.GLOBAL.NAME?null:i.a.createElement("span",{className:"sidebar-create-project"},i.a.createElement(tp,{onClick:this.onClickCreateProject,icon:eo.Plus,strokeColor:"#ffffff","data-qa":"create-model",title:"Create Model",height:12,width:12,styleOverride:{outline:"none"}})))}},{key:"renderGlobalProjectItems",value:function(e,t){var n=this,a=this.props.projectListSidebar.noMoreProjects;return i.a.createElement(iS.a,{selectable:!0,onSelect:function(t){return n.handleProjectSelect(t,e)},onMore:a?null:this.loadChunk,selected:this.selectedIndex(e)},t)}},{key:"renderNodeProjectItems",value:function(e,t){var n=this,a=this.props.projectListSidebar.noMoreProjects;return i.a.createElement(iS.a,{selectable:!0,onSelect:function(t){return n.handleProjectSelect(t,e)},onMore:a?null:this.loadChunk,selected:this.selectedIndex(e)},t)}},{key:"renderTabs",value:function(){var e=this.props.projectListSidebar.projects,t=this.state.activeTab,n=e.filter((function(e){return e.type===T.PROJECT_TYPE.GLOBAL.NAME})),a=e.filter((function(e){return e.type===T.PROJECT_TYPE.NODE.NAME})),r=this.getProjectListItems(n),o=this.getProjectListItems(a),s=this.getGlobalTabTitle(T.PROJECT_TYPE.GLOBAL.TAB_TITLE(r.length)),c=this.getNodeTabTitle(T.PROJECT_TYPE.NODE.TAB_TITLE(o.length)),l=[T.PROJECT_TYPE.GLOBAL.NAME,T.PROJECT_TYPE.NODE.NAME],d=[s,c],u=[this.renderGlobalProjectItems(n,r),this.renderNodeProjectItems(a,o)],p=0;switch(t){case T.PROJECT_TYPE.GLOBAL.NAME:p=0;break;case T.PROJECT_TYPE.NODE.NAME:p=1;break;default:p=0}return i.a.createElement("div",{id:"listsidebar"},i.a.createElement(eo.Tabs,{tabs:l,tabPanels:u,tabNames:d,onTabSelected:this.onTabSelected,align:"left",selectedIndex:p,styleOverride:{tabItem:{padding:"23px 20px 21px"},tabContainer:{borderTop:"none",overflow:"visible",overflowX:"visible",overflowY:"visible"}}}))}},{key:"renderList",value:function(){var e=this.props,t=e.projectListSidebar,n=e.header,a=t.projects,r=t.noMoreProjects,o=n.client,s=o.itsClientId,c=void 0===s?"":s,l=o.itsAppId,d=void 0===l?"":l;return null===a?i.a.createElement(Lu,{message:T.LOADING_MESSAGE}):a.length||r?i.a.createElement("div",null,this.renderTabs()):i.a.createElement(Lu,{message:T.NO_MODELS_AVAILABLE(c,d)})}},{key:"render",value:function(){var e=this.props.isOpen;return i.a.createElement("div",{id:"ProjectListSidebar",className:"listContainer"},e&&this.renderList(),e&&this.renderIconButtons())}}]),n}(o.Component);mS.propTypes={toggleDisplay:qr.a.func,isOpen:qr.a.bool,match:qr.a.object,isGlobalModelOpen:qr.a.bool,isNodeModelOpen:qr.a.bool};var SS=Object(l.connect)((function(e){return{projectListSidebar:e.projectListSidebar,projectsManager:e.projectsManager.projects,userFeatureConfiguration:e.app.userFeatureConfiguration,header:e.header}}),(function(e){return{fetchProjectsByClient:function(t){var n=t.clientId,a=t.startIndex,r=t.limit;e(fs({clientId:n,startIndex:a,limit:r}))},sidebarSelectProject:function(t){var n=t.projectId;e(as({projectId:n}))},collapsibleSidebarSelect:function(t){e(function(e){return{type:"COLLAPSIBLE_SIDEBAR_SELECT",isCollapsibleModelOpen:e}}(t))},requestProject:function(t){e(ei(t))},requestLastImportInfo:function(t){e(ti(t))},requestSearch:function(t){e(ni(t,{property:"count",direction:"desc"}))},dispatch:e}}))(Object(Gc.a)(mS));function ES(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function vS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ES(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ES(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var TS=function(e){return"Version ".concat(e.version)},yS=function(e,t,n,a){var r=t.selectedClient,o=t.selectedProject,i=t.model;if(P.a.isNil(e))return"";var s=e.url?e.url.split("/"):[],c="";i&&(c=TS(i));var l=P.a.isNil(o)?"0":o.id,d=!P.a.isNil(o)&&o.name?o.name:"Loading Model",u=localStorage,p=u.itsAppId,f=function(e){var t=e.itsURLPath,n=e.itsClientId,a=void 0===n?"":n,r=e.itsAppId,o=void 0===r?"":r;return"".concat(t,"?clientid=").concat(a.toLowerCase(),"&appid=").concat(o.toLowerCase())}({itsURLPath:a,itsClientId:u.standardClientId,itsAppId:p}),g=(ze.getState().app.userGroups,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.itsurl;if(t)window.location.href=t;else if(e["data-route"]){var a=e["data-route"];if(a){var o={client:r,projectId:l};ze.dispatch(pr(a,o,n))}}}),m=function(e){var t;return t={},h()(t,"data-route",e),h()(t,"onClick",g.bind(void 0)),t},S=function(e,t){return t=P.a.isNil(t)?Ka[e]:t,vS(vS({onClick:g.bind(void 0),value:e},m(t)),{},{label:(n=e,n.charAt(0).toUpperCase()+n.slice(1))});var n},E=function(){if(-1===e.url.indexOf("".concat(oa,"/create")))return S(d,oa)},v=[],y=vS(vS({},m()),{},{itsurl:f,label:T.BOT_OVERVIEW,value:T.BOT_OVERVIEW});return v=[y],s.forEach((function(e){var t=[];switch(e){case"projects":case"datasets":case"models":case"manage-intents":case"manage-settings":break;case"test":case"batchtest":t.push(S(T.MANAGE_MODELS_DATASETS)),t.push(E()),c&&t.push(vS(vS({},S(c,ca)),{},{label:c}));break;case"view":case"tune":t.push(S(T.MANAGE_MODELS_DATASETS)),t.push(E());var n=ze.getState(),a=n.projectsManager.viewModelId||n.projectsManager.tuneModelId,r=$i.ProjectsManager.getModel(l,a);r&&t.push({label:TS(r),value:a});break;case"settings":v=[];var o=S(T.MANAGE_MODELS_DATASETS);o.label=T.BOT_OVERVIEW,o.value=T.BOT_OVERVIEW,t.push(o);break;default:if(e.length>0)t.push(S(T.MANAGE_MODELS_DATASETS)),E()&&t.push(E())}t.length>0&&(v=[].concat(N()(v),t))})),v};function bS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var CS=function(e){at()(n,e);var t=bS(n);function n(e){var a;return Qe()(this,n),a=t.call(this,e),h()(tt()(a),"closeNotification",(function(){(0,a.props.dispatch)(ar())})),h()(tt()(a),"getNotification",(function(){var e=a.props.app,t=(e=void 0===e?{}:e).notificationType,n=e.serverMessage,r=null;return t&&n&&(r=i.a.createElement(eo.ToastNotification,{type:t,styleOverride:{top:"4px",width:"40%",display:"inline-block",padding:"0px 8px",fontSize:"13px",fontWeight:"normal",lineHeight:"20px"}},n,i.a.createElement(eo.Button,{type:"flat",onClick:a.closeNotification,styleOverride:{marginLeft:"10px",":hover":{boxShadow:"none"},":focus":{outline:"none"}}},i.a.createElement(eo.Xmark,{fill:t===a.types.error?"#c81919":"#00ac86"})))),r})),a.props=e,a.types=T.NOTIFICATION.types,a}return $e()(n,[{key:"render",value:function(){var e=this.props,t=e.selectedProject,n=e.selectedClient,a=e.match,r=e.history,o=e.itsURL,s=yS(a,{selectedClient:n,selectedProject:t},r,o);return i.a.createElement(eo.PageHeader,{title:T.PREFERENCES,breadcrumb:s},this.getNotification())}}]),n}(o.Component);function IS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function OS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IS(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function RS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}CS.defaultProps={history:{},selectedClient:{},selectedProject:{},match:{},itsURL:"",clientId:"",dispatch:function(){}},CS.propTypes={history:qr.a.object,selectedClient:qr.a.object,selectedProject:qr.a.object,match:qr.a.object,itsURL:qr.a.string,dispatch:qr.a.func};var kS=function(e){at()(n,e);var t=RS(n);function n(e){var a,r;return Qe()(this,n),r=t.call(this,e),h()(tt()(r),"closeNotification",(function(){(0,r.props.dispatch)(ar())})),h()(tt()(r),"getSubtitle",(function(e){var t=e.url;return r.subtitleMap[t]||T.MANAGE_MODELS_DATASETS})),h()(tt()(r),"getButtons",(function(){var e=r.props.actionItems;return i.a.createElement("div",null,e.map((function(e,t){return i.a.createElement(eo.Button,{key:t,type:e.type,name:e.label,label:e.label,styleOverride:OS(OS({},e.styleOverride),{},{marginRight:"20px"}),onClick:e.onClick,disabled:e.isDisabled},e.label)})))})),h()(tt()(r),"getNotification",(function(){var e=r.props.app,t=(e=void 0===e?{}:e).notificationType,n=e.serverMessage,a=null;return t&&n&&(a=i.a.createElement(eo.ToastNotification,{type:t,styleOverride:{top:"4px",width:"40%",display:"inline-block",padding:"0px 8px",fontSize:"13px",fontWeight:"normal",lineHeight:"20px"}},n,i.a.createElement(eo.Button,{type:"flat",onClick:r.closeNotification,styleOverride:{marginLeft:"10px",":focus":{outline:"none"},":hover":{boxShadow:"none"}}},i.a.createElement(eo.Xmark,{fill:t===r.types.error?"#c81919":"#00ac86"})))),a})),r.props=e,r.subtitleMap=(a={},h()(a,Ia,"Tag Datasets"),h()(a,Oa,"Tag Datasets Beta"),h()(a,xa,"Resolve Inconsistencies"),h()(a,Ba,"Update Model"),h()(a,_a,"Create Version"),h()(a,Aa,"Create Version"),h()(a,ja,"View Version"),h()(a,Pa,"Tune Version"),h()(a,Na,"Tune Version"),h()(a,La,"View Version"),h()(a,wa,"Test Version"),h()(a,Ma,"Test Version"),a),r.types=T.NOTIFICATION.types,r}return $e()(n,[{key:"render",value:function(){var e=this.props,t=e.selectedProject,n=e.selectedClient,a=e.modelId,r=e.match,o=e.history,s=e.itsURL,c=e.actionItems,l=P.a.isNil(t)?0:t.id,d=null;a&&l&&(d=$i.ProjectsManager.getModel(l,a));var u=yS(r,{selectedClient:n,selectedProject:t,model:d},o,s);return i.a.createElement(eo.PageHeader,{title:this.getSubtitle(r),breadcrumb:u,actionItems:c},this.getNotification()," ",this.getButtons())}}]),n}(o.Component);kS.defaultProps={selectedClient:null,selectedProject:null,history:{},match:{},location:{},actionItems:[]},kS.propTypes={selectedClient:qr.a.object,selectedProject:qr.a.object,match:qr.a.object,history:qr.a.object,location:qr.a.object,itsURL:qr.a.string.isRequired,actionItems:qr.a.array};var DS=kS,_S=function(e){var t=e.iconLink,n=e.title;return i.a.createElement("div",{role:"presentation",style:bc.card},i.a.createElement("img",{src:t,alt:"Application logo",style:bc.icon}),i.a.createElement("div",{style:bc.cardTitle},n))};function AS(e){var t=function(t){eo.KeyboardUtils.shouldHandleCancel(t)&&(0,e.onClose)()};Object(o.useEffect)((function(){return document.addEventListener("keydown",t,!1),function(){document.removeEventListener("keydown",t,!1)}}));var n=e.isOpen,a=e.onClose,r=e.iconLink,s=e.onClickOk,c=e.productName,l=eo.StringUtils.titleCase(c);return i.a.createElement(eo.Dialog,{isOpen:n,headerChildren:"Confirm [24]7ai ".concat(l," Log Out"),onClickCancel:a,onClickClose:a,onClickOk:s,okVisible:!0,cancelVisible:!0,okChildren:T.LOG_OUT,cancelChildren:T.CANCEL,styleOverride:bc.dialog},i.a.createElement(_S,{iconLink:r,title:l}),i.a.createElement("div",{style:bc.text},i.a.createElement("p",{style:bc.text.p},"Logging out will end your [24]7 ".concat(l," session, but your single sign-on session may still be active.")),i.a.createElement("strong",null,"If you have other [24]7ai tools open in other tabs or browsers, you will need to log out of each tool individually."),i.a.createElement("p",{style:bc.text.p},"To protect your privacy, close all browser windows when you have logged out of all tools, especially if you are using a public computer.")))}_S.propTypes={iconLink:qr.a.string.isRequired,title:qr.a.string.isRequired},AS.propTypes={isOpen:qr.a.bool,onClose:qr.a.func.isRequired,onClickOk:qr.a.func.isRequired,iconLink:qr.a.string.isRequired,productName:qr.a.string.isRequired},AS.defaultProps={isOpen:!1};var NS=AS;function LS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var jS=function(e){at()(n,e);var t=LS(n);function n(e){var a;Qe()(this,n),a=t.call(this,e),h()(tt()(a),"onClientPickerSelect",(function(e,t){var n=e.clientId,r=e.appId,o=e.standardClientId,i=e.title;a.setState({showClientPicker:!1,selectedClientConfig:{clientId:n,appId:r},displayClientName:i},(function(){a.props.onSelectClient(o,r)}))})),h()(tt()(a),"shouldShowClientPicker",(function(){var e=a.state.showClientPicker,t=a.props,n=t.selectedClient,r=t.clientList,o=n.itsClientId,i=void 0===o?"":o;return r.length>0&&!i||e})),h()(tt()(a),"onCancel",(function(){a.setState({showClientPicker:!1})})),h()(tt()(a),"getIconLink",(function(){var e=a.props.ufpURL,t="".concat(T.ICON_WORKBENCH,".svg");return"".concat(e,"assets/").concat(t)})),h()(tt()(a),"onClickLogout",(function(){a.setState({showLogoutWarning:!0})})),h()(tt()(a),"hideLogoutDialog",(function(){a.setState({showLogoutWarning:!1})})),h()(tt()(a),"onClickClient",(function(){a.setState({showClientPicker:!0})})),h()(tt()(a),"onClickLogoutOkta",(function(){(0,a.props.dispatch)(ur())})),h()(tt()(a),"onClickSettings",(function(){var e=a.props,t=e.dispatch,n=e.history,r=e.clientId;t(pr(Ca,{clientId:r},n))})),a.props=e,a.getClientAppConfigArray=a.getClientAppConfigArray.bind(tt()(a)),a.clientsConfig={title:T.CLIENT_PICK_TITLE,items:[]};var r=a.props.clientList;return(P.a.isEmpty(a.clientsConfig)||!a.clientsConfig.items.length)&&!P.a.isNil(r)&&r.length>0&&(a.clientsConfig=a.getClientAppConfigArray(a.clientsConfig)),a.state={showClientPicker:!1,selectedClientConfig:{},displayClientName:[],showLogoutWarning:!1},a}return $e()(n,[{key:"getClientAppConfigArray",value:function(e){if(P.a.isEmpty(e)||!e.items.length){var t=this.props.clientList;if(!P.a.isNil(t)&&t.length>0){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.itsAppId,a=t.appDisplayName;return e.push({title:a||eo.StringUtils.titleCase(n),field:"appId",data:{appId:n}}),e};t.forEach((function(a,r){var o=a.itsClientId,i=a.clientDisplayName,s=a.standardClientName,c=i||eo.StringUtils.titleCase(o),l=e.items.find((function(e){return e.title===c}));if(P.a.isNil(l)){var d=t.slice(r).filter((function(e){return e.itsClientId===o})).reduce(n,[]);e.items.push({title:c,field:"clientId",data:{clientId:o,standardClientId:s},items:d})}}))}}return e}},{key:"componentDidUpdate",value:function(e,t){this.clientsConfig=this.getClientAppConfigArray(this.clientsConfig)}},{key:"render",value:function(){var e=this.props,t=e.userName,n=e.email,a=e.userAccountLink,r=e.homeLink,o=e.documentationLink,s=e.supportLink,c=this.state,l=c.selectedClientConfig,d=c.displayClientName,u=c.showLogoutWarning;return i.a.createElement("div",null,i.a.createElement(eo.MultiLevelPicker,{show:this.shouldShowClientPicker(),config:this.clientsConfig,selection:l,maxDepth:2,shouldRetainState:!0,shouldAutoSelect:!0,onCancel:this.onCancel,onSelect:this.onClientPickerSelect}),u&&i.a.createElement(NS,{isOpen:!0,onClose:this.hideLogoutDialog,onClickOk:this.onClickLogoutOkta,productName:T.MODEL_WORKBENCH,iconLink:this.getIconLink()}),i.a.createElement(eo.NavBar,{clientValues:d,userInfo:{name:t,email:n,onSignOut:this.onClickLogout,accountLink:a},productName:T.MODEL_WORKBENCH,onClickClient:this.onClickClient,docLink:o,homeLink:r,supportLink:s},i.a.createElement(eo.NavItem,{right:!0,type:"icon"},i.a.createElement(eo.NavLink,{onClick:this.onClickSettings,value:"settings",href:"javascript:void(0)",target:"_self",icon:eo.SettingsNavIcon}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.selectedClient,a=e.clientId,r=void 0===a?"":a,o=[],i=n.itsClientId,s=void 0===i?"":i,c=n.itsAppId,l=void 0===c?"":c,d=n.clientDisplayName,u=void 0===d?"":d,p=n.appDisplayName,h=void 0===p?"":p;if(!P.a.isNil(s)&&!P.a.isEmpty(s)){var f=u||eo.StringUtils.titleCase(s),g=h||eo.StringUtils.titleCase(l);return o.push(f),o.push(g),{displayClientName:o,selectedClientConfig:{clientId:s,appId:l}}}return r?{displayClientName:o,selectedClientConfig:{clientId:r,appId:l}}:null}}]),n}(o.Component);jS.defaultProps={userName:"no username",email:"",userAccountLink:"",clientList:[],onSelectClient:function(){},selectedClient:null},jS.propTypes={userName:qr.a.string,email:qr.a.string,userAccountLink:qr.a.string,clientList:qr.a.array,onSelectClient:qr.a.func,selectedClient:qr.a.object};var PS=jS,wS=Object(l.connect)((function(e,t){return{}}),(function(e){return{dispatch:e}}))(PS),MS=function(e,t,n){return e.filter((function(e){return e.standardClientName.toLowerCase()===t.toLowerCase()&&e.itsAppId.toLowerCase()===n.toLowerCase()}))[0]},xS=function(e,t){return e.filter((function(e){return e.standardClientName.toLowerCase()===t.toLowerCase()}))};function BS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function US(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var GS=function(e){at()(n,e);var t=US(n);function n(e,a){var r;return Qe()(this,n),r=t.call(this,e,a),h()(tt()(r),"getHomeLink",(function(){var e=r.props,t=e.app,n=void 0===t?{}:t,a=e.selectedClient,o=(void 0===a?{}:a).standardClientName,i=void 0===o?"":o,s=n.ufpURL;return"".concat(void 0===s?"":s,"?clientid=").concat(i)})),r.props=e,r.state={isSidebarOpen:!0,lastActiveClient:void 0},r.onSelectClient=r.onSelectClient.bind(tt()(r)),r.loadingProject=!1,r.loadingModels=!1,r.loadingDatasets=!1,r.loadingConfigs=!1,r.loadingIntents=!1,r}return $e()(n,[{key:"componentDidUpdate",value:function(e,t,n){var a,r,o,i=this,s=this.props,c=s.project,l=s.dispatch,d=s.projects,u=s.datasets,p=s.models,h=s.configs,f=s.intents,g=s.clientList,m=s.selectedClient,S=s.selectedProjectId,E=s.noMoreProjects,v=s.routeClientId,y=s.routeAppId,b=s.routeProjectId,C=(s.isSettingsPage,this.state.lastActiveClient);!P.a.isNil(g)&&g.length>0&&(o=function(e){var t,n=e.clientList,a=e.routeClientId,r=e.routeAppId;if(P.a.isNil(n)||0===n.length)return t;if(a&&!r){var o=xS(n,a);o&&1==o.length&&(t=o[0])}else if(a&&r)t=MS(n,a,r);else if(!a&&!r){var i=localStorage,s=i.standardClientId,c=i.itsAppId;s&&c&&(t=MS(n,s,c)),t||(t=n[0])}return t||{}}({clientList:g,routeClientId:v,routeAppId:y}),P.a.isNil(o)||P.a.isEmpty(o)||P.a.isEqual(C,o)||this.onSelectClient(o.standardClientName,o.itsAppId,!0)),"0"!==m.id&&E&&(a=function(e){var t,n=e.projects,a=e.routeProjectId,r=e.selectedProjectId;if(P.a.isNil(n)||0===n.length)return t;if(P.a.isNil(a)){var o=localStorage.projectId;P.a.isNil(o)?(P.a.isNil(r)||r<0)&&(t=n.values().next().value.id):t=o}else t=a;return P.a.isNil(r)||r!==t||(t=void 0),t}({projects:d,routeProjectId:b,selectedProjectId:S}),P.a.isNil(a)||S===a||(l(as({projectId:a})),r=a),P.a.isNil(c)||(P.a.isNil(r)&&(r=c.id),!this.loadingDatasets&&P.a.isNil(u)&&(this.loadingDatasets=!0,l(function(e){return function(t,n){e="".concat(e);var a,r=new Promise((function(a,r){var o=n(),i=o.app.csrfToken,s=o.app.userDetails.userType,c=o.header.client.id,l=zn(Nt,{projectId:e,clientId:c});pt()(l,{credentials:"same-origin",method:"GET",headers:{"X-CSRF-TOKEN":i}}).then(Pr.handleErrors).then((function(e){return e.json()})).then((function(n){var r={};n&&n.length&&n.forEach((function(t){var n=wr(t),a=!(n.source===T.DATASET_INTERNAL_FLAG&&s===T.USER_TYPE_EXTERNAL);r[n.id]={_key:n.id,id:n.id,clientId:n.clientId,projectId:e,name:n.name,type:n.dataType,description:n.description||"",locale:n.locale,createdAt:n.createdAt,modifiedBy:n.modifiedBy,status:n.transformationStatus,task:n.transformationTask,percentComplete:n.percentComplete,errorCode:n.errorCode,isClickable:a}}));var o,i=Object(L.Map)(r);t({type:"PROJECTS_MANAGER_PROJECT_DATASETS_LOAD_SUCCESS",projectId:(o={projectId:e,datasets:i}).projectId,datasets:o.datasets}),a(i)})).catch((function(n){Pr.dispatchError(n,t,er),t({type:"PROJECTS_MANAGER_PROJECT_DATASETS_LOAD_ERROR",projectId:{projectId:e,error:n}.projectId}),r(n)}))}));return t({type:"PROJECTS_MANAGER_PROJECT_DATASETS_LOAD_REQUEST",projectId:(a={projectId:e,promise:r}).projectId,promise:a.promise}),r}}(r)).then((function(){i.loadingDatasets=!1})).catch((function(){i.loadingDatasets=!1}))),!this.loadingConfigs&&P.a.isNil(h)&&(this.loadingConfigs=!0,l(function(e){return function(t,n){e="".concat(e);var a,r=new Promise((function(a,r){var o=n(),i=o.app.csrfToken,s=o.header.client.id,c=zn(mn,{projectId:e,clientId:s});pt()(c,{credentials:"same-origin",method:"GET",headers:{"X-CSRF-TOKEN":i}}).then(Pr.handleErrors).then((function(e){return e.json()})).then((function(n){var r={};n&&n.length&&n.forEach((function(t){var n=wr(t);if(si.validateJSONString(n.configFile)){var a=JSON.parse(n.configFile);r[n.id]={_key:n.id,id:n.id,projectId:e||null,name:n.name||"",description:a.description||"",created:n.createdAt||null,updated:n.modifiedAt||null,user:n.userId||null,out_of_domain_intent:a.trainingConfigs.out_of_domain_intent||null}}}));var o,i=Object(L.Map)(r);t({type:"PROJECTS_MANAGER_PROJECT_CONFIGS_LOAD_SUCCESS",projectId:(o={projectId:e,configs:i}).projectId,configs:o.configs}),a(i)})).catch((function(n){Pr.dispatchError(n,t,er),t({type:"PROJECTS_MANAGER_PROJECT_CONFIGS_LOAD_ERROR",projectId:{projectId:e,error:n}.projectId}),r(n)}))}));return t({type:"PROJECTS_MANAGER_PROJECT_CONFIGS_LOAD_REQUEST",projectId:(a={projectId:e,promise:r}).projectId,promise:a.promise}),r}}(r)).then((function(){i.loadingConfigs=!1})).catch((function(){i.loadingConfigs=!1}))),!this.loadingModels&&P.a.isNil(p)&&(this.loadingModels=!0,l(bi(r)).then((function(){i.loadingModels=!1})).catch((function(){i.loadingModels=!1}))),!this.loadingIntents&&P.a.isNil(f)&&(this.loadingIntents=!0,l(ti(r)),l(ni(r,{property:"count",direction:"desc"})).then((function(){i.loadingIntents=!1})).catch((function(){i.loadingIntents=!1})))))}},{key:"onSelectClient",value:function(e,t){var n,a=this.props,r=a.clientList,o=a.selectedClient,i=a.history,s=a.dispatch,c=a.location;if(e&&t&&(n=MS(r,e,t)),n&&(!o||n.id!==o.id)){localStorage.clientId!==n.id&&(localStorage.removeItem("projectId"),localStorage.removeItem("itsAppId")),localStorage.clientId=n.id,localStorage.itsClientId=n.itsClientId,localStorage.standardClientId=n.standardClientName,localStorage.itsAppId=n.itsAppId,this.setState({lastActiveClient:n}),s(Vr(n));var l=c.search.indexOf("clientid=".concat(e,"&appid=").concat(t));-1===l&&s(pr(oa,{client:n},i))}}},{key:"render",value:function(){var e,t,n=this.props,a=n.showSidebar,r=n.clientList,o=n.children,s=n.selectedClient,c=n.match,l=n.app,d=n.location,u=n.history,p=n.routeModelId,h=n.project,f=n.actionItems,g=n.userGroup,m=n.routeClientId,S=n.userFeatureConfiguration,E=n.isSettingsPage,v=n.dispatch,T=l.itsURL,y=l.userDetails,b=void 0===y?{}:y,C=l.userAccountLink,I=l.ufpURL,O=l.internalSupportLink,R=l.externalSupportLink,k=l.documentationLink,D=sc,_=b.name,A=void 0===_?"unknown":_,N=b.email,L=void 0===N?"":N,j=this.state.isSidebarOpen,w="main-sidebar-container",M=O;return lc(D.supportLink,S)||(M=R),m&&(t=xS(r,m)),P.a.isNil(t)||P.a.isEmpty(t)||(e=t[0].itsClientId),w+=a?j?" sidebar-open":" sidebar-closed":" sidebar-hidden",r.length?i.a.createElement("main",{id:"app-main"},i.a.createElement("div",{id:"main-navigation-container",className:"navigation-container"},i.a.createElement(wS,{clientList:r,selectedClient:s,onSelectClient:this.onSelectClient,clientId:e,userName:A,email:L,userGroup:g,ufpURL:I,userAccountLink:C,homeLink:this.getHomeLink(),supportLink:M,documentationLink:k,history:u,dispatch:v})),!0===E?i.a.createElement("div",{id:"main-header-container"},i.a.createElement(CS,{selectedProject:h,selectedClient:s,match:c,itsURL:T,actionItems:f,history:u,dispatch:this.props.dispatch,clientId:e,app:this.props.app})):i.a.createElement("div",{id:"main-header-container"},i.a.createElement(DS,{clientList:r,selectedClient:s,modelId:p,match:c,location:d,selectedProject:h,history:u,itsURL:T,actionItems:f,app:this.props.app,dispatch:this.props.dispatch})),i.a.createElement("div",{className:w},i.a.createElement(SS,{isOpen:this.state.isSidebarOpen,match:c})),i.a.createElement("div",{className:"main-separator"}),i.a.createElement("div",{id:"main-content-container"},i.a.createElement(xl,null,o)),i.a.createElement("footer",{id:"main-footer-container"},i.a.createElement("div",{className:"footer-inner-container"}))):null}}]),n}(o.Component);GS.defaultProps={showSidebar:!0,isSettingsPage:!1},GS.propTypes={showSidebar:qr.a.bool,isSettingsPage:qr.a.bool};var FS=Object(l.connect)((function(e,t){var n=tm.a(["location","search"],t)||"",a=new dt.a(n),r=a.get("clientid"),o=a.get("projectid")||void 0,i=a.get("appid"),s=e.projectListSidebar.selectedProjectId,c=a.get("modelid");return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BS(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({app:e.app,userFeatureConfiguration:e.app.userFeatureConfiguration,clientList:e.header.clientList,actionItems:e.header.actionItems,selectedClient:e.header.client,selectedProjectId:s,projects:e.projectListSidebar.projects,noMoreProjects:e.projectListSidebar.noMoreProjects,project:$i.ProjectsManager.getProject(s)||null,datasets:$i.ProjectsManager.getDatasetsByProjectId(s,!0)||null,models:$i.ProjectsManager.getModelsByProjectId(s)||null,configs:$i.ProjectsManager.getConfigsByProjectId(s)||null,intents:$i.ProjectsManager.getIntentsByProjectId(s)||null,routeClientId:r,routeAppId:i,routeProjectId:o,routeModelId:c,csrfToken:e.app.csrfToken,userGroup:e.app.userGroups},t)}),(function(e){return{dispatch:e}}))(GS),VS=["children"];function HS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var qS=function(e){at()(n,e);var t=HS(n);function n(e,a){var r;return Qe()(this,n),(r=t.call(this,e,a)).props=e,r}return $e()(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=Ie()(e,VS);return i.a.createElement(FS,Je()({showSidebar:!1},n),t)}}]),n}(o.Component);qS.propTypes={};var WS=qS,KS=["children"];function zS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var YS=function(e){at()(n,e);var t=zS(n);function n(e,a){var r;return Qe()(this,n),(r=t.call(this,e,a)).props=e,r}return $e()(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=Ie()(e,KS);return i.a.createElement(FS,Je()({isSettingsPage:!0,showSidebar:!1},n),t)}}]),n}(o.Component),JS=["component","layout"],XS=function(e){var t=e.component,n=e.layout,a=Ie()(e,JS);return i.a.createElement(u.a,Je()({},a,{render:function(e){return i.a.createElement(n,e,i.a.createElement(t,e))}}))},QS=function(e){return function(t,n){t(function(e){return{type:"APP_CONFIG_SUCCESS",data:e}}(e));var a=n();!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T.OBJECT_DEFAULT_VALUE,t=e.app,n=t.userDetails,a=void 0===n?"":n;t.amplitudeApiKey,a.name}(a),Ja(Ya.LOGIN_EVENT,a)}},ZS=function(e){return function(t){t({type:"APP_CONFIG_FAILURE",data:e})}},$S=n(693),eE=n.n($S);function tE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var nE=function(e){at()(n,e);var t=tE(n);function n(e){var a;return Qe()(this,n),(a=t.call(this,e)).props=e,a.onClickCancel=a.onClickCancel.bind(tt()(a)),a.onClickOk=a.onClickOk.bind(tt()(a)),a.onSpeech=a.onSpeech.bind(tt()(a)),a.onDigital=a.onDigital.bind(tt()(a)),a.state={digital:!1,speech:!1},a.styleOverride={content:{top:"20%"},ok:{marginLeft:"10px",paddingLeft:"25px",paddingRight:"25px"}},a}return $e()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.clientId,n=e.projectId;(0,e.dispatch)(vo({clientId:t,projectId:n}))}},{key:"onDigital",value:function(){this.setState({digital:!0,speech:!1})}},{key:"onSpeech",value:function(){this.setState({speech:!0,digital:!1})}},{key:"onClickCancel",value:function(){(0,this.props.dispatch)(rr(null))}},{key:"onClickOk",value:function(){var e=this.props,t=e.clientId,n=e.projectId,a=e.history,r=e.dispatch,o=e.isAnyDatasetTransformed,i=this.state,s=i.speech;i.digital&&o&&(r(rr(null)),r(Bs(n)),r(pr(la,{clientId:t,projectId:n},a))),s&&(r(rr(null)),r(_s()),r(pr(da,{clientId:t,projectId:n},a)))}},{key:"render",value:function(){var e=this.props.header,t=this.state,n=t.speech,a=t.digital,r=T.MODEL_TYPE,o=r.DIGITAL,s=r.SPEECH;return i.a.createElement("div",null,i.a.createElement(eo.Dialog,{isOpen:!0,size:"medium",okChildren:"CREATE",headerChildren:e,onClickCancel:this.onClickCancel,onClickOk:this.onClickOk,onClickClose:this.onClickCancel,centerContent:!1,okDisabled:!(a||n),styleOverride:{childContainer:{paddingLeft:"20px",paddingRight:"30px",paddingTop:"30px",paddingBottom:"0px",overflow:"auto",textAlign:"left"},container:{width:"550px",height:"380px",display:"grid",gridTemplateRows:"60px auto 60px"},header:{width:"100%",height:"100%",borderBottom:"1px solid",borderBottomColor:"#DADADA",display:"flex",flexDirection:"column",justifyContent:"center",title:{marginLeft:"23px",marginRight:"20px",fontSize:"20px",fontWeight:"bold"},titleIcon:{marginRight:"20px"}}}},i.a.createElement("div",null,i.a.createElement("div",{className:"checkboxContainerVersion"},i.a.createElement(eo.Radio,{checked:this.state.digital,label:o,onChange:this.onDigital,styleOverride:Vo})),i.a.createElement("div",{style:{paddingLeft:"25px",fontFamily:"Lato",fontSize:"13px"}},i.a.createElement("p",{style:{lineHeight:"1.5em"}},"A digital model is responsible for classification of user text (chat/recognized audio) into user intent")),i.a.createElement(eo.Radio,{checked:this.state.speech,label:s,onChange:this.onSpeech,styleOverride:Vo}),i.a.createElement("div",{style:{paddingLeft:"25px",fontFamily:"Lato",fontSize:"13px"}},i.a.createElement("p",{style:{lineHeight:"1.5em"}},"A speech model is responsible for recognizing user utterances.")))))}}]),n}(o.Component);function aE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}nE.propTypes={header:qr.a.string.isRequired,dispatch:qr.a.func},nE.defaultProps={dispatch:function(){}};var rE=Lr().DISPLAY_MESSAGES,oE=function(e){at()(n,e);var t=aE(n);function n(e){var a;return Qe()(this,n),(a=t.call(this,e)).handleShowHide=a.handleShowHide.bind(tt()(a)),a.handleColumnSelector=a.handleColumnSelector.bind(tt()(a)),a.getInvertedTriangle=a.getInvertedTriangle.bind(tt()(a)),a.state={uncheckingRows:!1,resizedData:{}},a.localStorage_key=T.LOCALSTORAGE_KEY.TAG_DATASET_TABLE,a.tableData={count:{header:"Count",id:"count"},datasets:{header:"Datasets",id:"datasetIds"},uniqueTextString:{header:"Unique Text String",id:"uniqueTextString"},suggestedCategory:{header:"Suggested Category",id:"suggestedTag"},granularIntents:{header:"Granular Intent",id:"manualTag"},ruTag:{header:"Rollup Intent",id:"rutag"},comments:{header:"Comments",id:"comment"}},a}return $e()(n,[{key:"componentWillReceiveProps",value:function(e){this.props=e}},{key:"componentDidMount",value:function(){var e={};try{e=JSON.parse(localStorage.getItem(this.localStorage_key))||{}}catch(e){}e=Object.assign({},e),this.setState({resizedData:e})}},{key:"shouldComponentUpdate",value:function(){return!0}},{key:"getInvertedTriangle",value:function(){return i.a.createElement(eo.InvertedTriangle,null)}},{key:"handleColumnSelector",value:function(){var e={};try{e=JSON.parse(localStorage.getItem(this.localStorage_key))||{}}catch(e){}e=Object.assign({},e),this.setState({resizedData:e})}},{key:"handleShowHide",value:function(){var e=this.props.dispatch;e(rr({dispatch:e,type:T.DIALOGS.COLUMNSELECTOR_DIALOG,header:T.SHOW_OR_HIDE,columnData:this.tableData,localStorageKey:this.localStorage_key,handler:this.handleColumnSelector,getSelectedColumns:this.getSelectedColumns}))}},{key:"gridConfig",get:function(){var e=this,t=this.state.resizedData;return[{Header:this.tableData.count.header,accessor:this.tableData.count.id,sortable:!0,minWidth:Ru.getColumnWidth(t,this.tableData.count.id,90),show:Ru.getColumnVisibility(t,this.tableData.count.id,!0)},{Header:this.tableData.datasets.header,accessor:this.tableData.datasets.id,sortable:!0,minWidth:Ru.getColumnWidth(t,this.tableData.datasets.id,110),show:Ru.getColumnVisibility(t,this.tableData.datasets.id,!0),Cell:function(e){var t=e.row,n=ze.getState().tagDatasets.datasets,a=[];return t.datasetIds&&t.datasetIds.length&&t.datasetIds.forEach((function(e){var t=n.get(e);t&&t.name&&a.push(t.name)})),i.a.createElement("span",null,a.join(", "))}},{Header:this.tableData.uniqueTextString.header,accessor:this.tableData.uniqueTextString.id,sortable:!0,minWidth:Ru.getColumnWidth(t,this.tableData.uniqueTextString.id,450),show:Ru.getColumnVisibility(t,this.tableData.uniqueTextString.id,!0)},{Header:this.tableData.suggestedCategory.header,accessor:this.tableData.suggestedCategory.id,sortable:!0,minWidth:Ru.getColumnWidth(t,this.tableData.suggestedCategory.id,200),show:Ru.getColumnVisibility(t,this.tableData.suggestedCategory.id,!0)},{Header:this.tableData.granularIntents.header,accessor:this.tableData.granularIntents.id,sortable:!0,minWidth:Ru.getColumnWidth(t,this.tableData.granularIntents.id,150),show:Ru.getColumnVisibility(t,this.tableData.granularIntents.id,!0),Cell:function(t){var n=t.original,a=t.index,r=e.props.dispatch,o=ze.getState().tagDatasets,s=o.projectId;return i.a.createElement(ou,{stateKey:"TagDatasetsBeta",value:n.manualTag||"",rowIndex:a,columnIndex:0,maxRowIndex:o.searchResults?o.searchResults.length-1:0,maxColumnIndex:1,stopClickPropagation:!0,projectId:o.projectId,activateNextCellOnEnter:!0,onChange:function(e){var t=n.manualTag||"";e.length?r(ud({projectId:s,hashList:[n.transcriptionHash],intent:e,isUpdate:t.length>0})).then((function(){r(nr(rE.tagUpdated))})).catch((function(){})):r(pd({projectId:s,hashList:[n.transcriptionHash]})).then((function(){r(nr(rE.tagRemoved))})).catch((function(){}))}})}},{Header:this.tableData.ruTag.header,accessor:this.tableData.ruTag.id,sortable:!0,minWidth:Ru.getColumnWidth(t,this.tableData.ruTag.id,150),show:Ru.getColumnVisibility(t,this.tableData.ruTag.id,!0)},{Header:this.tableData.comments.header,accessor:this.tableData.comments.id,sortable:!0,minWidth:Ru.getColumnWidth(t,this.tableData.comments.id,110),show:Ru.getColumnVisibility(t,this.tableData.comments.id,!0)}]}},{key:"handleBulkTagClick",value:function(e){e.preventDefault(),this.bulkManualTag()}},{key:"render",value:function(){var e=this,t=this.props.paddingTop;if(!this.props.tagDatasets.searchResults){var n=this.props.tagDatasets.isLoading;return i.a.createElement("div",{className:"datagridContainer transition",style:{paddingTop:"".concat(t,"px")}},n?i.a.createElement(Lu,{message:T.SEARCHING_IN_PROGRESS}):null)}var a,r=function(){var t={color:"black"};if(e.props.tagDatasets.searchResults&&e.props.tagDatasets.searchResults.length>0){var n=e.props.selection.get("workbench"),a=[];if(void 0!==n){var r=n.toJS();for(var o in r)if(r[o]){var s=o.split("row-")[1];"NaN"!==String(Number(s))&&a.push(Number(s))}}var c=void 0!==n&&void 0!==a?a.length:0,l=c>0?"".concat(c," Rows Selected"):"",d=Math.ceil(e.props.tagDatasets.total/e.props.tagDatasets.limit);return i.a.createElement("div",null,i.a.createElement("span",{style:t},"Page",Math.min(e.props.tagDatasets.currentPage,d))," ","of"," ",d," ","["," ",e.props.tagDatasets.total.toLocaleString()," ","Search Results ]"," ",i.a.createElement("span",{style:t},l))}return i.a.createElement("div",{style:t},"No search results found")};return i.a.createElement("div",{className:"datagridContainer transition",style:{paddingTop:"".concat(t,"px")}},(a=e.props.tagDatasets.searchResults)&&a.length>0?i.a.createElement("div",{className:"actionsTableContainer"},i.a.createElement("div",{className:"columnSelector"},i.a.createElement(eo.Button,{type:"flat",className:"show-hide-btn",name:"show-hide",onClick:e.handleShowHide},"Columns"),i.a.createElement(eo.InvertedTriangle,null)),i.a.createElement("div",{className:"actionTableBtnContainer"},i.a.createElement(qd,null))):i.a.createElement("div",{className:"actionsTableContainer"},i.a.createElement("div",{className:"resultsMessageContainer"},r())),i.a.createElement("div",{className:"tableContainer"},function(){var t,n=e.props.tagDatasets,a=n.searchResults,r=n.isLoading,o=n.limit,s=e.props.tableHeight;return r?i.a.createElement(Lu,{message:T.SEARCHING_IN_PROGRESS}):a&&!a.dropTable&&a.length>0&&(1!==a.length||"-1"!==a[0].fullResult.transcriptionHash)?i.a.createElement(eo.Table,{defaultPageSize:o,style:s,data:a,columns:e.gridConfig,resizable:!0,onResizedChange:function(n){t=Ru.handleTableResizeChange(n,e.localStorage_key),e.setState({resizedData:t})}}):i.a.createElement("div",null)}()),i.a.createElement("div",{className:"gridFooterForSuggestList"}))}}]),n}(o.Component);oE.propTypes={dispatch:qr.a.func};var iE=Object(l.connect)((function(e){return{app:e.app,tagDatasets:e.tagDatasets,filtersCollapsed:e.tagDatasets.isControlsCollapsed,header:e.header,grid:e.grid,dataSource:e.dataSource,data:e.data,selection:e.selection,state:e}}),(function(e){return{dispatch:e}}))(oE);function sE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function cE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var lE=function(e){at()(n,e);var t=cE(n);function n(e,a){var r;return Qe()(this,n),(r=t.call(this,e,a)).loadingProject=!1,r.loadingDatasets=!1,r.completedDatasetsCount=0,r.datasetsLength=0,r.handleHelpClick=r.handleHelpClick.bind(tt()(r)),r.onSearchInputChange=r.onSearchInputChange.bind(tt()(r)),r.onSearchInputSearch=r.onSearchInputSearch.bind(tt()(r)),r.handleSearchSubmitClick=r.handleSearchSubmitClick.bind(tt()(r)),r.search=r.search.bind(tt()(r)),r.handleRadioClick=r.handleRadioClick.bind(tt()(r)),r.handleMultipleFilterClick=r.handleMultipleFilterClick.bind(tt()(r)),r.handleWordCountFilterClick=r.handleWordCountFilterClick.bind(tt()(r)),r.handleHasCommentFilterClick=r.handleHasCommentFilterClick.bind(tt()(r)),r.handleToggleExpandCollapse=r.handleToggleExpandCollapse.bind(tt()(r)),r.onClickExportAllDatasets=r.onClickExportAllDatasets.bind(tt()(r)),r.onClickUpload=r.onClickUpload.bind(tt()(r)),r.onGreaterThanChangeHandler=r.onGreaterThanChangeHandler.bind(tt()(r)),r.radios={labels:["All text strings","Tagged text strings","Untagged text strings"],values:["bothTaggedUntagged","tagged","untagged"],defaultValue:"tagged"},r.cellEditableStateKey="TagDatasetsBeta",r.props=e,r.initialized=!1,r.projectIdCleared=!1,r.state={bothTaggedUntagged:!1,tagged:!0,untagged:!1,selectedRadioValue:"tagged",hasComment:!1,wordGreaterThan:!1,wordCount:15,onlyMultipleTags:!1,query:"",fetchingStats:!1,uniqueStatsBar:{containerClassName:"percentBarContainer percentBarBlueBorderContainer",barClassNames:"percentBar percentBarBlue"},allStatsBar:{containerClassName:"percentBarContainer percentBarBlueBorderContainer",barClassNames:"percentBar percentBarBlue"}},r.tableHeight={maxHeight:"calc(95vh - 385px)"},r}return $e()(n,[{key:"componentWillReceiveProps",value:function(e){var t=this,n=this.props,a=n.tagDatasets,r=n.isControlsCollapsed,o=n.dispatch,i=e.projectId;!a.project||a.projectId&&i&&a.projectId!==i||!a.projectId&&i||a.projectId&&!i?(this.props=e,this.initiate()):this.props=e;var s=!1,c=$i.ProjectsManager.getDatasetsByProjectId(i);if(c){var l=this.props.tagDatasets.filter.datasets,d=[];c.forEach((function(e){e.id&&e.status&&"COMPLETED"==e.status&&e.name&&d.push(e.id)})),d.length!=this.completedDatasetsCount&&(this.completedDatasetsCount=d.length,s=!0),!l.length&&d.length&&(s=!1,setTimeout((function(){o(Ed({datasets:d}))}),100)),r!=this.props.tagDatasets.isControlsCollapsed&&(s=!0)}r!=this.props.tagDatasets.isControlsCollapsed&&(s=!0),s&&setTimeout((function(){t.forceUpdate(),t.initialized||a.projectId&&(t.props.tagDatasets.startIndex=0,t.props.tagDatasets.currentPage=1,t.initialized=!0,t.search())}),250)}},{key:"componentDidMount",value:function(){var e=this.props.dispatch;this.completedDatasetsCount=0,e(yd({stateKey:this.cellEditableStateKey})),e(Od({stateKey:this.cellEditableStateKey})),this.initiate();var t=this.state,n=t.tagged,a=t.untagged,r=t.bothTaggedUntagged,o=t.hasComment,i=t.wordGreaterThan,s=t.wordCount,c=t.onlyMultipleTags,l=this.props.tagDatasets.limit,d={};try{d=JSON.parse(localStorage.getItem("TagDatasetsBeta"))||{}}catch(e){}d=Object.assign({limit:l,untagged:a,tagged:n,bothTaggedUntagged:r,hasComment:o,wordGreaterThan:i,wordCount:s,onlyMultipleTags:c},d),this.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sE(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},d)),l!==d.limit&&e(Jl(d.limit,!1))}},{key:"componentWillUnmount",value:function(){var e=this.props.dispatch;e({type:"TAG_DATASETS_CLEANUP"}),e(bd({stateKey:this.cellEditableStateKey})),e(Rd({stateKey:this.cellEditableStateKey})),e(q.Actions.GridActions.setData({data:[],stateKey:"workbench"}))}},{key:"initiate",value:function(){var e=this,t=this.props,n=t.tagDatasets,a=t.projectId,r=t.clientDataLoaded,o=t.dispatch;if(P.a.isNil(a)||!r||P.a.isNil(n))this.projectIdCleared||(o(gd(null)),this.projectIdCleared=!0);else{a!==n.projectId&&(this.fetchingStats=!0,o(gd(a)),this.props.fetchDatasetStats({projectId:a,filter:{datasets:n.filter.datasets}}).finally((function(){e.fetchingStats=!1})),this.highliteStats());var i=$i.ProjectsManager.getProject(a);void 0!==i&&(n.project&&n.project.id==i.id||o(md({projectId:a,project:i})));var s=$i.ProjectsManager.getDatasetsByProjectId(a);void 0!==s&&o(Sd({projectId:a,datasets:s}))}}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props.tagDatasets,n=t.projectId;P.a.isNil(t)||P.a.isNil(n)||(t.refreshStats&&!this.fetchingStats&&(this.fetchingStats=!0,setTimeout((function(){e.props.fetchDatasetStats({projectId:n,filter:{datasets:t.filter.datasets}}).finally((function(){e.fetchingStats=!1})),e.highliteStats()}),500)),t.pageSearch&&t.projectId&&(t.pageSearch=!1,this.search()))}},{key:"onClickUpload",value:function(){var e=this.props,t=e.tagDatasets,n=e.dispatch,a=t.project;n(rr({type:T.DIALOGS.CREATE_DATASET,project:a}))}},{key:"onClickExportAllDatasets",value:function(){var e=this.props,t=e.tagDatasets,n=e.clientId,a=t.projectId,r=zn(Xt,{projectId:a,clientId:n});document.location=r}},{key:"onSearchInputChange",value:function(e){this.setState({query:e})}},{key:"onSearchInputSearch",value:function(e){var t=this;this.setState({query:e}),setTimeout((function(){t.handleSearchSubmitClick()}),100)}},{key:"handleToggleExpandCollapse",value:function(){var e=this.props.filtersCollapsed;this.tableHeight=e?{maxHeight:"calc(95vh - 385px)"}:{maxHeight:"calc(95vh - 195px)"},ze.dispatch(Td({isCollapsed:!e}))}},{key:"handleHelpClick",value:function(e){e.preventDefault();var t=T.HELP.SEARCH;window.open(t,"_blank")}},{key:"handleRadioClick",value:function(e){var t,n=(t={bothTaggedUntagged:!1,tagged:!1,untagged:!1},h()(t,e,!0),h()(t,"selectedRadioValue",e),t);this.setState(n,(function(){var e={};try{e=JSON.parse(localStorage.getItem("TagDatasetsBeta"))||{}}catch(e){}localStorage.setItem("TagDatasetsBeta",JSON.stringify(Object.assign(e,n)))})),this.props.tagDatasets.bulkTagMode&&this.props.hideBulkTagCell()}},{key:"handleMultipleFilterClick",value:function(){var e=!this.state.onlyMultipleTags;this.setState({onlyMultipleTags:e});var t={};try{t=JSON.parse(localStorage.getItem("TagDatasetsBeta"))||{}}catch(e){}localStorage.setItem("TagDatasetsBeta",JSON.stringify(Object.assign(t,{onlyMultipleTags:e}))),this.props.tagDatasets.bulkTagMode&&this.props.hideBulkTagCell()}},{key:"handleWordCountFilterClick",value:function(){var e=!this.state.wordGreaterThan;this.setState({wordGreaterThan:e});var t={};try{t=JSON.parse(localStorage.getItem("TagDatasetsBeta"))||{}}catch(e){}localStorage.setItem("TagDatasetsBeta",JSON.stringify(Object.assign(t,{wordGreaterThan:e}))),this.props.tagDatasets.bulkTagMode&&this.props.hideBulkTagCell()}},{key:"handleHasCommentFilterClick",value:function(){var e=!this.state.hasComment;this.setState({hasComment:e});var t={};try{t=JSON.parse(localStorage.getItem("TagDatasetsBeta"))||{}}catch(e){}localStorage.setItem("TagDatasetsBeta",JSON.stringify(Object.assign(t,{hasComment:e}))),this.props.tagDatasets.bulkTagMode&&this.props.hideBulkTagCell()}},{key:"onGreaterThanChangeHandler",value:function(e){e.preventDefault();var t=e.target.value;this.setState({wordCount:t});var n={};try{n=JSON.parse(localStorage.getItem("TagDatasetsBeta"))||{}}catch(e){}localStorage.setItem("TagDatasetsBeta",JSON.stringify(Object.assign(n,{wordCount:t}))),this.props.tagDatasets.bulkTagMode&&this.props.hideBulkTagCell()}},{key:"handleSearchSubmitClick",value:function(){this.props.tagDatasets.startIndex=0,this.props.tagDatasets.currentPage=1,this.search()}},{key:"highliteStats",value:function(){var e=this;setTimeout((function(){e.setState({uniqueStatsBar:{containerClassName:"percentBarContainer percentBarGreyBorderContainer",barClassNames:"percentBar percentBarGrey"},allStatsBar:{containerClassName:"percentBarContainer percentBarGreyBorderContainer",barClassNames:"percentBar percentBarGrey"}})}),3e3),this.setState({uniqueStatsBar:{containerClassName:"percentBarContainer percentBarBlueBorderContainer",barClassNames:"percentBar percentBarBlue"},allStatsBar:{containerClassName:"percentBarContainer percentBarOrangeBorderContainer",barClassNames:"percentBar percentBarOrange"}})}},{key:"search",value:function(){var e=this,t=this.props.tagDatasets,n=t.projectId;if(!P.a.isNil(t)&&!P.a.isNil(n)){var a=t.sort,r=this.state.query,o=this.state.onlyMultipleTags?{tagged:this.state.tagged,untagged:this.state.untagged,autoTagCountRange:{min:2}}:{tagged:this.state.tagged,untagged:this.state.untagged};o.datasets=t.filter.datasets,this.state.wordGreaterThan&&(o.wordCountRange={min:this.state.wordCount}),this.state.hasComment&&(o.hasComment=!0);var i=t.startIndex,s=t.limit;t.query=r,t.filter=o,this.props.fetchDatasetSearch({query:r,filter:o,projectId:n,startIndex:i,limit:s,sort:a}),this.props.fetchDatasetStats({projectId:n,filter:{datasets:o.datasets}}).finally((function(){e.fetchingStats=!1}))}}},{key:"render",value:function(){var e=this.props,t=e.tagDatasets,n=e.userFeatureConfiguration,a=e.dispatch,r=t.projectId,o=t.datasetsLoaded,s=t.project,c=t.filter,l=t.isControlsCollapsed,d=this.refs,u=d.searchEl,p=d.datasetsFilterEl,h=d.statsEl,f=$i.ProjectsManager.getDatasetsByProjectId(r);if(!o)return i.a.createElement("div",{className:"openDatasetsContainer"},i.a.createElement("div",{className:"openDatasetProgress"},i.a.createElement("div",{className:"progressContainer"})));if(!s)return i.a.createElement("div",{className:"openDatasetsContainer"},i.a.createElement("div",{className:"openDatasetProgress"},i.a.createElement("div",{className:"progressContainer"},i.a.createElement("p",null,"Requested project is not found."))));if(!f)return i.a.createElement("div",{className:"openDatasetsContainer"},i.a.createElement("div",{className:"openDatasetProgress"},i.a.createElement("div",{className:"progressContainer"},i.a.createElement("p",null,"Requested project does not have transformed datasets."))));var g=t.statsResults.intents,m=t.statsResults.all,S=t.statsResults.unique,E={checked:this.state.onlyMultipleTags,label:"Multiple suggested categories",value:!1,onChange:this.handleMultipleFilterClick},v={checked:this.state.hasComment,label:"Has comment",value:!1,onChange:this.handleHasCommentFilterClick},T={checked:this.state.wordGreaterThan,label:"Word count greater or equal",value:!1,onChange:this.handleWordCountFilterClick},y=function(e){return String("".concat(Number(2*Math.floor(e)),"px"))},b={width:y(S.percent)},C={width:y(m.percent)},I=1;l||(u&&(I+=u.offsetHeight),p&&(I+=p.offsetHeight),h&&(I+=h.offsetHeight));var O=[];return f.forEach((function(e){e.id&&e.status&&"COMPLETED"==e.status&&e.name&&O.push({value:e.id,label:e.name})})),i.a.createElement("div",{className:"openDatasetsContainer",id:"TagDataset"},i.a.createElement("div",{ref:"searchElNav"},i.a.createElement(eo.ContextualActionsBar,null,i.a.createElement(eo.ContextualActionItem,{icon:eo.Plus,onClickAction:this.onClickUpload,"data-qa":"dataset-upload-button"},"UPLOAD"),lc(sc.datasetExport,n)?i.a.createElement(eo.ContextualActionItem,{icon:eo.Download,onClickAction:this.onClickExportAllDatasets,"data-qa":"dataset-export-all-datasets"},"EXPORT ALL DATASETS"):null,i.a.createElement(eo.ContextualActionItem,{right:!0},i.a.createElement("div",{title:"Show/Hide Search Controls",onClick:this.handleToggleExpandCollapse},l?i.a.createElement(hm.a,null):i.a.createElement(hm.b,null))))),l?"":i.a.createElement("div",{className:"openDatasetProgress",style:{zIndex:l?0:10}},i.a.createElement("div",{className:"progressContainer"},i.a.createElement("div",{className:"ribbon searchFilterContainer oddRow",ref:"searchEl"},i.a.createElement(Jr.a,{className:"searchContainer",direction:"row",flex:!0},i.a.createElement(Jr.a,{className:"searchFieldContainer"},i.a.createElement("div",{className:"exampleSearch"},i.a.createElement("div",{className:"searchInputContainer"},i.a.createElement(Ld,{placeholder:"Search",onChange:this.onSearchInputChange,onSearch:this.onSearchInputSearch})),lc(sc.tagSearchHelp,n)?i.a.createElement("div",{className:"searchHelpContainer",onClick:this.handleHelpClick}):i.a.createElement("div",null),i.a.createElement("span",{className:"booleanOperators"},i.a.createElement("span",{className:"boolean"},"Boolean operators:")," ","AND,  OR,  NOT,  AND NOT"))),i.a.createElement(Jr.a,{className:"filtersContainer",flex:!0},i.a.createElement("div",{className:"radiosContainer"},i.a.createElement("div",{className:"radioColContainer col-md-4"},i.a.createElement(eo.RadioGroup,{displayType:"stacked",onChange:this.handleRadioClick,values:this.radios.values,labels:this.radios.labels,value:this.state.selectedRadioValue})),i.a.createElement("div",{className:"checkboxColContainer col-md-4"},i.a.createElement("div",{className:"checkboxContainer"},i.a.createElement(eo.Checkbox,E)),i.a.createElement("div",{className:"checkboxContainer"},i.a.createElement(eo.Checkbox,T),"  ",i.a.createElement("div",{className:"selectContainer"},i.a.createElement("select",{onChange:this.onGreaterThanChangeHandler,value:this.state.wordCount},i.a.createElement("option",{value:"1"},"1"),i.a.createElement("option",{value:"2"},"2"),i.a.createElement("option",{value:"3"},"3"),i.a.createElement("option",{value:"4"},"4"),i.a.createElement("option",{value:"5"},"5"),i.a.createElement("option",{value:"6"},"6"),i.a.createElement("option",{value:"7"},"7"),i.a.createElement("option",{value:"8"},"8"),i.a.createElement("option",{value:"9"},"9"),i.a.createElement("option",{value:"10"},"10"),i.a.createElement("option",{value:"11"},"11"),i.a.createElement("option",{value:"12"},"12"),i.a.createElement("option",{value:"13"},"13"),i.a.createElement("option",{value:"14"},"14"),i.a.createElement("option",{value:"15"},"15")))),i.a.createElement("div",{className:"checkboxContainer"},i.a.createElement(eo.Checkbox,v))),i.a.createElement("div",{className:"checkboxColContainer col-md-4"},i.a.createElement("div",{className:"applyFiltersColContainer"},i.a.createElement(eo.Button,{onClick:this.handleSearchSubmitClick,name:"submit",styleOverride:{padding:"0 20px"}},"APPLY FILTERS"))))))),i.a.createElement("div",{className:"ribbon datasetsFilterContainer oddRow",ref:"datasetsFilterEl"},i.a.createElement(ic,{label:"Datasets Filter:",className:"DatasetsFilter",options:O,value:c.datasets,onChange:function(e){a(Ed({datasets:e}))},allowEmpty:!1})),i.a.createElement("div",{className:"ribbon statsContainer oddRow",ref:"statsEl"},i.a.createElement("div",{className:"stat"},i.a.createElement("div",{className:"statLabel"},i.a.createElement("p",null,"Total: ",i.a.createElement("span",{className:"nums"},g," ","tags")))),i.a.createElement("div",{className:"stat bar"},i.a.createElement("div",{className:"statLabel"},i.a.createElement("p",null,"Unique Text Strings: ",i.a.createElement(Ul.a,{baseClassName:"nums",animationClassName:"animateColor",animate:!0===t.refreshStats},S.tagged.toLocaleString()," ","/",S.total.toLocaleString()),i.a.createElement("span",{className:"nums"}," (",Number(S.percent).toFixed(2),"% tagged)"))),i.a.createElement("div",{className:this.state.uniqueStatsBar.containerClassName},i.a.createElement("div",{className:this.state.uniqueStatsBar.barClassNames,style:b}))),i.a.createElement("div",{className:"stat bar"},i.a.createElement("div",{className:"statLabel"},i.a.createElement("p",null,"All Text Strings: ",i.a.createElement(Ul.a,{baseClassName:"nums",animationClassName:"animateColor",animate:!0===t.refreshStats},m.tagged.toLocaleString()," ","/",m.total.toLocaleString()),i.a.createElement("span",{className:"nums"}," (",Number(m.percent).toFixed(2),"% tagged)"))),i.a.createElement("div",{className:this.state.allStatsBar.containerClassName},i.a.createElement("div",{className:this.state.allStatsBar.barClassNames,style:C})))))),i.a.createElement(iE,{tableHeight:this.tableHeight,paddingTop:I}))}}]),n}(o.Component),dE=Object(l.connect)((function(e){return{projectsManager:e.projectsManager,tagDatasets:e.tagDatasets,clientName:e.header.client.name,clientId:e.header.client.id,filtersCollapsed:e.tagDatasets.isControlsCollapsed,projectId:e.projectListSidebar.selectedProjectId,userFeatureConfiguration:e.app.userFeatureConfiguration,clientDataLoaded:e.projectsManager.clientDataLoaded}}),(function(e){return{hideBulkTagCell:function(){e({type:"HIDE_BULK_TAG_CELL"})},updateQuery:function(t){e(Ql(t))},updateFilters:function(t){e(Xl(t))},updateColumnSort:function(t){e(ad(t))},fetchDatasetSearch:function(t){var n=t.query,a=t.filter,r=t.projectId,o=t.startIndex,i=t.limit,s=t.sort;return e(ed({query:n,filter:a,projectId:r,startIndex:o,limit:i,sort:s}))},fetchSimulateDatasetSearch:function(t,n){e($l(t,n))},fetchDatasetStats:function(t){var n=t.projectId,a=t.filter;return e(Wl({projectId:n,filter:a}))},dispatch:e}}))(lE);function uE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function pE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var hE=function(e){at()(n,e);var t=pE(n);function n(e){var a;return Qe()(this,n),(a=t.call(this,e)).props=e,a.onClickCancel=a.onClickCancel.bind(tt()(a)),a.styleOverride=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uE(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({content:{top:"20%"}},Ho),a}return $e()(n,[{key:"onClickCancel",value:function(){(0,this.props.dispatch)(rr(null))}},{key:"render",value:function(){var e=this.props,t=e.onOk,n=e.header,a=e.message,r=e.ok,o=e.size;return i.a.createElement("div",null,i.a.createElement(eo.Dialog,{isOpen:!0,onClickOk:t,okVisible:!0,okChildren:r,closeIconVisible:!0,onClickClose:this.onClickCancel,onClickCancel:this.onClickCancel,cancelChildren:T.CANCEL,styleOverride:this.styleOverride,headerChildren:n,centerContent:!1,size:o},a))}}]),n}(o.Component);function fE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function gE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}hE.defaultProps={message:"",dispatch:function(){},ok:T.DELETE,size:"small"},hE.propTypes={dispatch:qr.a.func,onOk:qr.a.func.isRequired,header:qr.a.node.isRequired,message:qr.a.node,ok:qr.a.string,size:qr.a.string};var mE=function(e){at()(n,e);var t=gE(n);function n(e){var a;return Qe()(this,n),(a=t.call(this,e)).props=e,a.onClickCancel=a.onClickCancel.bind(tt()(a)),a.onClickOk=a.onClickOk.bind(tt()(a)),a.onChange=a.onChange.bind(tt()(a)),a.state={selectedValue:""},a.styleOverride=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fE(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({content:{top:"20%"},ok:{marginLeft:"10px",paddingLeft:"25px",paddingRight:"25px"}},Ho),a}return $e()(n,[{key:"onChange",value:function(e){this.setState({selectedValue:e})}},{key:"onClickCancel",value:function(){var e=this.props,t=e.dispatch,n=e.onClickCancel;n(),t(rr(null))}},{key:"onClickOk",value:function(){(0,this.props.onClickPromote)(this.state.selectedValue)}},{key:"render",value:function(){var e=this.props.header,t=this.state.selectedValue,n=T.PROJECT_TYPE.GLOBAL.MODELS_NAME,a=n.SOCIAL,r=n.SENTIMENT,o=n.YES_NO,s=n.ROOT_INTENT;return i.a.createElement("div",null,i.a.createElement(eo.Dialog,{size:"medium",okChildren:T.PROMOTE,headerChildren:e,onClickCancel:this.onClickCancel,onClickOk:this.onClickOk,onClickClose:this.onClickCancel,isOpen:!0,centerContent:!1,okDisabled:!t,styleOverride:this.styleOverride},i.a.createElement("div",null,i.a.createElement("p",null,"Select global model name:"),i.a.createElement(eo.RadioGroup,{values:[s,r,a,o],labels:[s,r,a,o],onChange:this.onChange,value:t}))))}}]),n}(o.Component);function SE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}mE.propTypes={header:qr.a.string.isRequired,onClickCancel:qr.a.func,onClickPromote:qr.a.func.isRequired,dispatch:qr.a.func},mE.defaultProps={onClickCancel:function(){},dispatch:function(){}};var EE=Lr().DISPLAY_MESSAGES,vE=function(e){at()(n,e);var t=SE(n);function n(e){var a;Qe()(this,n),(a=t.call(this,e)).onClick=a.onClick.bind(tt()(a)),a.getMicrophone=a.getMicrophone.bind(tt()(a)),a.stopMicrophone=a.stopMicrophone.bind(tt()(a)),a.createMediaRecorder=a.createMediaRecorder.bind(tt()(a)),a.mediaRecorder=null,a.chunks=[];var r=a.props.registerCallbacks;return a.state={disabled:!1,active:!1,audio:null},r({stopMicrophone:a.stopMicrophone}),a}return $e()(n,[{key:"componentWillUnmount",value:function(){this.stopMicrophone()}},{key:"createMediaRecorder",value:function(){var e=this,t=this.props,n=t.onStop,a=t.onRecord,r=this.state.audio;this.mediaRecorder=new MediaRecorder(r),this.mediaRecorder.addEventListener("start",(function(e){a()})),this.mediaRecorder.addEventListener("stop",(function(t){var a=new Blob(e.chunks,{type:T.AUDIO_TYPE_WAV});e.chunks=[],n(a)})),this.mediaRecorder.addEventListener("dataavailable",(function(t){e.chunks.push(t.data)}))}},{key:"getMicrophone",value:function(){var e=this,t=this.props.dispatch;navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then((function(n){e.setState({audio:n,active:!0},(function(){try{e.createMediaRecorder(),e.mediaRecorder.start()}catch(e){t(tr(EE.audioRecordFail))}}))})).catch((function(n){"NotAllowedError"===n.name?(t(tr(EE.micPermissionDenied)),e.setState({disabled:!0})):t(tr(EE.audioRecordFail))}))}},{key:"stopMicrophone",value:function(){var e=this.state.audio;e&&(e.getAudioTracks().forEach((function(e){return e.stop()})),this.mediaRecorder.stop(),this.setState({audio:null,active:!1}))}},{key:"onClick",value:function(e){e.preventDefault(),this.state.active?this.stopMicrophone():this.getMicrophone()}},{key:"render",value:function(){var e=this.props,t=e.recordIcon,n=e.stopIcon,a=e.iconProps,r=e.styleOverride,o=e.children,s=this.state,c=s.active,l=s.disabled,d=a.recordProps,u=void 0===d?{}:d,p=a.stopProps,h=t,f=u;c&&(h=n,f=void 0===p?{}:p);var g=r.button,m=void 0===g?{":focus":{outline:"none"},":hover":{color:"#003467",boxShadow:"none"}}:g;return l&&(f=Object.assign({},f,{fill:"#bdbdbd"})),i.a.createElement(eo.Button,{type:"flat",name:"AudioRecorder-button",styleOverride:m,onClick:this.onClick},i.a.createElement(h,f),o)}}]),n}(o.Component);vE.propTypes={children:qr.a.node,recordIcon:qr.a.func.isRequired,stopIcon:qr.a.func.isRequired,iconProps:qr.a.object,onRecord:qr.a.func,onStop:qr.a.func,styleOverride:qr.a.object,dispatch:qr.a.func,registerCallbacks:qr.a.func},vE.defaultProps={children:"",audioSrc:"",iconProps:{},onRecord:function(){},onStop:function(){},dispatch:function(){},styleOverride:{},registerCallbacks:function(){}};var TE=vE;function yE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function bE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yE(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function CE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var IE=Lr().DISPLAY_MESSAGES,OE=function(e){at()(n,e);var t=CE(n);function n(e){var a;return Qe()(this,n),(a=t.call(this,e)).props=e,a.audioStates={beforeRecording:"beforeRecording",recording:"recording",beforePlaying:"beforePlaying",playing:"playing"},a.subtileMap={beforeRecording:"START",recording:"STOP",beforePlaying:"PLAY",playing:"STOP"},a.initialState={isRunTestDisable:!0,isPlayButtonEnabled:!1,seconds:T.RECORDING_MAX_TIME_LIMIT_SEC,minutes:T.RECORDING_MAX_TIME_LIMIT_MIN,audioFile:"",audioSrc:"",audioState:a.audioStates.beforeRecording},a.state=bE({},a.initialState),a.registerCallbacks=a.registerCallbacks.bind(tt()(a)),a.onClickClose=a.onClickClose.bind(tt()(a)),a.onClickStartRecord=a.onClickStartRecord.bind(tt()(a)),a.onClickStopRecord=a.onClickStopRecord.bind(tt()(a)),a.onClickRecordNew=a.onClickRecordNew.bind(tt()(a)),a.onClickRunTest=a.onClickRunTest.bind(tt()(a)),a.setAudioState=a.setAudioState.bind(tt()(a)),a.renderChildren=a.renderChildren.bind(tt()(a)),a.tick=a.tick.bind(tt()(a)),a.timer=null,a.callbacks={},a.styleOverride={container:{width:"500px",height:"340px",display:"grid",gridTemplateRows:"60px auto 60px"},childContainer:{marginTop:"10px",marginBottom:"10px"},cancel:{backgroundColor:"unset",paddingLeft:"10px",paddingRight:"10px"},ok:{marginLeft:"10px",paddingLeft:"25px",paddingRight:"25px"}},a}return $e()(n,[{key:"registerCallbacks",value:function(e){this.callbacks=bE(bE({},this.callbacks),e)}},{key:"tick",value:function(){var e=this.state.seconds;if(0===e){clearInterval(this.timer);var t=this.callbacks.stopMicrophone;(void 0===t?T.noop:t)()}else this.setState({seconds:--e})}},{key:"onClickClose",value:function(){var e=this.props.dispatch;this.setState(this.initialState),e(rr(null))}},{key:"onClickStartRecord",value:function(){this.timer=setInterval(this.tick,1e3),this.setState({audioState:this.audioStates.recording})}},{key:"onClickStopRecord",value:function(e){clearInterval(this.timer),this.setState({isPlayButtonEnabled:!0,isRunTestDisable:!1,seconds:T.RECORDING_MAX_TIME_LIMIT_SEC,audioState:this.audioStates.beforePlaying,audioFile:e,audioSrc:URL.createObjectURL(e)})}},{key:"onClickRecordNew",value:function(){this.setState(this.initialState)}},{key:"onClickRunTest",value:function(){var e=this.props,t=e.dispatch,n=e.onClickRunTest,a=this.state.audioFile;a?(t(rr(null)),n(a)):t(tr(IE.audioFileNotAvailable))}},{key:"setAudioState",value:function(e){this.setState({audioState:e})}},{key:"getFileName",value:function(){return"recording_".concat(Date.now(),".wav")}},{key:"getActionSubtitle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"blueText",t=this.state.audioState,n="";switch(t){case this.audioStates.recording:e="blueText";break;case this.audioStates.beforePlaying:case this.audioStates.playing:var a=this.props.dispatch,r=this.state.audioSrc;n=i.a.createElement("span",{style:{paddingLeft:"10px"}},i.a.createElement(eo.PrimaryDivider,{fill:"#004C97"}),i.a.createElement(Fm,{file:r,fileName:this.getFileName(),fileType:T.FILE_TYPE.RECORDING,dispatch:a},"DOWNLOAD"))}return i.a.createElement("span",{className:"speech-recording-span ".concat(e)},this.subtileMap[t],n)}},{key:"renderChildren",value:function(){var e=this.props.dispatch,t=this.state,n=t.minutes,a=t.seconds,r=t.audioState,o=t.audioSrc;switch(r){case this.audioStates.beforeRecording:case this.audioStates.recording:return i.a.createElement("span",null,r===this.audioStates.recording?i.a.createElement("span",{className:"speech-recording-timer"},n,":",a):null,i.a.createElement("div",{className:"record-icon"},i.a.createElement(TE,{recordIcon:eo.StartRecordingIcon,stopIcon:eo.StopRecordingIcon,iconProps:{stopProps:{fill:"#004C97"},recordProps:{fill:"#004C97"}},styleOverride:{button:{height:"70px",":focus":{outline:"none"},":hover":{boxShadow:"none"}}},buttonHeight:"70px",onRecord:this.onClickStartRecord,onStop:this.onClickStopRecord,registerCallbacks:this.registerCallbacks,dispatch:e})));case this.audioStates.beforePlaying:case this.audioStates.playing:return i.a.createElement("span",null,i.a.createElement("div",{className:"record-icon"},i.a.createElement(Bm,{audioSrc:o,playIcon:eo.PlayRecordingIcon,stopIcon:eo.StopRecordingIcon,iconProps:{stopProps:{fill:"#004C97"},playProps:{fill:"#004C97"}},styleOverride:{button:{height:"70px",":focus":{outline:"none"},":hover":{boxShadow:"none"}}},onPlay:this.setAudioState,onStop:this.setAudioState,audioStates:this.audioStates,dispatch:e})));default:return""}}},{key:"render",value:function(){var e=this.props.header,t=this.state,n=t.isPlayButtonEnabled,a=t.isRunTestDisable;return i.a.createElement("div",null,i.a.createElement(eo.Dialog,{isOpen:!0,closeIconVisible:!0,onClickClose:this.onClickClose,okVisible:!0,okChildren:T.RUN_TEST,onClickOk:this.onClickRunTest,okDisabled:a,cancelVisible:n,cancelChildren:"RECORD AGAIN",onClickCancel:this.onClickRecordNew,headerChildren:e,centerContent:!0,styleOverride:this.styleOverride,showBodySeperator:!1},this.renderChildren(),this.getActionSubtitle()))}}]),n}(o.Component);function RE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}OE.defaultProps={header:"",onClickRunTest:function(){},dispatch:function(){}},OE.propTypes={dispatch:qr.a.func,header:qr.a.node,onClickRunTest:qr.a.func};var kE=function(e){at()(n,e);var t=RE(n);function n(e){var a;Qe()(this,n),(a=t.call(this,e)).props=e,a.onClickCancel=a.onClickCancel.bind(tt()(a)),a.onClickOk=a.onClickOk.bind(tt()(a)),a.onChange=a.onChange.bind(tt()(a)),a.onColumnBindChange=a.onColumnBindChange.bind(tt()(a));var r=a.props.createDatasetDialog,o=r.isBindingValid,i=r.columnsBinding,s=r.skipFirstRow;return a.state={isBindingValid:o,columnsBinding:i,skipFirstRow:s},a}return $e()(n,[{key:"onClickCancel",value:function(){var e=this.props.dispatch;e(ar()),e({type:"CREATE_DATASET_DIALOG_RESET"}),e(rr(null))}},{key:"onChange",value:function(){var e=this.props.dispatch,t=this.state.skipFirstRow;this.setState({skipFirstRow:!t},(function(){e(ll({skipFirstRow:!t}))}))}},{key:"onClickOk",value:function(){(0,this.props.onOk)()}},{key:"onColumnBindChange",value:function(e){var t=e.bindingArray,n=e.isBindingValid,a=e.columnsBinding,r=e.isPreSelected,o=this.props.dispatch;this.setState({columnsBinding:a,isBindingValid:n},(function(){o(cl({bindingArray:t,isBindingValid:n,columnsBinding:a,isPreSelected:r}))}))}},{key:"render",value:function(){var e=this.state,t=e.columnsBinding,n=e.isBindingValid,a=e.skipFirstRow,r=this.props.createDatasetDialog,o=r.previewData,s=r.columns,c=r.isPreSelected,l=r.isMappingRequestLoading,d=[],u=[],p=[];return s&&s.length&&s.forEach((function(e,n){var a=!1;e.required&&(a=!0,d.push(i.a.createElement("span",{className:"Required",key:n},e.displayName))),void 0!==t[e.name]?u.push(i.a.createElement("span",{className:"Selected".concat(a?" Required":""),key:n},e.displayName)):p.push(i.a.createElement("span",{className:"Skipped".concat(a?" Required":""),key:n},e.displayName))})),i.a.createElement("div",null,i.a.createElement(eo.Dialog,{isOpen:!0,okVisible:!0,okChildren:T.NEXT,onClickOk:n&&!l?this.onClickOk:null,closeIconVisible:!0,onClickClose:this.onClickCancel,cancelVisible:!0,onClickCancel:l?null:this.onClickCancel,cancelChildren:T.CANCEL,headerChildren:T.COLUMNS_MAPPER,centerContent:!1,styleOverride:{content:{maxWidth:"800px",minHeight:"500px",left:"calc((100vw - 800px) / 2)"},ok:{marginLeft:"10px",paddingLeft:"25px",paddingRight:"25px"},overlay:{zIndex:9e3}}},i.a.createElement(Jr.a,{id:"CreateDatasetMapping",className:"TaggerMapping",flex:!0,direction:"column"},i.a.createElement(Jr.a,null,"Please choose corresponding columns for the file uploaded.",c?i.a.createElement("div",{className:"notice"},"Notice: some columns were selected automatically based on first row data."):null),i.a.createElement(Jr.a,{className:"ContentRow BindingInfo",direction:"column"},i.a.createElement(Jr.a,{direction:"row"},i.a.createElement(Jr.a,{className:"InfoLabel"},"Required:"),i.a.createElement(Jr.a,{className:"InfoText".concat(d.length?"":" Empty"),flex:!0,direction:"row"},d.length?d.reduce((function(e,t){return[e,", ",t]})):i.a.createElement("span",null,"none"))),i.a.createElement(Jr.a,{direction:"row"},i.a.createElement(Jr.a,{className:"InfoLabel"},"Selected:"),i.a.createElement(Jr.a,{className:"InfoText".concat(u.length?"":" Empty"),flex:!0,direction:"row"},u.length?u.reduce((function(e,t){return[e,", ",t]})):i.a.createElement("span",null,"none"))),i.a.createElement(Jr.a,{direction:"row"},i.a.createElement(Jr.a,{className:"InfoLabel"},"Skipped:"),i.a.createElement(Jr.a,{className:"InfoText".concat(p.length?"":" Empty"),flex:!0,direction:"row"},p.length?p.reduce((function(e,t){return[e,", ",t]})):i.a.createElement("span",null,"none")))),i.a.createElement(zc,{data:o,columns:s,columnsBinding:t,onColumnBindChange:this.onColumnBindChange}),i.a.createElement(Jr.a,{className:"ContentRow SkipFirstRow"},i.a.createElement(eo.Checkbox,{checked:a,value:"skip-first-row",label:"Skip First Row",onChange:this.onChange})))))}}]),n}(o.Component);function DE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DE(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function AE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}kE.propTypes={dispatch:qr.a.func,createDatasetDialog:qr.a.object,onOk:qr.a.func},kE.defaultProps={dispatch:function(){},createDatasetDialog:{},onOk:function(){}};var NE=T.TAGGING_GUIDE_TABLE,LE=function(e){at()(n,e);var t=AE(n);function n(e){var a,r;return Qe()(this,n),(r=t.call(this,e)).props=e,r.onClickClose=r.onClickClose.bind(tt()(r)),r.onClickAdd=r.onClickAdd.bind(tt()(r)),r.renderForm=r.renderForm.bind(tt()(r)),r.renderItem=r.renderItem.bind(tt()(r)),r.onChange=r.onChange.bind(tt()(r)),r.styleOverride=_E({cancel:{backgroundColor:"unset",paddingLeft:"10px",paddingRight:"10px"},ok:{marginLeft:"10px",paddingLeft:"25px",paddingRight:"25px"}},Ho),r.initialState=(a={},h()(a,NE.granularIntent.id,""),h()(a,NE.rollupIntent.id,""),h()(a,NE.description.id,""),h()(a,NE.keywords.id,""),h()(a,NE.examples.id,""),h()(a,NE.comments.id,""),h()(a,"valid",{}),a),r.state=_E({},r.initialState),r}return $e()(n,[{key:"onChange",value:function(e){var t,n=this.props.validateData,a=e.target,r=a.value,o=a.name;n(r,o)?this.setState((t={},h()(t,o,r),h()(t,"valid",_E(_E({},this.state.valid),{},h()({},o,!0))),t)):this.setState({valid:_E(_E({},this.state.valid),{},h()({},o,!1))})}},{key:"onClickAdd",value:function(){var e=this.props.onClickAdd;e(this.state),this.onClickClose()}},{key:"onClickClose",value:function(){var e=this.props.dispatch;this.setState(this.initialState),e(rr(null))}},{key:"renderItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T.TEXTFIELD,n=this.state.valid,a={type:"text",name:e.id,placeholder:e.placeholder,onChange:this.onChange,styleOverride:{width:"320px"},invalid:!1===n[e.id],tooltipText:e.tooltipText};return i.a.createElement(eo.LegacyRow,{styleOverride:{padding:"5px"}},i.a.createElement(eo.LegacyColumn,{size:3,styleOverride:{paddingTop:"10px"}},i.a.createElement("div",{className:"float-left"},i.a.createElement("span",null," ",e.header),i.a.createElement("span",null," ",e.mandatory?"*":""," ")),i.a.createElement("div",{className:"float-right"},":")),i.a.createElement(eo.LegacyColumn,{size:9,styleOverride:{paddingLeft:"10px"}},t===T.TEXTFIELD?i.a.createElement(eo.TextField,Je()({},a,{showValidCheck:!0===n[e.id]})):i.a.createElement(eo.Textarea,a)))}},{key:"renderForm",value:function(){return i.a.createElement(eo.LegacyGrid,null,this.renderItem(NE.granularIntent),this.renderItem(NE.rollupIntent))}},{key:"render",value:function(){var e=this.props.header,t=this.state.valid,n=(void 0===t?{}:t).intent;return i.a.createElement("div",null,i.a.createElement(eo.Dialog,{isOpen:!0,closeIconVisible:!0,onClickClose:this.onClickClose,okVisible:!0,okChildren:T.ADD,onClickOk:this.onClickAdd,okDisabled:!n,cancelChildren:T.CANCEL,onClickCancel:this.onClickClose,headerChildren:e,centerContent:!1,size:"medium",styleOverride:this.styleOverride},this.renderForm()))}}]),n}(o.Component);LE.defaultProps={header:"",validateData:function(){return!0},dispatch:function(){},onClickAdd:function(){}},LE.propTypes={dispatch:qr.a.func,header:qr.a.node,validateData:qr.a.func,onClickAdd:qr.a.func};var jE=n(443),PE=n.n(jE),wE=function(e,t){return null==e?void 0:e[t]},ME=function(){function e(){Qe()(this,e)}return $e()(e,null,[{key:"get",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return e.reduce(wE,t)||n}},{key:"isUndefinedOrNull",value:function(e){return null==e}},{key:"isEmptyOrNull",value:function(t){return e.isUndefinedOrNull(t)||""===t}},{key:"createNestedObject",value:function(e,t,n){var a=e,r=t.pop();return t.map((function(e){return a[e]=a[e]||{},a=a[e],0})),a[r]=n,a=a[r]}},{key:"removeEmpty",value:function(t){var n=t;return Object.keys(n).forEach((function(t){e.isEmptyOrNull(n[t])&&delete n[t]})),n}},{key:"removeSpecificKeys",value:function(e,t){var n=e;return t.map((function(e){return delete n[e]})),n}},{key:"jsonToObject",value:function(e,t){var n,a;if(e)try{a=JSON.parse(e)}catch(e){n=e}t(n,a)}},{key:"cleanObject",value:function(t){var n=Object.assign({},t);return Object.keys(n).forEach((function(t){n[t]&&"object"===Cu()(n[t])?e.cleanObject(n[t]):e.isUndefinedOrNull(n[t])&&delete n[t]})),n}},{key:"find",value:function(e,t,n){return e.find((function(e){return e.get(t)===n}))}},{key:"findIndex",value:function(e,t,n){return e.findIndex((function(e){return e.get(t)===n}))}}]),e}(),xE=function(e){var t=e.title,n=e.description,a=e.properties,r=e.formContext,o=!1,s=!1;r.rootSettings&&(o=ME.get(["rootSettings","title","hidden"],r,!1),s=ME.get(["rootSettings","description","hidden"],r,!1));var c=!ME.isEmptyOrNull(t)&&!o,l=!ME.isEmptyOrNull(n)&&!s;return i.a.createElement(eo.LegacyGrid,null,c||l?i.a.createElement(eo.LegacyRow,null,i.a.createElement(eo.LegacyColumn,{size:10},c&&i.a.createElement("div",{style:{color:"#333333",fontSize:"20px",lineHeight:"30px",fontWeight:"bold",marginBottom:"4px"}},t),l&&i.a.createElement("div",{style:{color:"#9B9B9B",fontSize:"15px",lineHeight:"21px",fontWeight:"normal"}},n))):null,i.a.createElement(eo.LegacyRow,null,a.map((function(e){return i.a.createElement(eo.LegacyColumn,{key:e.name,size:r[e.name]?r[e.name].size:12},e.content)}))))};xE.propTypes={title:qr.a.string,description:qr.a.string,properties:qr.a.array,formContext:qr.a.object},xE.defaultProps={title:"",description:"",properties:[],formContext:{}};var BE=xE,UE=function(e){var t=e.title,n=e.properties,a=e.formContext,r=!1;if(!ME.isEmptyOrNull(n))for(var o=0;o<n.length;o+=1){var s=n[o].name;if(!a[s]||a[s]&&!a[s].hidden){r=!1;break}r=!0}return r?null:i.a.createElement(eo.LegacyGrid,null,ME.isEmptyOrNull(t)?null:i.a.createElement(eo.LegacyRow,null,i.a.createElement(eo.LegacyColumn,{size:10},i.a.createElement("div",{style:{color:"#333333",fontSize:"14px",lineHeight:"24px",fontWeight:"bold",marginBottom:"15px",float:"left"}},t))),i.a.createElement(eo.LegacyRow,null,n?n.map((function(e){return i.a.createElement(eo.LegacyColumn,{key:e.name,size:a[e.name]?a[e.name].size:12},e.content)})):null))};UE.propTypes={title:qr.a.string,properties:qr.a.array,formContext:qr.a.object},UE.defaultProps={title:"",properties:[],formContext:{}};var GE=UE;function FE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var VE=function(e){at()(n,e);var t=FE(n);function n(e){var a;Qe()(this,n),(a=t.call(this,e)).schema=e.schema;var r=ME.isEmptyOrNull(e.formData)?a.schema.default:e.formData;return a.state={value:r,validationMessage:""},a.handleChange=a.handleChange.bind(tt()(a)),a}return $e()(n,[{key:"getLabel",value:function(){return i.a.createElement("div",{style:vc.label},this.schema.title)}},{key:"getField",value:function(){var e=this.state.validationMessage,t="";return e&&(t=e.slice(0,e.indexOf("("))),i.a.createElement(i.a.Fragment,null,i.a.createElement(eo.Textarea,{value:this.state.value,name:this.props.name,onChange:this.handleChange,placeholder:this.schema.placeholder,styleOverride:vc.field,minLength:this.schema.minLength,maxLength:this.schema.maxLength}),e&&i.a.createElement(Rc,{validationMessage:t}))}},{key:"handleChange",value:function(e){var t=e.target,n=t.value,a=t.validationMessage;this.setState({value:n,validationMessage:a}),this.props.onChange(n)}},{key:"render",value:function(){return i.a.createElement("div",{style:vc},this.getLabel(),this.getField())}}]),n}(o.Component);function HE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function qE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HE(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function WE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}VE.propTypes={name:qr.a.string,schema:qr.a.object.isRequired,formData:qr.a.string,onChange:qr.a.func.isRequired};var KE=function(e){at()(n,e);var t=WE(n);function n(e){var a;Qe()(this,n),(a=t.call(this,e)).schema=e.schema;var r=ME.isEmptyOrNull(e.formData)?a.schema.default:e.formData;return a.state={value:r,validationMessage:"",showError:!1},a.handleChange=a.handleChange.bind(tt()(a)),a}return $e()(n,[{key:"getLabel",value:function(){return i.a.createElement("div",{style:{paddingBottom:"5px"}},i.a.createElement("span",{style:Tc.label},this.schema.title),this.schema.optional&&i.a.createElement("span",{style:Tc.label.optionalField}," Optional"))}},{key:"getField",value:function(){var e=this.state,t=e.validationMessage,n=e.showError,a="";t&&(a=t.slice(0,t.indexOf("(")));var r=qE({},Tc.field);return n&&(r=qE(qE({},r),{},{input:{border:"1px solid #FF0000"}})),i.a.createElement("div",{style:{paddingBottom:"5px"}},i.a.createElement(eo.TextField,{name:this.props.name,onChange:this.handleChange,onFocus:this.handleChange,defaultValue:this.state.value,placeholder:this.schema.placeholder,styleOverride:r,minLength:this.schema.minLength,maxLength:this.schema.maxLength}),t&&i.a.createElement(Rc,{validationMessage:a}))}},{key:"handleChange",value:function(e){var t=e.target,n=t.value,a=t.validationMessage,r=this.props,o=r.schema,i=r.name,s=r.onChange;if(!si.checkField(n)&&n.length<=T.DATASET_NAME_SIZE_LIMIT&&n){var c=T.INVALID_ENTERED_NAME;this.setState({value:n,validationMessage:c,showError:!0}),s()}else if(n.length>=T.DATASET_NAME_SIZE_LIMIT){var l=T.VALIDATION_NAME_SIZE_MSG;this.setState({value:n,validationMessage:l,showError:!0}),s()}else if(n||a)this.setState({value:n,validationMessage:a,showError:!1}),s(n);else if(o.hasOwnProperty("isRequired")&&!n){var d=T.VALIDATION_MSG(i);this.setState({value:n,validationMessage:d,showError:!0}),s()}}},{key:"render",value:function(){return i.a.createElement("div",{style:Tc},this.getLabel(),this.getField())}}]),n}(o.Component);function zE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function YE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zE(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function JE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}KE.propTypes={name:qr.a.string,schema:qr.a.object.isRequired,formData:qr.a.string,onChange:qr.a.func},KE.defaultProps={onChange:function(){},name:"textfield"};var XE=function(e){at()(n,e);var t=JE(n);function n(e){var a;Qe()(this,n),(a=t.call(this,e)).schema=e.schema;var r=ME.isEmptyOrNull(e.formData)?a.schema.default:e.formData;return a.state={value:r,validationMessage:"",showError:!1},a.handleChange=a.handleChange.bind(tt()(a)),a.processResults=a.processResults.bind(tt()(a)),a.getDropDownStyle=a.getDropDownStyle.bind(tt()(a)),a}return $e()(n,[{key:"getDropDownStyle",value:function(){var e=this.state.showError,t=YE({},Ec.select);return e&&(t=YE(YE({},t),{},{border:"1px solid #FF0000"})),t}},{key:"processResults",value:function(e){var t=P.a.isNil(e)||P.a.isNil(e.body)?[]:e.body.sort();return i.a.createElement("select",{name:this.props.name,onChange:this.handleChange,onFocus:this.handleChange,value:this.state.value,style:this.getDropDownStyle()},this.props.defaultValue&&i.a.createElement("option",{value:this.props.defaultValue},this.props.defaultValue),t.map((function(e,t){return i.a.createElement("option",{key:e,value:e},e)})))}},{key:"getLabel",value:function(){return i.a.createElement("div",{style:Ec.label},this.schema.title)}},{key:"getField",value:function(){var e=this,t=this.state.validationMessage,n=this.props.url,a=zn(n),r="";return t&&(r=t.slice(0,t.indexOf("("))),i.a.createElement("div",{style:{paddingBottom:"5px"}},i.a.createElement(yl.a,{url:a,method:"get",accept:"application/json",verbose:!0},(function(t){var n=t.result;return t.loading?i.a.createElement("select",{style:e.getDropDownStyle(),onFocus:e.handleChange},e.props.defaultValue?i.a.createElement("option",{value:e.props.defaultValue},e.props.defaultValue):i.a.createElement("option",null,"loading..")):e.processResults(n)})),t&&i.a.createElement(Rc,{validationMessage:r}))}},{key:"handleChange",value:function(e){var t=e.target.value,n=this.props,a=n.schema;n.name;if(""!==t&&t!==T.CHOOSE_TYPE||!a.hasOwnProperty("isRequired"))""!==t&&t!==T.CHOOSE_TYPE&&(this.setState({value:t,validationMessage:"",showError:!1}),this.props.onChange(t));else{var r=a.title.toLowerCase(),o=T.VALIDATION_MSG(r);this.setState({value:t,validationMessage:o,showError:!0}),this.props.onChange()}}},{key:"render",value:function(){return i.a.createElement("div",{style:Ec},this.getLabel(),this.getField())}}]),n}(o.Component);XE.propTypes={name:qr.a.string,schema:qr.a.object.isRequired,formData:qr.a.string,onChange:qr.a.func};var QE={text:KE,textarea:VE,select:XE,noop:function(){return null}};function ZE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var $E=function(e){at()(n,e);var t=ZE(n);function n(e){var a;return Qe()(this,n),a=t.call(this,e),h()(tt()(a),"transformErrors",(function(e){return e.map((function(e){var t=e;return delete t.message,t}))})),a.submitButton=i.a.createRef(),a.props=e,a.state={componentMounted:!1,fields:QE},a.onSubmit=a.onSubmit.bind(tt()(a)),a.submit=a.submit.bind(tt()(a)),a.onChange=a.onChange.bind(tt()(a)),a.objectFieldTemplate=a.objectFieldTemplate.bind(tt()(a)),a}return $e()(n,[{key:"componentDidMount",value:function(){this.setState({componentMounted:!0})}},{key:"onSubmit",value:function(e){var t=e.formData;this.props.onSubmit(t)}},{key:"onChange",value:function(e){var t=e.formData,n=e.errors;this.state.componentMounted&&this.props.onChange(t,n)}},{key:"objectFieldTemplate",value:function(e){var t=e.idSchema,n=e.title,a=e.description,r=e.properties,o=e.formContext;return"root"===t.$id?i.a.createElement(BE,{title:n,description:a,properties:r,formContext:o}):i.a.createElement(GE,{title:n,properties:r,formContext:o})}},{key:"submit",value:function(){this.submitButton.current.click()}},{key:"render",value:function(){var e=this.props,t=e.uiSchema,n=e.jsonSchema,a=e.liveValidate,r=e.formContext,o=e.showErrorList,s=e.formData;return i.a.createElement(PE.a,{schema:n,uiSchema:t,className:"form-group",onChange:this.onChange,onSubmit:this.onSubmit,fields:this.props.fields,ObjectFieldTemplate:this.objectFieldTemplate,formContext:r,formData:s,showErrorList:o,liveValidate:a,transformErrors:this.transformErrors},i.a.createElement("div",null,i.a.createElement("button",{type:"submit",ref:this.submitButton,style:{display:"none"}},"Submit")))}}]),n}(o.PureComponent);$E.propTypes={formData:qr.a.object,formContext:qr.a.object,showErrorList:qr.a.bool,onSubmit:qr.a.func,uiSchema:qr.a.object.isRequired,jsonSchema:qr.a.object.isRequired,onChange:qr.a.func,liveValidate:qr.a.bool},$E.defaultProps={onChange:function(){},formData:{},formContext:{},onSubmit:function(){},showErrorList:!1,liveValidate:!1};var ev=n(705),tv=n(706),nv=["header","size","formData"];function av(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function rv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?av(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):av(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ov(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var iv=function(e){at()(n,e);var t=ov(n);function n(e){var a;return Qe()(this,n),(a=t.call(this,e)).form=i.a.createRef(),a.props=e,a.onClickNext=a.onClickNext.bind(tt()(a)),a.onClickCancel=a.onClickCancel.bind(tt()(a)),a.onSubmit=a.onSubmit.bind(tt()(a)),a.onFormChange=a.onFormChange.bind(tt()(a)),a.styleOverride=Object.assign({},{childContainer:{marginTop:"0px",marginBottom:"0px"},container:{width:"446px",height:"460px",display:"grid",gridTemplateRows:"60px auto 60px"}},a.props.styleOverride),a.state={formData:{},isValid:!1},a.fields={text:KE,locale:function(e){return i.a.createElement(XE,Je()({},e,{url:Nn}))},vertical:function(e){return i.a.createElement(XE,Je()({},e,{url:Ln}))}},a}return $e()(n,[{key:"onClickNext",value:function(){this.form.current.submit()}},{key:"onClickCancel",value:function(){(0,this.props.dispatch)(rr(null))}},{key:"onSubmit",value:function(){var e=this.state.formData,t=this.props,n=t.dispatch,a=t.clientId,r={clientId:a,history:t.history,values:rv({clientId:a},e)};n(ps(r))}},{key:"onFormChange",value:function(e,t){0===t.length?this.setState({formData:e,isValid:!0}):t.length>0&&this.setState({isValid:!1})}},{key:"render",value:function(){var e=this.props,t=e.header,n=e.size,a=e.formData,r=Ie()(e,nv),o=this.state.isValid;return i.a.createElement("div",null,i.a.createElement(eo.Dialog,Je()({size:n,headerChildren:t},r,{isOpen:!0,okDisabled:!o,showBodySeperator:!1,okVisible:!0,okChildren:T.NEXT,cancelVisible:!0,cancelChildren:T.CANCEL,closeIconVisible:!0,styleOverride:this.styleOverride,onClickOk:this.onClickNext,onClickCancel:this.onClickCancel,onClickClose:this.onClickCancel,centerContent:!1}),i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement($E,{uiSchema:ev,jsonSchema:tv,fields:this.fields,onSubmit:this.onSubmit,onChange:this.onFormChange,formData:a,ref:this.form,liveValidate:!0})))))}}]),n}(o.Component);iv.propTypes={dispatch:qr.a.func,history:qr.a.object,header:qr.a.string,closeIconVisible:qr.a.bool,onClickOk:qr.a.func,onClickClose:qr.a.func,styleOverride:qr.a.object,size:qr.a.string,formData:qr.a.object,errorType:qr.a.string},iv.defaultProps={dispatch:function(){},history:{},closeIconVisible:!0,onClickOk:function(){},onClickClose:function(){},styleOverride:{},size:"large",formData:{},errorType:"",header:T.CREATE_MODEL};n(596);var sv=n(707),cv=n(708),lv=n(709),dv=n(710),uv=["height","width","fill"],pv=function(e){var t=e.height,n=e.width,a=e.fill,r=Ie()(e,uv);return i.a.createElement("svg",Je()({width:n,height:t,viewBox:"0 0 49 49"},r),i.a.createElement("g",{fill:a,fillRule:"nonzero"},i.a.createElement("path",{d:"M48.487 22.1a.986.986 0 0 0-.053-.263c-.011-.032-.019-.063-.033-.094a.955.955 0 0 0-.193-.284l-.001-.001-5.707-5.693v-5.571c0-.022-.011-.041-.013-.063a1.023 1.023 0 0 0-.051-.256c-.011-.032-.019-.063-.034-.094a.994.994 0 0 0-.196-.292l-9-8.976a.97.97 0 0 0-.294-.196c-.03-.014-.06-.022-.091-.032a.94.94 0 0 0-.263-.052C32.539.23 32.521.22 32.5.22h-25c-.552 0-1 .447-1 .998v14.547L.793 21.457l-.002.002a.977.977 0 0 0-.192.284c-.014.03-.022.062-.033.094a.948.948 0 0 0-.053.263c-.002.022-.013.04-.013.062v18.95c0 .55.448.996 1 .996h5v4.987c0 .55.448.997 1 .997h34c.552 0 1-.446 1-.997v-4.987h5c.552 0 1-.446 1-.997v-18.95c0-.021-.011-.04-.013-.061zm-3.401-.936H42.5v-2.579l2.586 2.58zm-6-11.968H33.5v-5.57l5.586 5.57zM8.5 2.216h23v7.978c0 .55.448.997 1 .997h8V21.164h-32V2.215zm-2 16.37v2.578H3.914L6.5 18.585zm34 27.512h-32v-3.99h32v3.99zm6-5.984h-44V23.159h44v16.955z"}),i.a.createElement("path",{d:"M23.922 28.031c.147-.136.312-.234.493-.297.181-.062.368-.093.561-.093.669 0 1.224.265 1.666.797l1.122-1.458a3.164 3.164 0 0 0-1.215-.874c-.482-.197-1.028-.296-1.64-.296-.419 0-.833.07-1.241.211a3.145 3.145 0 0 0-1.097.654 3.276 3.276 0 0 0-.782 1.11c-.198.447-.298.981-.298 1.602 0 .498.065.924.195 1.28.13.357.306.667.527.933.221.266.476.494.765.687.289.192.598.367.927.525.521.26.952.543 1.292.848.34.305.51.718.51 1.238 0 .531-.142.943-.425 1.237-.283.295-.64.441-1.071.441-.385 0-.762-.09-1.131-.271a2.816 2.816 0 0 1-.944-.746l-1.105 1.492c.34.396.793.723 1.36.983.567.26 1.184.39 1.853.39.465 0 .907-.078 1.326-.237a3.077 3.077 0 0 0 1.097-.704 3.45 3.45 0 0 0 .748-1.144c.187-.452.281-.973.281-1.56 0-.509-.079-.95-.238-1.322a3.366 3.366 0 0 0-.612-.967 4.063 4.063 0 0 0-.833-.695 10.331 10.331 0 0 0-.901-.509c-.499-.248-.901-.511-1.207-.788-.306-.277-.459-.67-.459-1.178 0-.295.042-.549.128-.763.085-.215.201-.39.348-.526zM15.677 28.998c.204-.396.459-.71.765-.942a1.726 1.726 0 0 1 1.071-.347c.737 0 1.337.333 1.802 1l1.173-1.424a3.282 3.282 0 0 0-1.275-1.094c-.521-.254-1.128-.38-1.819-.38-.669 0-1.278.155-1.828.465a4.224 4.224 0 0 0-1.403 1.305c-.385.56-.683 1.227-.892 2.001a9.67 9.67 0 0 0-.314 2.535c0 .916.105 1.757.314 2.526.209.77.504 1.433.884 1.992.38.56.844.998 1.394 1.315.55.316 1.165.474 1.845.474.748 0 1.368-.146 1.861-.44a3.757 3.757 0 0 0 1.215-1.153l-1.173-1.374a2.76 2.76 0 0 1-.722.746 1.738 1.738 0 0 1-1.028.305c-.419 0-.785-.115-1.097-.348a2.674 2.674 0 0 1-.774-.94 5.103 5.103 0 0 1-.459-1.4 9.11 9.11 0 0 1-.153-1.703c0-.61.051-1.184.153-1.721a5.175 5.175 0 0 1 .46-1.398zM32.507 35.745h-.051l-2.006-9.63h-2.278l2.941 12.004h2.584l2.992-12.004h-2.176z"})))};pv.defaultProps={height:49,width:49,fill:"#9B9B9B"},pv.propTypes={height:qr.a.number,width:qr.a.number,fill:qr.a.string};var hv=pv;function fv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var gv=function(e){at()(n,e);var t=fv(n);function n(e){var a;return Qe()(this,n),(a=t.call(this,e)).state={value:""},a.saveFile=a.saveFile.bind(tt()(a)),a.onClickDatasetTemplate=a.onClickDatasetTemplate.bind(tt()(a)),a}return $e()(n,[{key:"getField",value:function(){return i.a.createElement(hc,{accept:"text/csv, application/vnd.ms-excel, .csv",icon:hv,acceptedIcon:eo.Doc,multiple:!1,saveFile:this.saveFile})}},{key:"onClickDatasetTemplate",value:function(){var e=Kn(_n);document.location=e}},{key:"getLabel",value:function(){return i.a.createElement("div",{style:jo.container},i.a.createElement("span",{style:jo.label},"Upload Dataset"),i.a.createElement("div",{style:jo.link},i.a.createElement("span",{style:jo.link.icon},i.a.createElement(eo.Download,{width:"10px",height:"13px",fill:"#004c97"})),i.a.createElement("div",{style:jo.link.label,onClick:this.onClickDatasetTemplate}," Download Template ")))}},{key:"saveFile",value:function(e){var t=e[0];this.props.onChange(t)}},{key:"render",value:function(){return i.a.createElement("div",{style:Ec},this.getLabel(),this.getField())}}]),n}(o.Component);gv.propTypes={onChange:qr.a.func};var mv=["header","size","formData","errorType","userFeatureConfiguration"];function Sv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ev(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sv(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}var Tv=function(e){at()(n,e);var t=vv(n);function n(e){var a;return Qe()(this,n),(a=t.call(this,e)).form=i.a.createRef(),a.props=e,a.onClickNext=a.onClickNext.bind(tt()(a)),a.onClickCancel=a.onClickCancel.bind(tt()(a)),a.onSubmit=a.onSubmit.bind(tt()(a)),a.onFormChange=a.onFormChange.bind(tt()(a)),a.styleOverride=Object.assign({},{childContainer:{marginTop:"0px",marginBottom:"0px"},container:{width:"446px",height:"460px",display:"grid",gridTemplateRows:"60px auto 60px"}},a.props.styleOverride),a.state={formData:{},isValid:!1,datasetFile:null},a.fields={text:KE,select:function(e){return i.a.createElement(XE,Je()({},e,{url:jn,defaultValue:T.CHOOSE_TYPE}))},dropZone:function(e){return i.a.createElement(gv,e)}},a}return $e()(n,[{key:"onClickNext",value:function(){this.form.current.submit()}},{key:"onClickCancel",value:function(){(0,this.props.dispatch)(rr(null))}},{key:"onSubmit",value:function(){var e=this.state.formData,t=this.props,n=t.dispatch,a=t.project,r=t.userFeatureConfiguration,o=a.id,i=a.clientId,s=a.locale,c=sc,l=Ev(Ev({},e),{},{projectId:o,clientId:i,locale:s});lc(c.datasetType,r)||(l=Ev(Ev({},l),{},{dataType:"Chat/Text"})),n(hl(l))}},{key:"onFormChange",value:function(e,t){0===t.length&&0!==Object.entries(e.dropZone).length?this.setState({formData:e,isValid:!0}):t.length>0&&this.setState({isValid:!1})}},{key:"render",value:function(){var e=this.props,t=e.header,n=e.size,a=e.formData,r=(e.errorType,e.userFeatureConfiguration),o=Ie()(e,mv),s=this.state.isValid,c=sc;return i.a.createElement("div",null,i.a.createElement(eo.Dialog,Je()({size:n,headerChildren:t},o,{isOpen:!0,showBodySeperator:!1,okVisible:!0,okDisabled:!s,okChildren:T.NEXT,cancelVisible:!0,cancelChildren:T.CANCEL,closeIconVisible:!0,styleOverride:this.styleOverride,onClickOk:this.onClickNext,onClickCancel:this.onClickCancel,onClickClose:this.onClickCancel,centerContent:!1}),i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement($E,{uiSchema:lc(c.datasetType,r)?sv:cv,jsonSchema:lc(c.datasetType,r)?lv:dv,fields:this.fields,onSubmit:this.onSubmit,onChange:this.onFormChange,formData:a,ref:this.form,liveValidate:!0})))))}}]),n}(o.Component);function yv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function bv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yv(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}Tv.propTypes={dispatch:qr.a.func,project:qr.a.object,header:qr.a.string,closeIconVisible:qr.a.bool,onClickOk:qr.a.func,onClickClose:qr.a.func,styleOverride:qr.a.object,size:qr.a.string,formData:qr.a.object,errorType:qr.a.string,userFeatureConfiguration:qr.a.object},Tv.defaultProps={dispatch:function(){},project:{},closeIconVisible:!0,onClickOk:function(){},onClickClose:function(){},styleOverride:{},size:"large",formData:{},errorType:"",header:T.CREATE_MODEL,userFeatureConfiguration:{}};var Iv=function(e){at()(n,e);var t=Cv(n);function n(e){var a;return Qe()(this,n),(a=t.call(this,e)).props=e,a.onClickClose=a.onClickClose.bind(tt()(a)),a.onClickCheckbox=a.onClickCheckbox.bind(tt()(a)),a.getSelectors=a.getSelectors.bind(tt()(a)),a.styleOverride={childContainer:{margin:"5px 30px auto"}},a.state={modifiedData:{}},a}return $e()(n,[{key:"componentDidMount",value:function(){var e=this.props.localStorageKey,t={};if(e){try{t=JSON.parse(localStorage.getItem(e))||{}}catch(e){}t=Object.assign({},t),this.setState({modifiedData:t})}}},{key:"onClickClose",value:function(){(0,this.props.dispatch)(rr(null))}},{key:"onClickCheckbox",value:function(e){var t=this.props,n=t.handler,a=t.localStorageKey,r=e.value,o={};o=Object.assign({},o,h()({},r,{visible:!e.checked}));var i={};try{i=JSON.parse(localStorage.getItem(a))||{}}catch(e){}o=Object.assign({},h()({},r,bv(bv({},i[r]),o[r])));var s=Object.assign({},i,o);localStorage.setItem(a,JSON.stringify(s)),this.setState({modifiedData:s}),n()}},{key:"getSelectors",value:function(){var e,t=this,n=this.props.columnData,a=this.state.modifiedData;return n&&(e=Object.keys(n).map((function(e){return i.a.createElement(eo.Checkbox,{key:n[e].id,checked:!(Object.entries(a).length>0&&a.hasOwnProperty(n[e].id))||!a[n[e].id].visible,value:n[e].id,label:n[e].header,disabled:!1,onChange:function(e){return t.onClickCheckbox(e.target)}})}))),e}},{key:"render",value:function(){var e=this.props.header;return i.a.createElement("div",null,i.a.createElement(eo.Dialog,{size:"small",isOpen:!0,closeIconVisible:!0,onClickClose:this.onClickClose,headerChildren:e,showFooter:!1,centerContent:!0,styleOverride:this.styleOverride},this.getSelectors()))}}]),n}(o.Component);function Ov(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Rv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=st()(e);if(t){var r=st()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ot()(this,n)}}Iv.defaultProps={dispatch:function(){},columnData:{},header:"",localStorageKey:""},Iv.propTypes={dispatch:qr.a.func.isRequired,columnData:qr.a.object.isRequired,header:qr.a.string,localStorageKey:qr.a.string};var kv=function(e){at()(n,e);var t=Rv(n);function n(e){var a;Qe()(this,n),(a=t.call(this,e)).props=e,a.events=["load","mousemove","click","keypress"],a.setActiveTime=a.setActiveTime.bind(tt()(a)),a.pingBackend=a.pingBackend.bind(tt()(a)),a.sessionTimeoutWarning=a.sessionTimeoutWarning.bind(tt()(a)),a.logout=a.logout.bind(tt()(a)),a.resetTimeout=a.resetTimeout.bind(tt()(a)),a.resetLogoutTimeout=a.resetLogoutTimeout.bind(tt()(a)),a.events.forEach((function(e){window.addEventListener(e,a.resetTimeout)})),a.setTimeout(),a.setActiveTime(),a.handleEscapeKey=a.handleEscapeKey.bind(tt()(a));var r=lt.a.load("userName"),o=lt.a.load("userId"),i=lt.a.load("userDetails"),s=lt.a.load("ITS_GROUP");return s===T.ITS_GROUP&&a.props.dispatch(or(h()({},s,s))),document.title=T.DOCUMENT_TITLE_EC,a.props.dispatch(function(e,t,n){return{type:"LOGIN_INFO",value:{userId:e,userName:t,userDetails:n}}}(o,r,i)),a.props.dispatch(function(e){return function(t,n){var a=zn(mt);ta({fetchUrl:a,fetchMethod:"get",onFetchSuccess:dr,dispatch:t,getState:n,params:{userId:e}})}}(o)),window.MediaRecorder=eE.a,a}return $e()(n,[{key:"componentDidMount",value:function(){var e,t,n=this.props,a=n.dispatch,r=n.app,o=n.routeClientId,i=n.routeAppId;r.userId,r.csrfToken;a((e=o,t=i,function(n,a){var r=zn(gt,{itsClientId:e,itsAppId:t});ta({fetchUrl:r,fetchMethod:"get",onFetchSuccess:Gr,onFetchFailure:Fr,dispatch:n,getState:a})})),a(function(e,t){return function(e){return pt()(Ur,{credentials:"same-origin",headers:{"X-CSRF-TOKEN":t}}).then(Pr.handleErrors).then((function(e){return e.json()})).then((function(t){e({type:"VERSION_INFO",versionInfo:t})})).catch((function(t){return Pr.handleErrors(t,e,er)}))}}()),a((function(e,t){e({type:"APP_CONFIG_REQUEST"});var n=zn(Pn);Za.get({url:n,onApiSuccess:QS,onApiError:ZS,dispatch:e,getState:t})})),document.addEventListener("keydown",this.handleEscapeKey,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleEscapeKey,!1)}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){this.warnTimeout&&clearTimeout(this.warnTimeout)}))},{key:"setTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=this.props.app.logoutWarningTimeout;this.warnTimeout=setTimeout(this.sessionTimeoutWarning,e)}))},{key:"setActiveTime",value:function(){var e=this.props.app,t=e.logoutWarningTimeout-e.logoutTimeout;this.activeTime=setTimeout(this.pingBackend,t)}},{key:"pingBackend",value:function(){$a(T.SESSION_TIMEOUT_PING_BACKEND,T.LOG_LEVEL_INFO),this.activeTime&&clearTimeout(this.activeTime),this.setActiveTime()}},{key:"resetTimeout",value:function(){this.clearTimeout(),this.setTimeout()}},{key:"resetLogoutTimeout",value:function(){this.clearTimeout(),this.setTimeout(),$a(T.SESSION_TIMEOUT_WARNING_LOG_MESSAGE,T.LOG_LEVEL_INFO),this.logoutTimeout&&clearTimeout(this.logoutTimeout)}},{key:"sessionTimeoutWarning",value:function(){var e=this,t=this.props.app.logoutTimeout;this.logoutTimeout=setTimeout(this.logout,t);var n=this.props.dispatch,a=T.SESSION_TIMEOUT_WARNING_HEADER,r=T.SESSION_TIMEOUT_WARNING_MESSAGE;n(rr({header:a,dispatch:n,message:r,showSpinner:!1,okVisible:!0,cancelVisible:!1,closeIconVisible:!1,showHeader:!0,showFooter:!0,type:T.DIALOGS.PROGRESS_DIALOG,okChildren:T.SESSION_TIMEOUT_LOGOUT_DIALOG_BUTTON,onOk:function(){e.resetLogoutTimeout(),n(rr(null))},styleOverride:{childContainer:{marginLeft:"30px",marginRight:"30px"},content:{top:"160px"}}}))}},{key:"logout",value:function(){var e=this.props.dispatch;this.destroy(),$a(T.SESSION_TIMEOUT_LOGOUT_LOG_MESSAGE,T.LOG_LEVEL_INFO),e(ur())}},{key:"destroy",value:function(){var e=this;this.clearTimeout(),this.events.forEach((function(t){window.addEventListener(t,e.resetTimeout)}))}},{key:"handleEscapeKey",value:function(e){27===e.keyCode&&(e.preventDefault(),(0,this.props.dispatch)(rr(null)))}},{key:"getContextMenu",value:function(){var e=this.props.app.contextMenuState;if(!e)return null;switch(e.type){case"TaggerCascadeMenu":default:return i.a.createElement(zr,{top:e.top,left:e.left},i.a.createElement($r,{items:e.items,className:e.className||void 0}))}}},{key:"getModalDialog",value:function(){var e=this.props.app.modalDialogState,t=this.props,n=t.history,a=t.userFeatureConfiguration;t.dispatch;if(!e)return null;var r=T.DIALOGS;switch((e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ov(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ov(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({history:n},e)).type){case r.SIMPLE_DIALOG:return i.a.createElement(io,e);case r.DELETE_DIALOG:return i.a.createElement(hE,e);case r.PROGRESS_DIALOG:return i.a.createElement(Wo,e);case r.IMPORT_TAGGING_GUIDE:return i.a.createElement($c,e);case r.CREATE_DATASET:return i.a.createElement(Pl,e);case r.UNAUTHORIZED_USER:return i.a.createElement(Xo,e);case r.ADD_SPEECH:return i.a.createElement(wc,e);case r.ADD_COMBINED_SPEECH:return i.a.createElement(Uc,e);case r.LINK_DIALOG:return i.a.createElement(Yo,e);case r.PROMOTE_DIALOG:return i.a.createElement(mE,e);case r.CREATE_VERSION_DIALOG:return i.a.createElement(nE,e);case r.COLUMNSELECTOR_DIALOG:return i.a.createElement(Iv,e);case r.RECORD_SPEECH:return i.a.createElement(OE,e);case r.ADD_INTENT:return i.a.createElement(LE,e);case r.CREATE_MODEL_DIALOG:return i.a.createElement(iv,e);case r.DATASET_DIALOG:return i.a.createElement(Tv,Je()({},e,{userFeatureConfiguration:a}));case r.DATASET_COLUMN_MAPPING_DIALOG:return i.a.createElement(kE,e)}return null}},{key:"render",value:function(){var e=this.props.environment,t="".concat("");return i.a.createElement(xl,null,i.a.createElement("div",null,i.a.createElement(wl.a,null,i.a.createElement(XS,{path:"".concat(t).concat(Ia),layout:WS,component:uu}),e!==T.ENVIRONMENTS.PRODUCTION?i.a.createElement(XS,{path:"".concat(t).concat(Oa),layout:WS,component:dE}):null,i.a.createElement(XS,{path:"".concat(t).concat(xa),layout:WS,component:Rh}),i.a.createElement(XS,{exact:!0,path:"".concat(t).concat(_a),layout:WS,component:Vg}),i.a.createElement(XS,{exact:!0,path:"".concat(t).concat(Na),layout:WS,component:Vg}),i.a.createElement(XS,{exact:!0,path:"".concat(t).concat(La),layout:WS,component:Vg}),i.a.createElement(XS,{exact:!0,path:"".concat(t).concat(Aa),layout:WS,component:em}),i.a.createElement(XS,{exact:!0,path:"".concat(t).concat(Pa),layout:WS,component:em}),i.a.createElement(XS,{exact:!0,path:"".concat(t).concat(ja),layout:WS,component:em}),i.a.createElement(XS,{exact:!0,path:"".concat(t).concat(wa),layout:WS,component:rS}),i.a.createElement(XS,{exact:!0,path:"".concat(t).concat(Ma),layout:WS,component:rS}),i.a.createElement(XS,{exact:!0,path:"".concat(t).concat(Ba),layout:WS,component:Cp}),i.a.createElement(XS,{exact:!0,path:"".concat(t).concat(ka),layout:FS,component:gp}),i.a.createElement(XS,{exact:!0,path:"".concat(t).concat(Da),layout:FS,component:gp}),i.a.createElement(XS,{exact:!0,path:"".concat(t).concat(Ua),layout:FS,component:gp}),i.a.createElement(XS,{exact:!0,path:"".concat(t).concat(Ga),layout:FS,component:gp}),i.a.createElement(XS,{exact:!0,path:"".concat(t).concat(Ra),layout:FS,component:gp}),i.a.createElement(XS,{exact:!0,path:"".concat(t).concat(Fa),layout:YS,component:Mp}),i.a.createElement(XS,{exact:!0,path:"".concat(t),layout:FS,component:gp})),this.getContextMenu(),this.getModalDialog()))}}]),n}(o.Component),Dv=Object(l.connect)((function(e,t){var n=new dt.a(t.location.search),a=n.get("clientid"),r=n.get("appid");return{app:e.app,header:e.header,environment:e.app.environment,userFeatureConfiguration:e.app.userFeatureConfiguration,routeClientId:a,routeAppId:r}}),(function(e){return{dispatch:e}}))(kv);c.a.render(i.a.createElement(l.Provider,{store:ze},i.a.createElement(d.a,null,i.a.createElement(u.a,{path:"/",component:Dv}))),document.getElementById("app"))},249:function(e,t,n){"use strict";(function(e){var n={env:(e&&e.env,"production"),lang:e&&e.env&&e.env.lang?e.env.lang:"english"};t.a=n}).call(this,n(191))},647:function(e){e.exports={urlTransforms:[{name:"Standard Date",url:"",content:"DateTransformation"},{name:"Standard Address",url:"",content:"AddressTransformation"}]}},705:function(e){e.exports={name:{"ui:field":"text"},description:{"ui:field":"text"},vertical:{"ui:field":"vertical"},locale:{"ui:field":"locale"}}},706:function(e){e.exports={title:"",type:"object",required:["name"],properties:{name:{type:"string",title:"Name",isRequired:!0},description:{type:"string",title:"Description",optional:!0},vertical:{type:"string",title:"Vertical",default:"FINANCIAL"},locale:{type:"string",title:"Locale",default:"en-US"}}}},707:function(e){e.exports={name:{"ui:field":"text"},description:{"ui:field":"text"},dataType:{"ui:field":"select"},dropZone:{"ui:field":"dropZone"}}},708:function(e){e.exports={name:{"ui:field":"text"},description:{"ui:field":"text"},dropZone:{"ui:field":"dropZone"}}},709:function(e){e.exports={title:"",type:"object",required:["name","dropZone","dataType"],properties:{name:{type:"string",title:"Name",isRequired:!0},description:{type:"string",title:"Description",optional:!0},dataType:{type:"string",title:"Type",isRequired:!0},dropZone:{type:"object",minLength:1}}}},710:function(e){e.exports={title:"",type:"object",required:["name","dropZone"],properties:{name:{type:"string",title:"Name",isRequired:!0},description:{type:"string",title:"Description",optional:!0},dropZone:{type:"object",minLength:1}}}}});